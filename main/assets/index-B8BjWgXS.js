(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const $r=!1;var Ur=Array.isArray,gs=Array.prototype.indexOf,bt=Array.prototype.includes,ur=Array.from,Wr=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,Tn=Object.getOwnPropertyDescriptors,ys=Object.prototype,_s=Array.prototype,Gr=Object.getPrototypeOf,dn=Object.isExtensible;const yt=()=>{};function bs(t){return t()}function Pr(t){for(var e=0;e<t.length;e++)t[e]()}function On(){var t,e,r=new Promise((i,s)=>{t=i,e=s});return{promise:r,resolve:t,reject:e}}const Z=2,ir=4,Ut=8,Vr=1<<24,Ie=16,Se=32,ut=64,Hr=128,ge=512,U=1024,ee=2048,be=4096,de=8192,Me=16384,fr=32768,wt=65536,pn=1<<17,qn=1<<18,St=1<<19,zn=1<<20,Ve=1<<25,st=32768,Fr=1<<21,Yr=1<<22,He=1<<23,De=Symbol("$state"),Rn=Symbol("legacy props"),ws=Symbol(""),mt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},cr=3,ft=8;function jn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function ks(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function xs(t,e,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Es(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function $s(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ps(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Fs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ss(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ns(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function As(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ls(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Cs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ts(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Os=1,qs=2,zs=16,Rs=1,js=2,Mn=4,Ms=8,Ds=16,Is=1,Bs=2,Kr="[",dr="[!",Jr="]",ot={},H=Symbol(),Us="http://www.w3.org/1999/xhtml",Ws="@attach";function Wt(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function Gs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Vs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let E=!1;function $e(t){E=t}let N;function re(t){if(t===null)throw Wt(),ot;return N=t}function at(){return re(Ne(N))}function S(t){if(E){if(Ne(N)!==null)throw Wt(),ot;N=t}}function Dn(t=1){if(E){for(var e=t,r=N;e--;)r=Ne(r);N=r}}function sr(t=!0){for(var e=0,r=N;;){if(r.nodeType===ft){var i=r.data;if(i===Jr){if(e===0)return r;e-=1}else(i===Kr||i===dr||i[0]==="["&&!isNaN(Number(i.slice(1))))&&(e+=1)}var s=Ne(r);t&&r.remove(),r=s}}function In(t){if(!t||t.nodeType!==ft)throw Wt(),ot;return t.data}function Bn(t){return t===this.v}function Un(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Wn(t){return!Un(t,this.v)}let Nt=!1,Hs=!1;function Ys(){Nt=!0}let I=null;function kt(t){I=t}function W(t,e=!1,r){I={p:I,i:!1,c:null,e:null,s:t,x:null,l:Nt&&!e?{s:null,u:null,$:[]}:null}}function G(t){var e=I,r=e.e;if(r!==null){e.e=null;for(var i of r)fi(i)}return t!==void 0&&(e.x=t),e.i=!0,I=e.p,t??{}}function Gt(){return!Nt||I!==null&&I.l===null}let et=[];function Gn(){var t=et;et=[],Pr(t)}function Ce(t){if(et.length===0&&!Mt){var e=et;queueMicrotask(()=>{e===et&&Gn()})}et.push(t)}function Ks(){for(;et.length>0;)Gn()}function Vn(t){var e=A;if(e===null)return L.f|=He,t;if((e.f&fr)===0){if((e.f&Hr)===0)throw t;e.b.error(t)}else xt(t,e)}function xt(t,e){for(;e!==null;){if((e.f&Hr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const Js=-7169;function B(t,e){t.f=t.f&Js|e}function Xr(t){(t.f&ge)!==0||t.deps===null?B(t,U):B(t,be)}function Hn(t){if(t!==null)for(const e of t)(e.f&Z)===0||(e.f&st)===0||(e.f^=st,Hn(e.deps))}function Yn(t,e,r){(t.f&ee)!==0?e.add(t):(t.f&be)!==0&&r.add(t),Hn(t.deps),B(t,U)}const Kt=new Set;let D=null,Ee=null,ne=[],pr=null,Sr=!1,Mt=!1;class Ye{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#o=0;#a=null;#i=new Set;#n=new Set;#s=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#o>0}skip_effect(e){this.#s.has(e)||this.#s.set(e,{d:[],m:[]})}unskip_effect(e){var r=this.#s.get(e);if(r){this.#s.delete(e);for(var i of r.d)B(i,ee),Pe(i);for(i of r.m)B(i,be),Pe(i)}}process(e){ne=[],this.apply();var r=[],i=[];for(const s of e)this.#u(s,r,i);if(this.is_deferred()){this.#c(i),this.#c(r);for(const[s,a]of this.#s)Qn(s,a)}else{for(const s of this.#e)s();this.#e.clear(),this.#r===0&&this.#f(),D=null,hn(i),hn(r),this.#a?.resolve()}Ee=null}#u(e,r,i){e.f^=U;for(var s=e.first,a=null;s!==null;){var n=s.f,o=(n&(Se|ut))!==0,p=o&&(n&U)!==0,u=p||(n&de)!==0||this.#s.has(s);if(!u&&s.fn!==null){o?s.f^=U:a!==null&&(n&(ir|Ut|Vr))!==0?a.b.defer_effect(s):(n&ir)!==0?r.push(s):At(s)&&((n&Ie)!==0&&this.#n.add(s),$t(s));var f=s.first;if(f!==null){s=f;continue}}var c=s.parent;for(s=s.next;s===null&&c!==null;)c===a&&(a=null),s=c.next,c=c.parent}}#c(e){for(var r=0;r<e.length;r+=1)Yn(e[r],this.#i,this.#n)}capture(e,r){r!==H&&!this.previous.has(e)&&this.previous.set(e,r),(e.f&He)===0&&(this.current.set(e,e.v),Ee?.set(e,e.v))}activate(){D=this,this.apply()}deactivate(){D===this&&(D=null,Ee=null)}flush(){if(this.activate(),ne.length>0){if(Kn(),D!==null&&D!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#f(){if(Kt.size>1){this.previous.clear();var e=Ee,r=!0;for(const s of Kt){if(s===this){r=!1;continue}const a=[];for(const[o,p]of this.current){if(s.current.has(o))if(r&&p!==s.current.get(o))s.current.set(o,p);else continue;a.push(o)}if(a.length===0)continue;const n=[...s.current.keys()].filter(o=>!this.current.has(o));if(n.length>0){var i=ne;ne=[];const o=new Set,p=new Map;for(const u of a)Jn(u,n,o,p);if(ne.length>0){D=s,s.apply();for(const u of ne)s.#u(u,[],[]);s.deactivate()}ne=i}}D=null,Ee=e}this.committed=!0,Kt.delete(this)}increment(e){this.#r+=1,e&&(this.#o+=1)}decrement(e){this.#r-=1,e&&(this.#o-=1),!this.#l&&(this.#l=!0,Ce(()=>{this.#l=!1,this.is_deferred()?ne.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#i)this.#n.delete(e),B(e,ee),Pe(e);for(const e of this.#n)B(e,be),Pe(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#a??=On()).promise}static ensure(){if(D===null){const e=D=new Ye;Kt.add(D),Mt||Ce(()=>{D===e&&e.flush()})}return D}apply(){}}function ae(t){var e=Mt;Mt=!0;try{for(var r;;){if(Ks(),ne.length===0&&(D?.flush(),ne.length===0))return pr=null,r;Kn()}}finally{Mt=e}}function Kn(){Sr=!0;var t=null;try{for(var e=0;ne.length>0;){var r=Ye.ensure();if(e++>1e3){var i,s;Xs()}r.process(ne),Ke.clear()}}finally{ne=[],Sr=!1,pr=null}}function Xs(){try{Fs()}catch(t){xt(t,pr)}}let je=null;function hn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&(Me|de))===0&&At(i)&&(je=new Set,$t(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?mi(i):i.fn=null),je?.size>0)){Ke.clear();for(const s of je){if((s.f&(Me|de))!==0)continue;const a=[s];let n=s.parent;for(;n!==null;)je.has(n)&&(je.delete(n),a.push(n)),n=n.parent;for(let o=a.length-1;o>=0;o--){const p=a[o];(p.f&(Me|de))===0&&$t(p)}}je.clear()}}je=null}}function Jn(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const s of t.reactions){const a=s.f;(a&Z)!==0?Jn(s,e,r,i):(a&(Yr|Ie))!==0&&(a&ee)===0&&Xn(s,e,i)&&(B(s,ee),Pe(s))}}function Xn(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const s of t.deps){if(bt.call(e,s))return!0;if((s.f&Z)!==0&&Xn(s,e,r))return r.set(s,!0),!0}return r.set(t,!1),!1}function Pe(t){for(var e=pr=t;e.parent!==null;){e=e.parent;var r=e.f;if(Sr&&e===A&&(r&Ie)!==0&&(r&qn)===0)return;if((r&(ut|Se))!==0){if((r&U)===0)return;e.f^=U}}ne.push(e)}function Qn(t,e){if(!((t.f&Se)!==0&&(t.f&U)!==0)){(t.f&ee)!==0?e.d.push(t):(t.f&be)!==0&&e.m.push(t),B(t,U);for(var r=t.first;r!==null;)Qn(r,e),r=r.next}}function Qs(t){let e=0,r=Je(0),i;return()=>{rn()&&(m(r),vr(()=>(e===0&&(i=j(()=>t(()=>Dt(r)))),e+=1,()=>{Ce(()=>{e-=1,e===0&&(i?.(),i=void 0,Dt(r))})})))}}var Zs=wt|St|Hr;function eo(t,e,r){new to(t,e,r)}class to{parent;is_pending=!1;#e;#t=E?N:null;#r;#o;#a;#i=null;#n=null;#s=null;#l=null;#u=null;#c=0;#f=0;#h=!1;#p=!1;#m=new Set;#v=new Set;#d=null;#w=Qs(()=>(this.#d=Je(this.#c),()=>{this.#d=null}));constructor(e,r,i){this.#e=e,this.#r=r,this.#o=i,this.parent=A.b,this.is_pending=!!this.#r.pending,this.#a=nn(()=>{if(A.b=this,E){const a=this.#t;at(),a.nodeType===ft&&a.data===dr?this.#x():(this.#k(),this.#f===0&&(this.is_pending=!1))}else{var s=this.#_();try{this.#i=se(()=>i(s))}catch(a){this.error(a)}this.#f>0?this.#y():this.is_pending=!1}return()=>{this.#u?.remove()}},Zs),E&&(this.#e=N)}#k(){try{this.#i=se(()=>this.#o(this.#e))}catch(e){this.error(e)}}#x(){const e=this.#r.pending;e&&(this.#n=se(()=>e(this.#e)),Ce(()=>{var r=this.#_();this.#i=this.#g(()=>(Ye.ensure(),se(()=>this.#o(r)))),this.#f>0?this.#y():(nt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#_(){var e=this.#e;return this.is_pending&&(this.#u=ye(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){Yn(e,this.#m,this.#v)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#r.pending}#g(e){var r=A,i=L,s=I;ke(this.#a),we(this.#a),kt(this.#a.ctx);try{return e()}catch(a){return Vn(a),null}finally{ke(r),we(i),kt(s)}}#y(){const e=this.#r.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),yi(this.#i,this.#l)),this.#n===null&&(this.#n=se(()=>e(this.#e)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}if(this.#f+=e,this.#f===0){this.is_pending=!1;for(const r of this.#m)B(r,ee),Pe(r);for(const r of this.#v)B(r,be),Pe(r);this.#m.clear(),this.#v.clear(),this.#n&&nt(this.#n,()=>{this.#n=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#b(e),this.#c+=e,!(!this.#d||this.#h)&&(this.#h=!0,Ce(()=>{this.#h=!1,this.#d&&Et(this.#d,this.#c)}))}get_effect_pending(){return this.#w(),m(this.#d)}error(e){var r=this.#r.onerror;let i=this.#r.failed;if(this.#p||!r&&!i)throw e;this.#i&&(Q(this.#i),this.#i=null),this.#n&&(Q(this.#n),this.#n=null),this.#s&&(Q(this.#s),this.#s=null),E&&(re(this.#t),Dn(),re(sr()));var s=!1,a=!1;const n=()=>{if(s){Vs();return}s=!0,a&&Ts(),Ye.ensure(),this.#c=0,this.#s!==null&&nt(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#g(()=>(this.#p=!1,se(()=>this.#o(this.#e)))),this.#f>0?this.#y():this.is_pending=!1};Ce(()=>{try{a=!0,r?.(e,n),a=!1}catch(o){xt(o,this.#a&&this.#a.parent)}i&&(this.#s=this.#g(()=>{Ye.ensure(),this.#p=!0;try{return se(()=>{i(this.#e,()=>e,()=>n)})}catch(o){return xt(o,this.#a.parent),null}finally{this.#p=!1}}))})}}function Zn(t,e,r,i){const s=Gt()?Vt:Qr;var a=t.filter(h=>!h.settled);if(r.length===0&&a.length===0){i(e.map(s));return}var n=D,o=A,p=ro(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(h=>h.promise)):null;function f(h){p();try{i(h)}catch(l){(o.f&Me)===0&&xt(l,o)}n?.deactivate(),Nr()}if(r.length===0){u.then(()=>f(e.map(s)));return}function c(){p(),Promise.all(r.map(h=>no(h))).then(h=>f([...e.map(s),...h])).catch(h=>xt(h,o))}u?u.then(c):c()}function ro(){var t=A,e=L,r=I,i=D;return function(a=!0){ke(t),we(e),kt(r),a&&i?.activate()}}function Nr(){ke(null),we(null),kt(null)}function Vt(t){var e=Z|ee,r=L!==null&&(L.f&Z)!==0?L:null;return A!==null&&(A.f|=St),{ctx:I,deps:null,effects:null,equals:Bn,f:e,fn:t,reactions:null,rv:0,v:H,wv:0,parent:r??A,ac:null}}function no(t,e,r){let i=A;i===null&&ks();var s=i.b,a=void 0,n=Je(H),o=!L,p=new Map;return ho(()=>{var u=On();a=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{f===D&&f.committed&&f.deactivate(),Nr()})}catch(l){u.reject(l),Nr()}var f=D;if(o){var c=s.is_rendered();s.update_pending_count(1),f.increment(c),p.get(f)?.reject(mt),p.delete(f),p.set(f,u)}const h=(l,d=void 0)=>{if(f.activate(),d)d!==mt&&(n.f|=He,Et(n,d));else{(n.f&He)!==0&&(n.f^=He),Et(n,l);for(const[g,_]of p){if(p.delete(g),g===f)break;_.reject(mt)}}o&&(s.update_pending_count(-1),f.decrement(c))};u.promise.then(h,l=>h(null,l||"unknown"))}),hr(()=>{for(const u of p.values())u.reject(mt)}),new Promise(u=>{function f(c){function h(){c===a?u(n):f(a)}c.then(h,h)}f(a)})}function io(t){const e=Vt(t);return _i(e),e}function Qr(t){const e=Vt(t);return e.equals=Wn,e}function ei(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Q(e[r])}}function so(t){for(var e=t.parent;e!==null;){if((e.f&Z)===0)return(e.f&Me)===0?e:null;e=e.parent}return null}function Zr(t){var e,r=A;ke(so(t));try{t.f&=~st,ei(t),e=xi(t)}finally{ke(r)}return e}function ti(t){var e=Zr(t);if(!t.equals(e)&&(t.wv=wi(),(!D?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){B(t,U);return}Xe||(Ee!==null?(rn()||D?.is_fork)&&Ee.set(t,e):Xr(t))}let Ar=new Set;const Ke=new Map;let ri=!1;function Je(t,e){var r={f:0,v:t,reactions:null,equals:Bn,rv:0,wv:0};return r}function We(t,e){const r=Je(t);return _i(r),r}function Y(t,e=!1,r=!0){const i=Je(t);return e||(i.equals=Wn),Nt&&r&&I!==null&&I.l!==null&&(I.l.s??=[]).push(i),i}function z(t,e,r=!1){L!==null&&(!Fe||(L.f&pn)!==0)&&Gt()&&(L.f&(Z|Ie|Yr|pn))!==0&&(_e===null||!bt.call(_e,t))&&Cs();let i=r?vt(e):e;return Et(t,i)}function Et(t,e){if(!t.equals(e)){var r=t.v;Xe?Ke.set(t,e):Ke.set(t,r),t.v=e;var i=Ye.ensure();if(i.capture(t,r),(t.f&Z)!==0){const s=t;(t.f&ee)!==0&&Zr(s),Xr(s)}t.wv=wi(),ni(t,ee),Gt()&&A!==null&&(A.f&U)!==0&&(A.f&(Se|ut))===0&&(me===null?vo([t]):me.push(t)),!i.is_fork&&Ar.size>0&&!ri&&oo()}return e}function oo(){ri=!1;for(const t of Ar)(t.f&U)!==0&&B(t,be),At(t)&&$t(t);Ar.clear()}function mn(t,e=1){var r=m(t),i=e===1?r++:r--;return z(t,r),i}function Dt(t){z(t,t.v+1)}function ni(t,e){var r=t.reactions;if(r!==null)for(var i=Gt(),s=r.length,a=0;a<s;a++){var n=r[a],o=n.f;if(!(!i&&n===A)){var p=(o&ee)===0;if(p&&B(n,e),(o&Z)!==0){var u=n;Ee?.delete(u),(o&st)===0&&(o&ge&&(n.f|=st),ni(u,be))}else p&&((o&Ie)!==0&&je!==null&&je.add(n),Pe(n))}}}function vt(t){if(typeof t!="object"||t===null||De in t)return t;const e=Gr(t);if(e!==ys&&e!==_s)return t;var r=new Map,i=Ur(t),s=We(0),a=it,n=o=>{if(it===a)return o();var p=L,u=it;we(null),bn(a);var f=o();return we(p),bn(u),f};return i&&r.set("length",We(t.length)),new Proxy(t,{defineProperty(o,p,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&As();var f=r.get(p);return f===void 0?n(()=>{var c=We(u.value);return r.set(p,c),c}):z(f,u.value,!0),!0},deleteProperty(o,p){var u=r.get(p);if(u===void 0){if(p in o){const f=n(()=>We(H));r.set(p,f),Dt(s)}}else z(u,H),Dt(s);return!0},get(o,p,u){if(p===De)return t;var f=r.get(p),c=p in o;if(f===void 0&&(!c||gt(o,p)?.writable)&&(f=n(()=>{var l=vt(c?o[p]:H),d=We(l);return d}),r.set(p,f)),f!==void 0){var h=m(f);return h===H?void 0:h}return Reflect.get(o,p,u)},getOwnPropertyDescriptor(o,p){var u=Reflect.getOwnPropertyDescriptor(o,p);if(u&&"value"in u){var f=r.get(p);f&&(u.value=m(f))}else if(u===void 0){var c=r.get(p),h=c?.v;if(c!==void 0&&h!==H)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return u},has(o,p){if(p===De)return!0;var u=r.get(p),f=u!==void 0&&u.v!==H||Reflect.has(o,p);if(u!==void 0||A!==null&&(!f||gt(o,p)?.writable)){u===void 0&&(u=n(()=>{var h=f?vt(o[p]):H,l=We(h);return l}),r.set(p,u));var c=m(u);if(c===H)return!1}return f},set(o,p,u,f){var c=r.get(p),h=p in o;if(i&&p==="length")for(var l=u;l<c.v;l+=1){var d=r.get(l+"");d!==void 0?z(d,H):l in o&&(d=n(()=>We(H)),r.set(l+"",d))}if(c===void 0)(!h||gt(o,p)?.writable)&&(c=n(()=>We(void 0)),z(c,vt(u)),r.set(p,c));else{h=c.v!==H;var g=n(()=>vt(u));z(c,g)}var _=Reflect.getOwnPropertyDescriptor(o,p);if(_?.set&&_.set.call(f,u),!h){if(i&&typeof p=="string"){var w=r.get("length"),x=Number(p);Number.isInteger(x)&&x>=w.v&&z(w,x+1)}Dt(s)}return!0},ownKeys(o){m(s);var p=Reflect.ownKeys(o).filter(c=>{var h=r.get(c);return h===void 0||h.v!==H});for(var[u,f]of r)f.v!==H&&!(u in o)&&p.push(u);return p},setPrototypeOf(){Ls()}})}function vn(t){try{if(t!==null&&typeof t=="object"&&De in t)return t[De]}catch{}return t}function ao(t,e){return Object.is(vn(t),vn(e))}var gn,ii,si,oi;function Lr(){if(gn===void 0){gn=window,ii=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;si=gt(e,"firstChild").get,oi=gt(e,"nextSibling").get,dn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),dn(r)&&(r.__t=void 0)}}function ye(t=""){return document.createTextNode(t)}function ce(t){return si.call(t)}function Ne(t){return oi.call(t)}function O(t,e){if(!E)return ce(t);var r=ce(N);if(r===null)r=N.appendChild(ye());else if(e&&r.nodeType!==cr){var i=ye();return r?.before(i),re(i),i}return e&&en(r),re(r),r}function qe(t,e=!1){if(!E){var r=ce(t);return r instanceof Comment&&r.data===""?Ne(r):r}if(e){if(N?.nodeType!==cr){var i=ye();return N?.before(i),re(i),i}en(N)}return N}function R(t,e=1,r=!1){let i=E?N:t;for(var s;e--;)s=i,i=Ne(i);if(!E)return i;if(r){if(i?.nodeType!==cr){var a=ye();return i===null?s?.after(a):i.before(a),re(a),a}en(i)}return re(i),i}function ai(t){t.textContent=""}function li(){return!1}function en(t){if(t.nodeValue.length<65536)return;let e=t.nextSibling;for(;e!==null&&e.nodeType===cr;)e.remove(),t.nodeValue+=e.nodeValue,e=t.nextSibling}function lo(t,e){if(e){const r=document.body;t.autofocus=!0,Ce(()=>{document.activeElement===r&&t.focus()})}}let yn=!1;function uo(){yn||(yn=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function tn(t){var e=L,r=A;we(null),ke(null);try{return t()}finally{we(e),ke(r)}}function ui(t){A===null&&(L===null&&Ps(),$s()),Xe&&Es()}function fo(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ae(t,e,r){var i=A;i!==null&&(i.f&de)!==0&&(t|=de);var s={ctx:I,deps:null,nodes:null,f:t|ee|ge,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{$t(s),s.f|=fr}catch(o){throw Q(s),o}else e!==null&&Pe(s);var a=s;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&St)===0&&(a=a.first,(t&Ie)!==0&&(t&wt)!==0&&a!==null&&(a.f|=wt)),a!==null&&(a.parent=i,i!==null&&fo(a,i),L!==null&&(L.f&Z)!==0&&(t&ut)===0)){var n=L;(n.effects??=[]).push(a)}return s}function rn(){return L!==null&&!Fe}function hr(t){const e=Ae(Ut,null,!1);return B(e,U),e.teardown=t,e}function Cr(t){ui();var e=A.f,r=!L&&(e&Se)!==0&&(e&fr)===0;if(r){var i=I;(i.e??=[]).push(t)}else return fi(t)}function fi(t){return Ae(ir|zn,t,!1)}function co(t){return ui(),Ae(Ut|zn,t,!0)}function po(t){Ye.ensure();const e=Ae(ut|St,t,!0);return(r={})=>new Promise(i=>{r.outro?nt(e,()=>{Q(e),i(void 0)}):(Q(e),i(void 0))})}function mr(t){return Ae(ir,t,!1)}function ve(t,e){var r=I,i={effect:null,ran:!1,deps:t};r.l.$.push(i),i.effect=vr(()=>{t(),!i.ran&&(i.ran=!0,j(e))})}function Ht(){var t=I;vr(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&U)!==0&&r.deps!==null&&B(r,be),At(r)&&$t(r),e.ran=!1}})}function ho(t){return Ae(Yr|St,t,!0)}function vr(t,e=0){return Ae(Ut|e,t,!0)}function ze(t,e=[],r=[],i=[]){Zn(i,e,r,s=>{Ae(Ut,()=>t(...s.map(m)),!0)})}function nn(t,e=0){var r=Ae(Ie|e,t,!0);return r}function ci(t,e=0){var r=Ae(Vr|e,t,!0);return r}function se(t){return Ae(Se|St,t,!0)}function di(t){var e=t.teardown;if(e!==null){const r=Xe,i=L;_n(!0),we(null);try{e.call(null)}finally{_n(r),we(i)}}}function pi(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const s=r.ac;s!==null&&tn(()=>{s.abort(mt)});var i=r.next;(r.f&ut)!==0?r.parent=null:Q(r,e),r=i}}function mo(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Se)===0&&Q(e),e=r}}function Q(t,e=!0){var r=!1;(e||(t.f&qn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(hi(t.nodes.start,t.nodes.end),r=!0),pi(t,e&&!r),or(t,0),B(t,Me);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();di(t);var s=t.parent;s!==null&&s.first!==null&&mi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function hi(t,e){for(;t!==null;){var r=t===e?null:Ne(t);t.remove(),t=r}}function mi(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function nt(t,e,r=!0){var i=[];vi(t,i,!0);var s=()=>{r&&Q(t),e&&e()},a=i.length;if(a>0){var n=()=>--a||s();for(var o of i)o.out(n)}else s()}function vi(t,e,r){if((t.f&de)===0){t.f^=de;var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||r)&&e.push(o);for(var s=t.first;s!==null;){var a=s.next,n=(s.f&wt)!==0||(s.f&Se)!==0&&(t.f&Ie)!==0;vi(s,e,n?r:!1),s=a}}}function sn(t){gi(t,!0)}function gi(t,e){if((t.f&de)!==0){t.f^=de,(t.f&U)===0&&(B(t,ee),Pe(t));for(var r=t.first;r!==null;){var i=r.next,s=(r.f&wt)!==0||(r.f&Se)!==0;gi(r,s?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const n of a)(n.is_global||e)&&n.in()}}function yi(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var s=r===i?null:Ne(r);e.append(r),r=s}}let er=!1,Xe=!1;function _n(t){Xe=t}let L=null,Fe=!1;function we(t){L=t}let A=null;function ke(t){A=t}let _e=null;function _i(t){L!==null&&(_e===null?_e=[t]:_e.push(t))}let ie=null,fe=0,me=null;function vo(t){me=t}let bi=1,tt=0,it=tt;function bn(t){it=t}function wi(){return++bi}function At(t){var e=t.f;if((e&ee)!==0)return!0;if(e&Z&&(t.f&=~st),(e&be)!==0){for(var r=t.deps,i=r.length,s=0;s<i;s++){var a=r[s];if(At(a)&&ti(a),a.wv>t.wv)return!0}(e&ge)!==0&&Ee===null&&B(t,U)}return!1}function ki(t,e,r=!0){var i=t.reactions;if(i!==null&&!(_e!==null&&bt.call(_e,t)))for(var s=0;s<i.length;s++){var a=i[s];(a.f&Z)!==0?ki(a,e,!1):e===a&&(r?B(a,ee):(a.f&U)!==0&&B(a,be),Pe(a))}}function xi(t){var e=ie,r=fe,i=me,s=L,a=_e,n=I,o=Fe,p=it,u=t.f;ie=null,fe=0,me=null,L=(u&(Se|ut))===0?t:null,_e=null,kt(t.ctx),Fe=!1,it=++tt,t.ac!==null&&(tn(()=>{t.ac.abort(mt)}),t.ac=null);try{t.f|=Fr;var f=t.fn,c=f(),h=t.deps,l=D?.is_fork;if(ie!==null){var d;if(l||or(t,fe),h!==null&&fe>0)for(h.length=fe+ie.length,d=0;d<ie.length;d++)h[fe+d]=ie[d];else t.deps=h=ie;if(rn()&&(t.f&ge)!==0)for(d=fe;d<h.length;d++)(h[d].reactions??=[]).push(t)}else!l&&h!==null&&fe<h.length&&(or(t,fe),h.length=fe);if(Gt()&&me!==null&&!Fe&&h!==null&&(t.f&(Z|be|ee))===0)for(d=0;d<me.length;d++)ki(me[d],t);if(s!==null&&s!==t){if(tt++,s.deps!==null)for(let g=0;g<r;g+=1)s.deps[g].rv=tt;if(e!==null)for(const g of e)g.rv=tt;me!==null&&(i===null?i=me:i.push(...me))}return(t.f&He)!==0&&(t.f^=He),c}catch(g){return Vn(g)}finally{t.f^=Fr,ie=e,fe=r,me=i,L=s,_e=a,kt(n),Fe=o,it=p}}function go(t,e){let r=e.reactions;if(r!==null){var i=gs.call(r,t);if(i!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[i]=r[s],r.pop())}}if(r===null&&(e.f&Z)!==0&&(ie===null||!bt.call(ie,e))){var a=e;(a.f&ge)!==0&&(a.f^=ge,a.f&=~st),Xr(a),ei(a),or(a,0)}}function or(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)go(t,r[i])}function $t(t){var e=t.f;if((e&Me)===0){B(t,U);var r=A,i=er;A=t,er=!0;try{(e&(Ie|Vr))!==0?mo(t):pi(t),di(t);var s=xi(t);t.teardown=typeof s=="function"?s:null,t.wv=bi;var a;$r&&Hs&&(t.f&ee)!==0&&t.deps}finally{er=i,A=r}}}function m(t){var e=t.f,r=(e&Z)!==0;if(L!==null&&!Fe){var i=A!==null&&(A.f&Me)!==0;if(!i&&(_e===null||!bt.call(_e,t))){var s=L.deps;if((L.f&Fr)!==0)t.rv<tt&&(t.rv=tt,ie===null&&s!==null&&s[fe]===t?fe++:ie===null?ie=[t]:ie.push(t));else{(L.deps??=[]).push(t);var a=t.reactions;a===null?t.reactions=[L]:bt.call(a,L)||a.push(L)}}}if(Xe&&Ke.has(t))return Ke.get(t);if(r){var n=t;if(Xe){var o=n.v;return((n.f&U)===0&&n.reactions!==null||$i(n))&&(o=Zr(n)),Ke.set(n,o),o}var p=(n.f&ge)===0&&!Fe&&L!==null&&(er||(L.f&ge)!==0),u=n.deps===null;At(n)&&(p&&(n.f|=ge),ti(n)),p&&!u&&Ei(n)}if(Ee?.has(t))return Ee.get(t);if((t.f&He)!==0)throw t.v;return t.v}function Ei(t){if(t.deps!==null){t.f|=ge;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&Z)!==0&&(e.f&ge)===0&&Ei(e)}}function $i(t){if(t.v===H)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Ke.has(e)||(e.f&Z)!==0&&$i(e))return!0;return!1}function j(t){var e=Fe;try{return Fe=!0,t()}finally{Fe=e}}function Pi(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(De in t)Tr(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&De in r&&Tr(r)}}}function Tr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Tr(t[i],e)}catch{}const r=Gr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=Tn(r);for(let s in i){const a=i[s].get;if(a)try{a.call(t)}catch{}}}}}function yo(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const _o=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function bo(t){return _o.includes(t)}const wo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function ko(t){return t=t.toLowerCase(),wo[t]??t}const xo=["touchstart","touchmove"];function Eo(t){return xo.includes(t)}const Fi=new Set,Or=new Set;function Si(t,e,r,i={}){function s(a){if(i.capture||qt.call(e,a),!a.cancelBubble)return tn(()=>r?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ce(()=>{e.addEventListener(t,s,i)}):e.addEventListener(t,s,i),s}function Re(t,e,r,i,s){var a={capture:i,passive:s},n=Si(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&hr(()=>{e.removeEventListener(t,n,a)})}function $o(t){for(var e=0;e<t.length;e++)Fi.add(t[e]);for(var r of Or)r(t)}let wn=null;function qt(t){var e=this,r=e.ownerDocument,i=t.type,s=t.composedPath?.()||[],a=s[0]||t.target;wn=t;var n=0,o=wn===t&&t.__root;if(o){var p=s.indexOf(o);if(p!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;p<=u&&(n=p)}if(a=s[n]||t.target,a!==e){Wr(t,"currentTarget",{configurable:!0,get(){return a||r}});var f=L,c=A;we(null),ke(null);try{for(var h,l=[];a!==null;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+i];g!=null&&(!a.disabled||t.target===a)&&g.call(a,t)}catch(_){h?l.push(_):h=_}if(t.cancelBubble||d===e||d===null)break;a=d}if(h){for(let _ of l)queueMicrotask(()=>{throw _});throw h}}finally{t.__root=e,delete t.currentTarget,we(f),ke(c)}}}function on(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Te(t,e){var r=A;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function q(t,e){var r=(e&Is)!==0,i=(e&Bs)!==0,s,a=!t.startsWith("<!>");return()=>{if(E)return Te(N,null),N;s===void 0&&(s=on(a?t:"<!>"+t),r||(s=ce(s)));var n=i||ii?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=ce(n),p=n.lastChild;Te(o,p)}else Te(n,n);return n}}function Po(t,e,r="svg"){var i=!t.startsWith("<!>"),s=`<${r}>${i?t:"<!>"+t}</${r}>`,a;return()=>{if(E)return Te(N,null),N;if(!a){var n=on(s),o=ce(n);a=ce(o)}var p=a.cloneNode(!0);return Te(p,p),p}}function Fo(t,e){return Po(t,e,"svg")}function lt(){if(E)return Te(N,null),N;var t=document.createDocumentFragment(),e=document.createComment(""),r=ye();return t.append(e,r),Te(e,r),t}function P(t,e){if(E){var r=A;((r.f&fr)===0||r.nodes.end===null)&&(r.nodes.end=N),at();return}t!==null&&t.before(e)}function Oe(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function an(t,e){return Ni(t,e)}function So(t,e){Lr(),e.intro=e.intro??!1;const r=e.target,i=E,s=N;try{for(var a=ce(r);a&&(a.nodeType!==ft||a.data!==Kr);)a=Ne(a);if(!a)throw ot;$e(!0),re(a);const n=Ni(t,{...e,anchor:a});return $e(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(o=>o.startsWith("https://svelte.dev/e/")))throw n;return n!==ot&&console.warn("Failed to hydrate: ",n),e.recover===!1&&Ss(),Lr(),ai(r),$e(!1),an(t,e)}finally{$e(i),re(s)}}const dt=new Map;function Ni(t,{target:e,anchor:r,props:i={},events:s,context:a,intro:n=!0}){Lr();var o=new Set,p=c=>{for(var h=0;h<c.length;h++){var l=c[h];if(!o.has(l)){o.add(l);var d=Eo(l);e.addEventListener(l,qt,{passive:d});var g=dt.get(l);g===void 0?(document.addEventListener(l,qt,{passive:d}),dt.set(l,1)):dt.set(l,g+1)}}};p(ur(Fi)),Or.add(p);var u=void 0,f=po(()=>{var c=r??e.appendChild(ye());return eo(c,{pending:()=>{}},h=>{W({});var l=I;if(a&&(l.c=a),s&&(i.$$events=s),E&&Te(h,null),u=t(h,i)||{},E&&(A.nodes.end=N,N===null||N.nodeType!==ft||N.data!==Jr))throw Wt(),ot;G()}),()=>{for(var h of o){e.removeEventListener(h,qt);var l=dt.get(h);--l===0?(document.removeEventListener(h,qt),dt.delete(h)):dt.set(h,l)}Or.delete(p),c!==r&&c.parentNode?.removeChild(c)}});return qr.set(u,f),u}let qr=new WeakMap;function No(t,e){const r=qr.get(t);return r?(qr.delete(t),r(e)):Promise.resolve()}class Ao{anchor;#e=new Map;#t=new Map;#r=new Map;#o=new Set;#a=!0;constructor(e,r=!0){this.anchor=e,this.#a=r}#i=()=>{var e=D;if(this.#e.has(e)){var r=this.#e.get(e),i=this.#t.get(r);if(i)sn(i),this.#o.delete(r);else{var s=this.#r.get(r);s&&(this.#t.set(r,s.effect),this.#r.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),i=s.effect)}for(const[a,n]of this.#e){if(this.#e.delete(a),a===e)break;const o=this.#r.get(n);o&&(Q(o.effect),this.#r.delete(n))}for(const[a,n]of this.#t){if(a===r||this.#o.has(a))continue;const o=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();yi(n,u),u.append(ye()),this.#r.set(a,{effect:n,fragment:u})}else Q(n);this.#o.delete(a),this.#t.delete(a)};this.#a||!i?(this.#o.add(a),nt(n,o,!1)):o()}}};#n=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[i,s]of this.#r)r.includes(i)||(Q(s.effect),this.#r.delete(i))};ensure(e,r){var i=D,s=li();if(r&&!this.#t.has(e)&&!this.#r.has(e))if(s){var a=document.createDocumentFragment(),n=ye();a.append(n),this.#r.set(e,{effect:se(()=>r(n)),fragment:a})}else this.#t.set(e,se(()=>r(this.anchor)));if(this.#e.set(i,e),s){for(const[o,p]of this.#t)o===e?i.unskip_effect(p):i.skip_effect(p);for(const[o,p]of this.#r)o===e?i.unskip_effect(p.effect):i.skip_effect(p.effect);i.oncommit(this.#i),i.ondiscard(this.#n)}else E&&(this.anchor=N),this.#i()}}function oe(t,e,r=!1){E&&at();var i=new Ao(t),s=r?wt:0;function a(n,o){if(E){const f=In(t);var p;if(f===Kr?p=0:f===dr?p=!1:p=parseInt(f.substring(1)),n!==p){var u=sr();re(u),i.anchor=u,$e(!1),i.ensure(n,o),$e(!0);return}}i.ensure(n,o)}nn(()=>{var n=!1;e((o,p=0)=>{n=!0,a(p,o)}),n||a(!1,null)},s)}function Ai(t,e){return e}function Lo(t,e,r){for(var i=[],s=e.length,a,n=e.length,o=0;o<s;o++){let c=e[o];nt(c,()=>{if(a){if(a.pending.delete(c),a.done.add(c),a.pending.size===0){var h=t.outrogroups;zr(ur(a.done)),h.delete(a),h.size===0&&(t.outrogroups=null)}}else n-=1},!1)}if(n===0){var p=i.length===0&&r!==null;if(p){var u=r,f=u.parentNode;ai(f),f.append(u),t.items.clear()}zr(e,!p)}else a={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(a)}function zr(t,e=!0){for(var r=0;r<t.length;r++)Q(t[r],e)}var kn;function Li(t,e,r,i,s,a=null){var n=t,o=new Map;{var p=t;n=E?re(ce(p)):p.appendChild(ye())}E&&at();var u=null,f=Qr(()=>{var _=r();return Ur(_)?_:_==null?[]:ur(_)}),c,h=!0;function l(){g.fallback=u,Co(g,c,n,e,i),u!==null&&(c.length===0?(u.f&Ve)===0?sn(u):(u.f^=Ve,zt(u,null,n)):nt(u,()=>{u=null}))}var d=nn(()=>{c=m(f);var _=c.length;let w=!1;if(E){var x=In(n)===dr;x!==(_===0)&&(n=sr(),re(n),$e(!1),w=!0)}for(var k=new Set,$=D,b=li(),v=0;v<_;v+=1){E&&N.nodeType===ft&&N.data===Jr&&(n=N,w=!0,$e(!1));var y=c[v],C=i(y,v),M=h?null:o.get(C);M?(M.v&&Et(M.v,y),M.i&&Et(M.i,v),b&&$.unskip_effect(M.e)):(M=To(o,h?n:kn??=ye(),y,C,v,s,e,r),h||(M.e.f|=Ve),o.set(C,M)),k.add(C)}if(_===0&&a&&!u&&(h?u=se(()=>a(n)):(u=se(()=>a(kn??=ye())),u.f|=Ve)),_>k.size&&xs(),E&&_>0&&re(sr()),!h)if(b){for(const[T,he]of o)k.has(T)||$.skip_effect(he.e);$.oncommit(l),$.ondiscard(()=>{})}else l();w&&$e(!0),m(f)}),g={effect:d,items:o,outrogroups:null,fallback:u};h=!1,E&&(n=N)}function Ct(t){for(;t!==null&&(t.f&Se)===0;)t=t.next;return t}function Co(t,e,r,i,s){var a=e.length,n=t.items,o=Ct(t.effect.first),p,u=null,f=[],c=[],h,l,d,g;for(g=0;g<a;g+=1){if(h=e[g],l=s(h,g),d=n.get(l).e,t.outrogroups!==null)for(const C of t.outrogroups)C.pending.delete(d),C.done.delete(d);if((d.f&Ve)!==0)if(d.f^=Ve,d===o)zt(d,null,r);else{var _=u?u.next:o;d===t.effect.last&&(t.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),Ge(t,u,d),Ge(t,d,_),zt(d,_,r),u=d,f=[],c=[],o=Ct(u.next);continue}if((d.f&de)!==0&&sn(d),d!==o){if(p!==void 0&&p.has(d)){if(f.length<c.length){var w=c[0],x;u=w.prev;var k=f[0],$=f[f.length-1];for(x=0;x<f.length;x+=1)zt(f[x],w,r);for(x=0;x<c.length;x+=1)p.delete(c[x]);Ge(t,k.prev,$.next),Ge(t,u,k),Ge(t,$,w),o=w,u=$,g-=1,f=[],c=[]}else p.delete(d),zt(d,o,r),Ge(t,d.prev,d.next),Ge(t,d,u===null?t.effect.first:u.next),Ge(t,u,d),u=d;continue}for(f=[],c=[];o!==null&&o!==d;)(p??=new Set).add(o),c.push(o),o=Ct(o.next);if(o===null)continue}(d.f&Ve)===0&&f.push(d),u=d,o=Ct(d.next)}if(t.outrogroups!==null){for(const C of t.outrogroups)C.pending.size===0&&(zr(ur(C.done)),t.outrogroups?.delete(C));t.outrogroups.size===0&&(t.outrogroups=null)}if(o!==null||p!==void 0){var b=[];if(p!==void 0)for(d of p)(d.f&de)===0&&b.push(d);for(;o!==null;)(o.f&de)===0&&o!==t.fallback&&b.push(o),o=Ct(o.next);var v=b.length;if(v>0){var y=a===0?r:null;Lo(t,b,y)}}}function To(t,e,r,i,s,a,n,o){var p=(n&Os)!==0?(n&zs)===0?Y(r,!1,!1):Je(r):null,u=(n&qs)!==0?Je(s):null;return{v:p,i:u,e:se(()=>(a(e,p??r,u??s,o),()=>{t.delete(i)}))}}function zt(t,e,r){if(t.nodes)for(var i=t.nodes.start,s=t.nodes.end,a=e&&(e.f&Ve)===0?e.nodes.start:r;i!==null;){var n=Ne(i);if(a.before(i),i===s)return;i=n}}function Ge(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Oo(t,e,r=!1,i=!1,s=!1){var a=t,n="";ze(()=>{var o=A;if(n===(n=e()??"")){E&&at();return}if(o.nodes!==null&&(hi(o.nodes.start,o.nodes.end),o.nodes=null),n!==""){if(E){N.data;for(var p=at(),u=p;p!==null&&(p.nodeType!==ft||p.data!=="");)u=p,p=Ne(p);if(p===null)throw Wt(),ot;Te(N,u),a=re(p);return}var f=n+"";r?f=`<svg>${f}</svg>`:i&&(f=`<math>${f}</math>`);var c=on(f);if((r||i)&&(c=ce(c)),Te(ce(c),c.lastChild),r||i)for(;ce(c);)a.before(ce(c));else a.before(c)}})}function tr(t,e,r,i,s){E&&at();var a=e.$$slots?.[r],n=!1;a===!0&&(a=e[r==="default"?"children":r],n=!0),a===void 0||a(t,n?()=>i:i)}function qo(t){const e={};t.children&&(e.default=!0);for(const r in t.$$slots)e[r]=!0;return e}function Ci(t,e){mr(()=>{var r=t.getRootNode(),i=r.host?r:r.head??r.ownerDocument.head;if(!i.querySelector("#"+e.hash)){const s=document.createElement("style");s.id=e.hash,s.textContent=e.code,i.appendChild(s)}})}function zo(t,e){var r=void 0,i;ci(()=>{r!==(r=e())&&(i&&(Q(i),i=null),r&&(i=se(()=>{mr(()=>r(t))})))})}function Ti(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Ti(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Ro(){for(var t,e,r=0,i="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Ti(t))&&(i&&(i+=" "),i+=e);return i}function jo(t){return typeof t=="object"?Ro(t):t??""}const xn=[...` 	
\r\fÂ \v\uFEFF`];function Mo(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var s in r)if(r[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,n=0;(n=i.indexOf(s,n))>=0;){var o=n+a;(n===0||xn.includes(i[n-1]))&&(o===i.length||xn.includes(i[o]))?i=(n===0?"":i.substring(0,n))+i.substring(o+1):n=o}}return i===""?null:i}function En(t,e=!1){var r=e?" !important;":";",i="";for(var s in t){var a=t[s];a!=null&&a!==""&&(i+=" "+s+": "+a+r)}return i}function wr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Do(t,e){if(e){var r="",i,s;if(Array.isArray(e)?(i=e[0],s=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,n=0,o=!1,p=[];i&&p.push(...Object.keys(i).map(wr)),s&&p.push(...Object.keys(s).map(wr));var u=0,f=-1;const g=t.length;for(var c=0;c<g;c++){var h=t[c];if(o?h==="/"&&t[c-1]==="*"&&(o=!1):a?a===h&&(a=!1):h==="/"&&t[c+1]==="*"?o=!0:h==='"'||h==="'"?a=h:h==="("?n++:h===")"&&n--,!o&&a===!1&&n===0){if(h===":"&&f===-1)f=c;else if(h===";"||c===g-1){if(f!==-1){var l=wr(t.substring(u,f).trim());if(!p.includes(l)){h!==";"&&c++;var d=t.substring(u,c).trim();r+=" "+d+";"}}u=c+1,f=-1}}}}return i&&(r+=En(i)),s&&(r+=En(s,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function Rr(t,e,r,i,s,a){var n=t.__className;if(E||n!==r||n===void 0){var o=Mo(r,i,a);(!E||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o)),t.__className=r}else if(a&&s!==a)for(var p in a){var u=!!a[p];(s==null||u!==!!s[p])&&t.classList.toggle(p,u)}return a}function kr(t,e={},r,i){for(var s in r){var a=r[s];e[s]!==a&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,a,i))}}function ln(t,e,r,i){var s=t.__style;if(E||s!==e){var a=Do(e,i);(!E||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=e}else i&&(Array.isArray(i)?(kr(t,r?.[0],i[0]),kr(t,r?.[1],i[1],"important")):kr(t,r,i));return i}function jr(t,e,r=!1){if(t.multiple){if(e==null)return;if(!Ur(e))return Gs();for(var i of t.options)i.selected=e.includes($n(i));return}for(i of t.options){var s=$n(i);if(ao(s,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Io(t){var e=new MutationObserver(()=>{jr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),hr(()=>{e.disconnect()})}function $n(t){return"__value"in t?t.__value:t.value}const ht=Symbol("class"),Tt=Symbol("style"),Oi=Symbol("is custom element"),qi=Symbol("is html");function Bo(t){if(E){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var i=t.value;Pt(t,"value",null),t.value=i}if(t.hasAttribute("checked")){var s=t.checked;Pt(t,"checked",null),t.checked=s}}};t.__on_r=r,Ce(r),uo()}}function Uo(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Pt(t,e,r,i){var s=Ri(t);E&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="loading"&&(t[ws]=r),r==null?t.removeAttribute(e):typeof r!="string"&&ji(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Wo(t,e,r,i,s=!1,a=!1){if(E&&s&&t.tagName==="INPUT"){var n=t,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in r||Bo(n)}var p=Ri(t),u=p[Oi],f=!p[qi];let c=E&&u;c&&$e(!1);var h=e||{},l=t.tagName==="OPTION";for(var d in e)d in r||(r[d]=null);r.class?r.class=jo(r.class):(i||r[ht])&&(r.class=null),r[Tt]&&(r.style??=null);var g=ji(t);for(const v in r){let y=r[v];if(l&&v==="value"&&y==null){t.value=t.__value="",h[v]=y;continue}if(v==="class"){var _=t.namespaceURI==="http://www.w3.org/1999/xhtml";Rr(t,_,y,i,e?.[ht],r[ht]),h[v]=y,h[ht]=r[ht];continue}if(v==="style"){ln(t,y,e?.[Tt],r[Tt]),h[v]=y,h[Tt]=r[Tt];continue}var w=h[v];if(!(y===w&&!(y===void 0&&t.hasAttribute(v)))){h[v]=y;var x=v[0]+v[1];if(x!=="$$")if(x==="on"){const C={},M="$$"+v;let T=v.slice(2);var k=bo(T);if(yo(T)&&(T=T.slice(0,-7),C.capture=!0),!k&&w){if(y!=null)continue;t.removeEventListener(T,h[M],C),h[M]=null}if(y!=null)if(k)t[`__${T}`]=y,$o([T]);else{let he=function(yr){h[v].call(this,yr)};h[M]=Si(T,t,he,C)}else k&&(t[`__${T}`]=void 0)}else if(v==="style")Pt(t,v,y);else if(v==="autofocus")lo(t,!!y);else if(!u&&(v==="__value"||v==="value"&&y!=null))t.value=t.__value=y;else if(v==="selected"&&l)Uo(t,y);else{var $=v;f||($=ko($));var b=$==="defaultValue"||$==="defaultChecked";if(y==null&&!u&&!b)if(p[v]=null,$==="value"||$==="checked"){let C=t;const M=e===void 0;if($==="value"){let T=C.defaultValue;C.removeAttribute($),C.defaultValue=T,C.value=C.__value=M?T:null}else{let T=C.defaultChecked;C.removeAttribute($),C.defaultChecked=T,C.checked=M?T:!1}}else t.removeAttribute(v);else b||g.includes($)&&(u||typeof y!="string")?(t[$]=y,$ in p&&(p[$]=H)):typeof y!="function"&&Pt(t,$,y)}}}return c&&$e(!0),h}function zi(t,e,r=[],i=[],s=[],a,n=!1,o=!1){Zn(s,r,i,p=>{var u=void 0,f={},c=t.nodeName==="SELECT",h=!1;if(ci(()=>{var d=e(...p.map(m)),g=Wo(t,u,d,a,n,o);h&&c&&"value"in d&&jr(t,d.value);for(let w of Object.getOwnPropertySymbols(f))d[w]||Q(f[w]);for(let w of Object.getOwnPropertySymbols(d)){var _=d[w];w.description===Ws&&(!u||_!==u[w])&&(f[w]&&Q(f[w]),f[w]=se(()=>zo(t,()=>_))),g[w]=_}u=g}),c){var l=t;mr(()=>{jr(l,u.value,!0),Io(l)})}h=!0})}function Ri(t){return t.__attributes??={[Oi]:t.nodeName.includes("-"),[qi]:t.namespaceURI===Us}}var Pn=new Map;function ji(t){var e=t.getAttribute("is")||t.nodeName,r=Pn.get(e);if(r)return r;Pn.set(e,r=[]);for(var i,s=t,a=Element.prototype;a!==s;){i=Tn(s);for(var n in i)i[n].set&&r.push(n);s=Gr(s)}return r}function Fn(t,e){return t===e||t?.[De]===e}function Go(t={},e,r,i){return mr(()=>{var s,a;return vr(()=>{s=a,a=[],j(()=>{t!==r(...a)&&(e(t,...a),s&&Fn(r(...s),t)&&e(null,...s))})}),()=>{Ce(()=>{a&&Fn(r(...a),t)&&e(null,...a)})}}),t}function pe(t=!1){const e=I,r=e.l.u;if(!r)return;let i=()=>Pi(e.s);if(t){let s=0,a={};const n=Vt(()=>{let o=!1;const p=e.s;for(const u in p)p[u]!==a[u]&&(a[u]=p[u],o=!0);return o&&s++,s});i=()=>m(n)}r.b.length&&co(()=>{Sn(e,i),Pr(r.b)}),Cr(()=>{const s=j(()=>r.m.map(bs));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&Cr(()=>{Sn(e,i),Pr(r.a)})}function Sn(t,e){if(t.l.s)for(const r of t.l.s)m(r);e()}function K(t,e,r){t.$$events||={},t.$$events[e]||=[],t.$$events[e].push(r)}function J(t){for(var e in t)e in this&&(this[e]=t[e])}function Mi(t,e,r){if(t==null)return e(void 0),yt;const i=j(()=>t.subscribe(e,r));return i.unsubscribe?()=>i.unsubscribe():i}const pt=[];function Be(t,e=yt){let r=null;const i=new Set;function s(o){if(Un(t,o)&&(t=o,r)){const p=!pt.length;for(const u of i)u[1](),pt.push(u,t);if(p){for(let u=0;u<pt.length;u+=2)pt[u][0](pt[u+1]);pt.length=0}}}function a(o){s(o(t))}function n(o,p=yt){const u=[o,p];return i.add(u),i.size===1&&(r=e(s,a)||yt),o(t),()=>{i.delete(u),i.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:n}}function Vo(t){let e;return Mi(t,r=>e=r)(),e}let Jt=!1,Mr=Symbol();function te(t,e,r){const i=r[e]??={store:null,source:Y(void 0),unsubscribe:yt};if(i.store!==t&&!(Mr in r))if(i.unsubscribe(),i.store=t??null,t==null)i.source.v=void 0,i.unsubscribe=yt;else{var s=!0;i.unsubscribe=Mi(t,a=>{s?i.source.v=a:z(i.source,a)}),s=!1}return t&&Mr in r?Vo(t):m(i.source)}function Qe(){const t={};function e(){hr(()=>{for(var r in t)t[r].unsubscribe();Wr(t,Mr,{enumerable:!1,value:!0})})}return[t,e]}function Ho(t){var e=Jt;try{return Jt=!1,[t(),Jt]}finally{Jt=e}}const Yo={get(t,e){if(!t.exclude.includes(e))return m(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,r){if(!(e in t.special)){var i=A;try{ke(t.parent_effect),t.special[e]=le({get[e](){return t.props[e]}},e,Mn)}finally{ke(i)}}return t.special[e](r),mn(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),mn(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function ar(t,e){return new Proxy({props:t,exclude:e,special:{},version:Je(0),parent_effect:A},Yo)}function le(t,e,r,i){var s=!Nt||(r&js)!==0,a=(r&Ms)!==0,n=(r&Ds)!==0,o=i,p=!0,u=()=>(p&&(p=!1,o=n?j(i):i),o),f;if(a){var c=De in t||Rn in t;f=gt(t,e)?.set??(c&&e in t?k=>t[e]=k:void 0)}var h,l=!1;a?[h,l]=Ho(()=>t[e]):h=t[e],h===void 0&&i!==void 0&&(h=u(),f&&(s&&Ns(),f(h)));var d;if(s?d=()=>{var k=t[e];return k===void 0?u():(p=!0,k)}:d=()=>{var k=t[e];return k!==void 0&&(o=void 0),k===void 0?o:k},s&&(r&Mn)===0)return d;if(f){var g=t.$$legacy;return(function(k,$){return arguments.length>0?((!s||!$||g||l)&&f($?d():k),k):d()})}var _=!1,w=((r&Rs)!==0?Vt:Qr)(()=>(_=!1,d()));a&&m(w);var x=A;return(function(k,$){if(arguments.length>0){const b=$?m(w):s&&a?vt(k):k;return z(w,b),_=!0,o!==void 0&&(o=b),k}return Xe&&_||(x.f&Me)!==0?w.v:m(w)})}function X(t){return new Ko(t)}class Ko{#e;#t;constructor(e){var r=new Map,i=(a,n)=>{var o=Y(n,!1,!1);return r.set(a,o),o};const s=new Proxy({...e.props||{},$$events:{}},{get(a,n){return m(r.get(n)??i(n,Reflect.get(a,n)))},has(a,n){return n===Rn?!0:(m(r.get(n)??i(n,Reflect.get(a,n))),Reflect.has(a,n))},set(a,n,o){return z(r.get(n)??i(n,o),o),Reflect.set(a,n,o)}});this.#t=(e.hydrate?So:an)(e.component,{target:e.target,anchor:e.anchor,props:s,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&ae(),this.#e=s.$$events;for(const a of Object.keys(this.#t))a==="$set"||a==="$destroy"||a==="$on"||Wr(this,a,{get(){return this.#t[a]},set(n){this.#t[a]=n},enumerable:!0});this.#t.$set=a=>{Object.assign(s,a)},this.#t.$destroy=()=>{No(this.#t)}}$set(e){this.#t.$set(e)}$on(e,r){this.#e[e]=this.#e[e]||[];const i=(...s)=>r.call(this,...s);return this.#e[e].push(i),()=>{this.#e[e]=this.#e[e].filter(s=>s!==i)}}$destroy(){this.#t.$destroy()}}function gr(t){I===null&&jn(),Nt&&I.l!==null?Jo(I).m.push(t):Cr(()=>{const e=j(t);if(typeof e=="function")return e})}function Di(t){I===null&&jn(),gr(()=>()=>j(t))}function Jo(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const Xo="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='display:none'%3e%3c!--%20Empty:%20Light%20gray%20filled%20rectangle%20--%3e%3csymbol%20id='Empty'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F5F5F5'/%3e%3c/symbol%3e%3c!--%20SnakeHead:%20Blue%20rounded%20rectangle%20with%20eyes%20--%3e%3csymbol%20id='SnakeHead'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='4'%20fill='%232196F3'/%3e%3ccircle%20cx='11'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3ccircle%20cx='21'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20SnakeBody:%20Lighter%20blue%20with%20horizontal%20stripe%20--%3e%3csymbol%20id='SnakeBody'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='3'%20fill='%2364B5F6'/%3e%3crect%20x='4'%20y='14'%20width='24'%20height='4'%20rx='1'%20fill='%2342A5F5'/%3e%3c/symbol%3e%3c!--%20Food:%20Red%20circle%20with%20green%20stem%20(apple-like)%20--%3e%3csymbol%20id='Food'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='17'%20r='12'%20fill='%23FF5722'/%3e%3cline%20x1='16'%20y1='5'%20x2='16'%20y2='9'%20stroke='%234CAF50'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cline%20x1='16'%20y1='5'%20x2='18'%20y2='7'%20stroke='%234CAF50'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/symbol%3e%3c!--%20FloatingFood:%20Orange%20circle%20with%20upward%20chevrons%20--%3e%3csymbol%20id='FloatingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='18'%20r='10'%20fill='%23FF9800'/%3e%3cpolyline%20points='12,10%2016,6%2020,10'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,6%2016,2%2020,6'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20FallingFood:%20Orange-red%20circle%20with%20downward%20chevrons%20--%3e%3csymbol%20id='FallingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='14'%20r='10'%20fill='%23FF7043'/%3e%3cpolyline%20points='12,22%2016,26%2020,22'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,26%2016,30%2020,26'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20Obstacle:%20Dark%20gray%20with%20cross-hatch%20pattern%20--%3e%3csymbol%20id='Obstacle'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23424242'/%3e%3cline%20x1='0'%20y1='0'%20x2='32'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3cline%20x1='32'%20y1='0'%20x2='0'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3c/symbol%3e%3c!--%20Exit:%20Green%20rectangle%20with%20white%20doorway%20arch%20--%3e%3csymbol%20id='Exit'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%234CAF50'/%3e%3crect%20x='10'%20y='12'%20width='12'%20height='20'%20fill='%23FFF'/%3e%3cpath%20d='M%2010%2012%20Q%2010%206%2016%206%20Q%2022%206%2022%2012'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20Stone:%20Brown%20rounded%20rectangle%20with%20texture%20spots%20--%3e%3csymbol%20id='Stone'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='6'%20fill='%23795548'/%3e%3cellipse%20cx='11'%20cy='10'%20rx='3'%20ry='2.5'%20fill='%238D6E63'/%3e%3cellipse%20cx='20'%20cy='14'%20rx='2.5'%20ry='3'%20fill='%238D6E63'/%3e%3ccircle%20cx='14'%20cy='21'%20r='2'%20fill='%238D6E63'/%3e%3c/symbol%3e%3c!--%20Spike:%20Red%20background%20with%20sharp%20upward%20triangle%20--%3e%3csymbol%20id='Spike'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F44336'/%3e%3cpolygon%20points='16,6%2022,26%2010,26'%20fill='%23B71C1C'/%3e%3c/symbol%3e%3c/svg%3e",Qo="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Qo);Ys();var Zo=q('<header class="gsnake-ui-modal-header svelte-12n1f7e"><!></header>'),ea=q('<footer class="gsnake-ui-modal-footer svelte-12n1f7e"><!></footer>'),ta=q('<div class="gsnake-ui-modal-backdrop svelte-12n1f7e" role="presentation"><section><!> <div class="gsnake-ui-modal-content svelte-12n1f7e"><!></div> <!></section></div>');const ra={hash:"svelte-12n1f7e",code:".gsnake-ui-modal-backdrop.svelte-12n1f7e {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);padding:16px;z-index:1000;}.gsnake-ui-modal.svelte-12n1f7e {width:min(480px, 100%);background:white;border-radius:12px;border:1px solid #d6d6d6;box-shadow:0 12px 40px rgba(0, 0, 0, 0.25);padding:24px;color:#1f1f1f;}.gsnake-ui-modal-header.svelte-12n1f7e {margin-bottom:12px;}.gsnake-ui-modal-content.svelte-12n1f7e {display:flex;flex-direction:column;gap:12px;}.gsnake-ui-modal-footer.svelte-12n1f7e {margin-top:20px;display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}"};function Yt(t,e){if(new.target)return X({component:Yt,...t});const r=qo(e),i=ar(e,["children","$$slots","$$events","$$legacy"]),s=ar(i,["open","onClose","closeOnBackdrop"]);W(e,!1),Ci(t,ra);let a=le(e,"open",12,!0),n=le(e,"onClose",12,void 0),o=le(e,"closeOnBackdrop",12,!0);function p(l){o()&&l.target===l.currentTarget&&n()?.()}var u={get open(){return a()},set open(l){a(l),ae()},get onClose(){return n()},set onClose(l){n(l),ae()},get closeOnBackdrop(){return o()},set closeOnBackdrop(l){o(l),ae()},$set:J,$on:(l,d)=>K(e,l,d)};pe();var f=lt(),c=qe(f);{var h=l=>{var d=ta(),g=O(d);zi(g,()=>({class:"gsnake-ui-modal",role:"dialog","aria-modal":"true",...s}),void 0,void 0,void 0,"svelte-12n1f7e");var _=O(g);{var w=v=>{var y=Zo(),C=O(y);tr(C,e,"header",{}),S(y),P(v,y)};oe(_,v=>{j(()=>r.header)&&v(w)})}var x=R(_,2),k=O(x);tr(k,e,"default",{}),S(x);var $=R(x,2);{var b=v=>{var y=ea(),C=O(y);tr(C,e,"footer",{}),S(y),P(v,y)};oe($,v=>{j(()=>r.footer)&&v(b)})}S(g),S(d),Re("click",d,p),P(l,d)};oe(c,l=>{a()&&l(h)})}return P(t,f),G(u)}var na=q("<div><!></div>");const ia={hash:"svelte-1onx8vr",code:".gsnake-ui-overlay.svelte-1onx8vr {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);z-index:900;}.gsnake-ui-overlay.transparent.svelte-1onx8vr {background:transparent;}"};function Ii(t,e){if(new.target)return X({component:Ii,...t});const r=ar(e,["children","$$slots","$$events","$$legacy"]),i=ar(r,["visible","transparent"]);W(e,!1),Ci(t,ia);let s=le(e,"visible",12,!1),a=le(e,"transparent",12,!1);var n={get visible(){return s()},set visible(f){s(f),ae()},get transparent(){return a()},set transparent(f){a(f),ae()},$set:J,$on:(f,c)=>K(e,f,c)},o=lt(),p=qe(o);{var u=f=>{var c=na();zi(c,()=>({class:"gsnake-ui-overlay",...i,[ht]:{transparent:a()}}),void 0,void 0,void 0,"svelte-1onx8vr");var h=O(c);tr(h,e,"default",{}),S(c),P(f,c)};oe(p,f=>{s()&&f(u)})}return P(t,o),G(n)}let Dr=class{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Nn.unregister(this),e}free(){const e=this.__destroy_into_raw();F.__wbg_wasmgameengine_free(e,0)}getFrame(){const e=F.wasmgameengine_getFrame(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}getGameState(){const e=F.wasmgameengine_getGameState(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}getLevel(){const e=F.wasmgameengine_getLevel(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}constructor(e){const r=F.wasmgameengine_new(e);if(r[2])throw xe(r[1]);return this.__wbg_ptr=r[0]>>>0,Nn.register(this,this.__wbg_ptr,this),this}onFrame(e){F.wasmgameengine_onFrame(this.__wbg_ptr,e)}processMove(e){const r=F.wasmgameengine_processMove(this.__wbg_ptr,e);if(r[2])throw xe(r[1]);return xe(r[0])}};Symbol.dispose&&(Dr.prototype[Symbol.dispose]=Dr.prototype.free);function sa(){const t=F.getLevels();if(t[2])throw xe(t[1]);return xe(t[0])}function oa(){F.init_panic_hook()}function aa(t){const e=jt(t,F.__wbindgen_malloc,F.__wbindgen_realloc),r=rt;F.log(e,r)}function la(){return{__proto__:null,"./gsnake_wasm_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(e,r){return Error(Xt(e,r))},__wbg_Number_04624de7d0e8332d:function(e){return Number(e)},__wbg_String_8f0eb39a4a4c2f66:function(e,r){const i=String(r),s=jt(i,F.__wbindgen_malloc,F.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(e){const r=e,i=typeof r=="boolean"?r:void 0;return Qt(i)?16777215:i?1:0},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(e,r){const i=Ir(r),s=jt(i,F.__wbindgen_malloc,F.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg___wbindgen_in_47fa6863be6f2f25:function(e,r){return e in r},__wbg___wbindgen_is_function_0095a73b8b156f76:function(e){return typeof e=="function"},__wbg___wbindgen_is_object_5ae8e5880f2c1fbd:function(e){const r=e;return typeof r=="object"&&r!==null},__wbg___wbindgen_is_string_cd444516edc5b180:function(e){return typeof e=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(e){return e===void 0},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(e,r){return e==r},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(e,r){const i=r,s=typeof i=="number"?i:void 0;Le().setFloat64(e+8,Qt(s)?0:s,!0),Le().setInt32(e+0,!Qt(s),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(e,r){const i=r,s=typeof i=="string"?i:void 0;var a=Qt(s)?0:jt(s,F.__wbindgen_malloc,F.__wbindgen_realloc),n=rt;Le().setInt32(e+4,n,!0),Le().setInt32(e+0,a,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(e,r){throw new Error(Xt(e,r))},__wbg_call_389efe28435a9388:function(){return Ot(function(e,r){return e.call(r)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return Ot(function(e,r,i){return e.call(r,i)},arguments)},__wbg_done_57b39ecd9addfe81:function(e){return e.done},__wbg_entries_58c7934c745daac7:function(e){return Object.entries(e)},__wbg_error_7534b8e9a36f1ab4:function(e,r){let i,s;try{i=e,s=r,console.error(Xt(e,r))}finally{F.__wbindgen_free(i,s,1)}},__wbg_get_9b94d73e6221f75c:function(e,r){return e[r>>>0]},__wbg_get_b3ed3ad4be2bc8ac:function(){return Ot(function(e,r){return Reflect.get(e,r)},arguments)},__wbg_get_with_ref_key_1dc361bd10053bfe:function(e,r){return e[r]},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(e){let r;try{r=e instanceof ArrayBuffer}catch{r=!1}return r},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(e){let r;try{r=e instanceof Uint8Array}catch{r=!1}return r},__wbg_isArray_d314bb98fcf08331:function(e){return Array.isArray(e)},__wbg_isSafeInteger_bfbc7332a9768d2a:function(e){return Number.isSafeInteger(e)},__wbg_iterator_6ff6560ca1568e55:function(){return Symbol.iterator},__wbg_length_32ed9a279acd054c:function(e){return e.length},__wbg_length_35a7bace40f36eac:function(e){return e.length},__wbg_log_6b5ca2e6124b2808:function(e){console.log(e)},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(e){return new Uint8Array(e)},__wbg_next_3482f54c49e8af19:function(){return Ot(function(e){return e.next()},arguments)},__wbg_next_418f80d8f5303233:function(e){return e.next},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(e,r,i){Uint8Array.prototype.set.call(fa(e,r),i)},__wbg_set_1eb0999cf5d27fc8:function(e,r,i){return e.set(r,i)},__wbg_set_3f1d0b984ed272ed:function(e,r,i){e[r]=i},__wbg_set_6cb8631f80447a67:function(){return Ot(function(e,r,i){return Reflect.set(e,r,i)},arguments)},__wbg_set_f43e577aea94465b:function(e,r,i){e[r>>>0]=i},__wbg_stack_0ed75d68575b0f3c:function(e,r){const i=r.stack,s=jt(i,F.__wbindgen_malloc,F.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg_value_0546255b415e96c1:function(e){return e.value},__wbindgen_cast_0000000000000001:function(e){return e},__wbindgen_cast_0000000000000002:function(e,r){return Xt(e,r)},__wbindgen_init_externref_table:function(){const e=F.__wbindgen_externrefs,r=e.grow(4);e.set(0,void 0),e.set(r+0,void 0),e.set(r+1,null),e.set(r+2,!0),e.set(r+3,!1)}}}}const Nn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>F.__wbg_wasmgameengine_free(t>>>0,1));function ua(t){const e=F.__externref_table_alloc();return F.__wbindgen_externrefs.set(e,t),e}function Ir(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const s=t.description;return s==null?"Symbol":`Symbol(${s})`}if(e=="function"){const s=t.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(t)){const s=t.length;let a="[";s>0&&(a+=Ir(t[0]));for(let n=1;n<s;n++)a+=", "+Ir(t[n]);return a+="]",a}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(r&&r.length>1)i=r[1];else return toString.call(t);if(i=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:i}function fa(t,e){return t=t>>>0,It().subarray(t/1,t/1+e)}let Ze=null;function Le(){return(Ze===null||Ze.buffer.detached===!0||Ze.buffer.detached===void 0&&Ze.buffer!==F.memory.buffer)&&(Ze=new DataView(F.memory.buffer)),Ze}function Xt(t,e){return t=t>>>0,da(t,e)}let Rt=null;function It(){return(Rt===null||Rt.byteLength===0)&&(Rt=new Uint8Array(F.memory.buffer)),Rt}function Ot(t,e){try{return t.apply(this,e)}catch(r){const i=ua(r);F.__wbindgen_exn_store(i)}}function Qt(t){return t==null}function jt(t,e,r){if(r===void 0){const o=Bt.encode(t),p=e(o.length,1)>>>0;return It().subarray(p,p+o.length).set(o),rt=o.length,p}let i=t.length,s=e(i,1)>>>0;const a=It();let n=0;for(;n<i;n++){const o=t.charCodeAt(n);if(o>127)break;a[s+n]=o}if(n!==i){n!==0&&(t=t.slice(n)),s=r(s,i,i=n+t.length*3,1)>>>0;const o=It().subarray(s+n,s+i),p=Bt.encodeInto(t,o);n+=p.written,s=r(s,i,n,1)>>>0}return rt=n,s}function xe(t){const e=F.__wbindgen_externrefs.get(t);return F.__externref_table_dealloc(t),e}let rr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});rr.decode();const ca=2146435072;let xr=0;function da(t,e){return xr+=e,xr>=ca&&(rr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),rr.decode(),xr=e),rr.decode(It().subarray(t,t+e))}const Bt=new TextEncoder;"encodeInto"in Bt||(Bt.encodeInto=function(t,e){const r=Bt.encode(t);return e.set(r),{read:t.length,written:r.length}});let rt=0,F;function pa(t,e){return F=t.exports,Ze=null,Rt=null,F.__wbindgen_start(),F}async function ha(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(s){if(t.ok&&r(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const i=await t.arrayBuffer();return await WebAssembly.instantiate(i,e)}else{const i=await WebAssembly.instantiate(t,e);return i instanceof WebAssembly.Instance?{instance:i,module:t}:i}function r(i){switch(i){case"basic":case"cors":case"default":return!0}return!1}}async function ma(t){if(F!==void 0)return F;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),t===void 0&&(t=new URL("/gSnake/main/assets/gsnake_wasm_bg-DptrkWd2.wasm",import.meta.url));const e=la();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:i}=await ha(await t,e);return pa(r)}class va{wasmEngine=null;listeners=[];initialized=!1;levels=[];currentLevelIndex=0;async init(e=null,r=1){if(this.initialized){console.warn("WasmGameEngine already initialized");return}try{await ma()}catch(s){throw this.handleContractError(s,"Failed to initialize WASM module","initializationFailed"),s}try{oa()}catch(s){console.warn("Failed to initialize panic hook:",s)}aa("gSnake WASM engine initialized");try{this.levels=e??sa()}catch(s){throw this.handleContractError(s,"Failed to load levels","initializationFailed"),s}const i=this.normalizeStartLevel(r);if(this.currentLevelIndex=this.resolveStartLevel(i)-1,this.levels.length===0){const s=new Error("No levels available");throw this.handleContractError(s,"Failed to initialize engine","initializationFailed"),s}await this.loadLevelByIndex(this.currentLevelIndex),this.initialized=!0}async loadLevel(e){await this.loadLevelByIndex(e-1)}async restartLevel(){await this.resetLevel()}async loadLevelByIndex(e){if(e<0||e>=this.levels.length)throw new Error(`Invalid level index: ${e}`);const r=this.levels[e];this.currentLevelIndex=e;try{this.wasmEngine=new Dr(r)}catch(i){throw this.handleContractError(i,"Failed to initialize engine","initializationFailed"),i}this.wasmEngine.onFrame(i=>{this.handleFrameUpdate(i)}),this.emitInitialEvents(r);try{const i=this.wasmEngine.getFrame();this.handleFrameUpdate(i)}catch(i){throw this.handleContractError(i,"Failed to get initial frame","initializationFailed"),i}}emitInitialEvents(e){this.emitEvent({type:"levelChanged",level:e})}normalizeStartLevel(e){if(typeof e=="number")return Number.isInteger(e)&&e>0?e:1;if(typeof e=="string"){const r=e.trim();if(!/^\d+$/.test(r))return 1;const i=Number.parseInt(r,10);return Number.isInteger(i)&&i>0?i:1}return 1}resolveStartLevel(e){return this.levels.length===0||e>this.levels.length?1:e}handleFrameUpdate(e){this.emitEvent({type:"frameChanged",frame:e}),e.state.status}processMove(e){if(!this.wasmEngine){console.error("WASM engine not initialized");return}try{this.wasmEngine.processMove(e)}catch(r){this.handleContractError(r,"Error processing move")}}async nextLevel(){this.currentLevelIndex>=this.levels.length-1||(this.currentLevelIndex++,await this.loadLevelByIndex(this.currentLevelIndex))}async resetLevel(){await this.loadLevelByIndex(this.currentLevelIndex)}addEventListener(e){this.listeners.push(e)}getLevels(){return this.levels}emitEvent(e){for(const r of this.listeners)r(e)}handleContractError(e,r,i="internalError"){const s=this.normalizeContractError(e,r,i);if(s){this.emitEvent({type:"engineError",error:s}),console.error(`[ContractError:${s.kind}] ${s.message}`,s.context??{});return}console.error(r,e)}isContractError(e){if(!e||typeof e!="object")return!1;const r=e;return typeof r.kind=="string"&&typeof r.message=="string"}normalizeContractError(e,r,i){if(this.isContractError(e))return e;const s=e instanceof Error?e.message:String(e);return{kind:i,message:r,context:{detail:s}}}}const ct=Be({status:"Playing",currentLevel:1,moves:0,foodCollected:0,totalFood:0}),Bi=Be(0),un=Be(null),Ui=Be(null),Ft=Be(null),Wi=Be([]),nr=Be([]),Br=Be(!1),_t=Be(null);function ga(){return typeof window>"u"?!1:new URLSearchParams(window.location.search).get("contractTest")==="1"}function An(t){if(!ga())return;const e=window,r=e.__gsnakeContract??{};e.__gsnakeContract={...r,...t}}function ya(t){t.addEventListener(e=>{switch(e.type){case"levelChanged":un.set(e.level);break;case"frameChanged":Ui.set(e.frame),ct.set(e.frame.state),Bi.set(_a(e.frame)),Ft.set(null),An({frame:e.frame,error:null});break;case"engineError":Ft.set(e.error),An({error:e.error});break}})}function _a(t){let e=0;for(const r of t.grid)for(const i of r)(i==="SnakeHead"||i==="SnakeBody")&&(e+=1);return e}class ba{constructor(e){this.gameEngine=e,this.keyMap=new Map([["ArrowUp","North"],["ArrowDown","South"],["ArrowLeft","West"],["ArrowRight","East"],["w","North"],["s","South"],["a","West"],["d","East"],["W","North"],["S","South"],["A","West"],["D","East"]]),this.boundHandler=this.handleKeyPress.bind(this),this.unsubscribe=ct.subscribe(r=>{this.currentStatus=r.status})}keyMap;boundHandler;currentStatus="Playing";unsubscribe;handleKeyPress(e){if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const r=e.key,i=r.toLowerCase();switch([" ","Spacebar","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(r)&&e.preventDefault(),["r","q","escape","esc"].includes(i)&&e.preventDefault(),this.currentStatus){case"Playing":this.handlePlayingState(e,i);break;case"GameOver":this.handleGameOverState(e,i);break;case"AllComplete":this.handleAllCompleteState(e,i);break}}handlePlayingState(e,r){if(r==="r"){this.gameEngine.restartLevel();return}if(r==="q"){this.gameEngine.loadLevel(1);return}if(r==="escape"||r==="esc")return;const i=this.keyMap.get(e.key);i&&(e.defaultPrevented||e.preventDefault(),this.gameEngine.processMove(i))}handleGameOverState(e,r){r==="q"||r==="escape"||r==="esc"?this.gameEngine.loadLevel(1):["Control","Shift","Alt","Meta","CapsLock"].includes(e.key)||this.gameEngine.restartLevel()}handleAllCompleteState(e,r){(r==="r"||r==="q"||r==="escape"||r==="esc")&&this.gameEngine.loadLevel(1)}attach(){window.addEventListener("keydown",this.boundHandler)}detach(){window.removeEventListener("keydown",this.boundHandler),this.unsubscribe&&this.unsubscribe()}}function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zt={},Ln;function ka(){if(Ln)return Zt;Ln=1,Object.defineProperty(Zt,"__esModule",{value:!0});function t(e){const r=e.length;let i=0,s=0,a;for(;s<r;)i++,a=e.charCodeAt(s++),a>=55296&&a<=56319&&s<r&&(a=e.charCodeAt(s),(a&64512)===56320&&s++);return i}return Zt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Zt}var xa=ka();const Ea=wa(xa),$a=lr,Pa={properties:{id:{type:"integer",minimum:0,maximum:4294967295,description:"Stable level identifier (u32-compatible)."},name:{type:"string",minLength:1},difficulty:{type:"string"},gridSize:{type:"object",additionalProperties:!1,required:["width","height"],properties:{width:{type:"integer",minimum:1,maximum:2147483647},height:{type:"integer",minimum:1,maximum:2147483647}}},snake:{type:"array",items:{$ref:"#/$defs/position"}},obstacles:{type:"array",items:{$ref:"#/$defs/position"}},food:{type:"array",items:{$ref:"#/$defs/position"}},exit:{$ref:"#/$defs/position"},snakeDirection:{$ref:"#/$defs/direction"},floatingFood:{type:"array",items:{$ref:"#/$defs/position"},default:[]},fallingFood:{type:"array",items:{$ref:"#/$defs/position"},default:[]},stones:{type:"array",items:{$ref:"#/$defs/position"},default:[]},spikes:{type:"array",items:{$ref:"#/$defs/position"},default:[]},exitIsSolid:{type:"boolean",default:!0},totalFood:{type:"integer",minimum:0,maximum:4294967295,description:"Total food required for level completion. Expected to reflect food + floatingFood + fallingFood for editor/server round-trip consistency."}}},Fa={enum:["North","South","East","West"]},Sa=Object.prototype.hasOwnProperty;function lr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:s=t,dynamicAnchors:a={}}={}){let n=null,o=0;const p=lr.evaluated;if(p.dynamicProps&&(p.props=void 0),p.dynamicItems&&(p.items=void 0),t&&typeof t=="object"&&!Array.isArray(t)){if(t.id===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};n===null?n=[u]:n.push(u),o++}if(t.name===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};n===null?n=[u]:n.push(u),o++}if(t.gridSize===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"gridSize"},message:"must have required property 'gridSize'"};n===null?n=[u]:n.push(u),o++}if(t.snake===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"snake"},message:"must have required property 'snake'"};n===null?n=[u]:n.push(u),o++}if(t.obstacles===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"obstacles"},message:"must have required property 'obstacles'"};n===null?n=[u]:n.push(u),o++}if(t.food===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"food"},message:"must have required property 'food'"};n===null?n=[u]:n.push(u),o++}if(t.exit===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"exit"},message:"must have required property 'exit'"};n===null?n=[u]:n.push(u),o++}if(t.snakeDirection===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"snakeDirection"},message:"must have required property 'snakeDirection'"};n===null?n=[u]:n.push(u),o++}if(t.totalFood===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"totalFood"},message:"must have required property 'totalFood'"};n===null?n=[u]:n.push(u),o++}for(const u in t)if(!Sa.call(Pa.properties,u)){const f={instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"};n===null?n=[f]:n.push(f),o++}if(t.id!==void 0){let u=t.id;if(!(typeof u=="number"&&!(u%1)&&!isNaN(u)&&isFinite(u))){const f={instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[f]:n.push(f),o++}if(typeof u=="number"&&isFinite(u)){if(u>4294967295||isNaN(u)){const f={instancePath:e+"/id",schemaPath:"#/properties/id/maximum",keyword:"maximum",params:{comparison:"<=",limit:4294967295},message:"must be <= 4294967295"};n===null?n=[f]:n.push(f),o++}if(u<0||isNaN(u)){const f={instancePath:e+"/id",schemaPath:"#/properties/id/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[f]:n.push(f),o++}}}if(t.name!==void 0){let u=t.name;if(typeof u=="string"){if(Ea(u)<1){const f={instancePath:e+"/name",schemaPath:"#/properties/name/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};n===null?n=[f]:n.push(f),o++}}else{const f={instancePath:e+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[f]:n.push(f),o++}}if(t.difficulty!==void 0&&typeof t.difficulty!="string"){const u={instancePath:e+"/difficulty",schemaPath:"#/properties/difficulty/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[u]:n.push(u),o++}if(t.gridSize!==void 0){let u=t.gridSize;if(u&&typeof u=="object"&&!Array.isArray(u)){if(u.width===void 0){const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/required",keyword:"required",params:{missingProperty:"width"},message:"must have required property 'width'"};n===null?n=[f]:n.push(f),o++}if(u.height===void 0){const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/required",keyword:"required",params:{missingProperty:"height"},message:"must have required property 'height'"};n===null?n=[f]:n.push(f),o++}for(const f in u)if(!(f==="width"||f==="height")){const c={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"};n===null?n=[c]:n.push(c),o++}if(u.width!==void 0){let f=u.width;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<1||isNaN(f)){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};n===null?n=[c]:n.push(c),o++}}}if(u.height!==void 0){let f=u.height;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<1||isNaN(f)){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};n===null?n=[c]:n.push(c),o++}}}}else{const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[f]:n.push(f),o++}}if(t.snake!==void 0){let u=t.snake;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/snake",schemaPath:"#/properties/snake/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.obstacles!==void 0){let u=t.obstacles;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/obstacles",schemaPath:"#/properties/obstacles/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.food!==void 0){let u=t.food;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/food",schemaPath:"#/properties/food/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.exit!==void 0){let u=t.exit;if(u&&typeof u=="object"&&!Array.isArray(u)){if(u.x===void 0){const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[f]:n.push(f),o++}if(u.y===void 0){const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[f]:n.push(f),o++}for(const f in u)if(!(f==="x"||f==="y")){const c={instancePath:e+"/exit",schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"};n===null?n=[c]:n.push(c),o++}if(u.x!==void 0){let f=u.x;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<-2147483648||isNaN(f)){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[c]:n.push(c),o++}}}if(u.y!==void 0){let f=u.y;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<-2147483648||isNaN(f)){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[c]:n.push(c),o++}}}}else{const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[f]:n.push(f),o++}}if(t.snakeDirection!==void 0){let u=t.snakeDirection;if(typeof u!="string"){const f={instancePath:e+"/snakeDirection",schemaPath:"#/$defs/direction/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[f]:n.push(f),o++}if(!(u==="North"||u==="South"||u==="East"||u==="West")){const f={instancePath:e+"/snakeDirection",schemaPath:"#/$defs/direction/enum",keyword:"enum",params:{allowedValues:Fa.enum},message:"must be equal to one of the allowed values"};n===null?n=[f]:n.push(f),o++}}if(t.floatingFood!==void 0){let u=t.floatingFood;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/floatingFood",schemaPath:"#/properties/floatingFood/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.fallingFood!==void 0){let u=t.fallingFood;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/fallingFood",schemaPath:"#/properties/fallingFood/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.stones!==void 0){let u=t.stones;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/stones",schemaPath:"#/properties/stones/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.spikes!==void 0){let u=t.spikes;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let h=u[c];if(h&&typeof h=="object"&&!Array.isArray(h)){if(h.x===void 0){const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(h.y===void 0){const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in h)if(!(l==="x"||l==="y")){const d={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(h.x!==void 0){let l=h.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}if(h.y!==void 0){let l=h.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<-2147483648||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:-2147483648},message:"must be >= -2147483648"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/spikes",schemaPath:"#/properties/spikes/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.exitIsSolid!==void 0&&typeof t.exitIsSolid!="boolean"){const u={instancePath:e+"/exitIsSolid",schemaPath:"#/properties/exitIsSolid/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};n===null?n=[u]:n.push(u),o++}if(t.totalFood!==void 0){let u=t.totalFood;if(!(typeof u=="number"&&!(u%1)&&!isNaN(u)&&isFinite(u))){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[f]:n.push(f),o++}if(typeof u=="number"&&isFinite(u)){if(u>4294967295||isNaN(u)){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/maximum",keyword:"maximum",params:{comparison:"<=",limit:4294967295},message:"must be <= 4294967295"};n===null?n=[f]:n.push(f),o++}if(u<0||isNaN(u)){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[f]:n.push(f),o++}}}}else{const u={instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[u]:n.push(u),o++}return lr.errors=n,o===0}lr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};function Na(t){return!!$a(t)}function Gi(t){return Na(t)}function Aa(t){return Array.isArray(t)&&t.every(e=>Gi(e))}const Er="gsnake_completed_levels";class Cn{static getCompletedLevels(){if(typeof window>"u")return[];try{const e=window.localStorage.getItem(Er);if(!e)return[];const r=JSON.parse(e);if(Array.isArray(r))return r.filter(i=>typeof i=="number")}catch{return[]}return[]}static isCompleted(e){return this.getCompletedLevels().includes(e)}static markCompleted(e){if(typeof window>"u")return[];const r=new Set(this.getCompletedLevels());r.add(e);const i=Array.from(r.values()).sort((s,a)=>s-a);return window.localStorage.setItem(Er,JSON.stringify(i)),i}static clearCompleted(){typeof window>"u"||window.localStorage.removeItem(Er)}}function Vi(t,e){if(new.target)return X({component:Vi,...t});W(e,!1);let r=Y("");gr(async()=>{const o=await fetch(Xo);z(r,await o.text())}),Di(()=>{z(r,"")});var i={$set:J,$on:(o,p)=>K(e,o,p)};pe();var s=lt(),a=qe(s);{var n=o=>{var p=lt(),u=qe(p);Oo(u,()=>m(r)),P(o,p)};oe(a,o=>{m(r)&&o(n)})}return P(t,s),G(i)}var La=q('<div class="score-info svelte-1dhu4nz"><div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Level</span> <span class="score-value svelte-1dhu4nz" data-element-id="level-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Length</span> <span class="score-value svelte-1dhu4nz" data-element-id="length-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Moves</span> <span class="score-value svelte-1dhu4nz" data-element-id="moves-display"> </span></div></div>');function Hi(t,e){if(new.target)return X({component:Hi,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(Bi,"$snakeLength",s),[s,a]=Qe();var n={$set:J,$on:(x,k)=>K(e,x,k)};pe();var o=La(),p=O(o),u=R(O(p),2),f=O(u,!0);S(u),S(p);var c=R(p,2),h=R(O(c),2),l=O(h,!0);S(h),S(c);var d=R(c,2),g=R(O(d),2),_=O(g,!0);S(g),S(d),S(o),ze(()=>{Oe(f,(r(),j(()=>r().currentLevel))),Oe(l,i()),Oe(_,(r(),j(()=>r().moves)))}),P(t,o);var w=G(n);return a(),w}var Ca=q('<button class="restart-btn svelte-1gt3cso" type="button" data-element-id="restart-button">Restart</button>');function Yi(t,e){if(new.target)return X({component:Yi,...t});W(e,!1);let r=le(e,"gameEngine",12),i=le(e,"disabled",12,!1);function s(){i()||(r().restartLevel(),document.activeElement?.blur())}var a={get gameEngine(){return r()},set gameEngine(o){r(o),ae()},get disabled(){return i()},set disabled(o){i(o),ae()},$set:J,$on:(o,p)=>K(e,o,p)};pe();var n=Ca();return ze(()=>{n.disabled=i(),Pt(n,"aria-disabled",i()?"true":"false")}),Re("click",n,s),P(t,n),G(a)}var Ta=q('<button class="level-selector-btn svelte-nwymxs" data-element-id="level-selector-btn">Levels</button>');function Ki(t,e){if(new.target)return X({component:Ki,...t});W(e,!1);function r(){Br.update(a=>!a)}var i={$set:J,$on:(a,n)=>K(e,a,n)};pe();var s=Ta();return Re("click",s,r),P(t,s),G(i)}var Oa=q('<div class="header svelte-1p9f3tg"><!> <div class="header-actions svelte-1p9f3tg"><!> <!></div></div>');function Ji(t,e){if(new.target)return X({component:Ji,...t});W(e,!1);let r=le(e,"gameEngine",12);var i={get gameEngine(){return r()},set gameEngine(u){r(u),ae()},$set:J,$on:(u,f)=>K(e,u,f)},s=Oa(),a=O(s);Hi(a,{});var n=R(a,2),o=O(n);Ki(o,{});var p=R(o,2);return Yi(p,{get gameEngine(){return r()}}),S(n),S(s),P(t,s),G(i)}var qa=Fo('<svg class="cell svelte-1cot28b" viewBox="0 0 32 32"><use></use></svg>');function Xi(t,e){if(new.target)return X({component:Xi,...t});W(e,!1);const r=Y();let i=le(e,"type",12);function s(p){switch(p){case"Spike":return .8;case"Stone":return .85;case"Obstacle":return .9;default:return 1}}ve(()=>Pi(i()),()=>{z(r,s(i()))}),Ht();var a={get type(){return i()},set type(p){i(p),ae()},$set:J,$on:(p,u)=>K(e,p,u)},n=qa(),o=O(n);return S(n),ze(()=>{ln(n,`opacity: ${m(r)??""}`),Pt(o,"href",`#${i()??""}`)}),P(t,n),G(a)}var za=q('<div class="game-field svelte-1tr9vi5" data-element-id="game-field"></div>');function Qi(t,e){if(new.target)return X({component:Qi,...t});W(e,!1);const r=()=>te(Ui,"$frame",i),[i,s]=Qe(),a=Y(),n=Y(),o=Y(),p=Y();ve(()=>r(),()=>{z(a,r()?.grid??[])}),ve(()=>m(a),()=>{z(n,m(a)[0]?.length??0)}),ve(()=>m(a),()=>{z(o,m(a).length)}),ve(()=>m(a),()=>{z(p,m(a).flat())}),Ht();var u={$set:J,$on:(h,l)=>K(e,h,l)};pe();var f=za();Li(f,5,()=>m(p),Ai,(h,l)=>{Xi(h,{get type(){return m(l)}})}),S(f),ze(()=>ln(f,`grid-template-columns: repeat(${m(n)}, 1fr); grid-template-rows: repeat(${m(o)}, 1fr);`)),P(t,f);var c=G(u);return s(),c}var Ra=q('<div class="modal-buttons svelte-12pilp6"><button class="modal-btn primary svelte-12pilp6" data-element-id="restart-level-btn">Restart Level</button> <button class="modal-btn secondary svelte-12pilp6" data-element-id="back-to-level1-btn">Back to Level 1</button></div>'),ja=q('<h2 slot="header" class="modal-title svelte-12pilp6">Game Over</h2>');function Zi(t,e){if(new.target)return X({component:Zi,...t});W(e,!1);let r=le(e,"gameEngine",12),i=Y();gr(()=>{m(i)?.focus()});function s(){r().restartLevel()}function a(){r().loadLevel(1)}var n={get gameEngine(){return r()},set gameEngine(o){r(o),ae()},$set:J,$on:(o,p)=>K(e,o,p)};return pe(),Yt(t,{open:!0,children:(o,p)=>{var u=Ra(),f=O(u);Go(f,h=>z(i,h),()=>m(i));var c=R(f,2);S(u),Re("click",f,s),Re("click",c,a),P(o,u)},$$slots:{default:!0,header:(o,p)=>{var u=ja();P(o,u)}}}),G(n)}var Ma=q(`<p class="message svelte-1nm595l">Congratulations! You've beaten all levels.</p> <p class="detail svelte-1nm595l">Refresh the page to play again.</p>`,1),Da=q('<h2 slot="header" class="modal-title svelte-1nm595l">All Levels Complete!</h2>');function es(t,e){if(new.target)return X({component:es,...t});W(e,!1);var r={$set:J,$on:(i,s)=>K(e,i,s)};return Yt(t,{open:!0,children:(i,s)=>{var a=Ma();Dn(2),P(i,a)},$$slots:{default:!0,header:(i,s)=>{var a=Da();P(i,a)}}}),G(r)}var Ia=q('<p class="message svelte-1vgivec"> </p> <p class="detail svelte-1vgivec">Kind: <span class="svelte-1vgivec"> </span></p> <div class="modal-buttons svelte-1vgivec"><button class="modal-btn primary svelte-1vgivec">Reload</button> <button class="modal-btn secondary svelte-1vgivec">Dismiss</button></div>',1),Ba=q('<h2 slot="header" class="modal-title svelte-1vgivec">Engine Error</h2>');function ts(t,e){if(new.target)return X({component:ts,...t});W(e,!1);const r=()=>te(Ft,"$engineError",i),[i,s]=Qe();function a(){window.location.reload()}function n(){Ft.set(null)}var o={$set:J,$on:(u,f)=>K(e,u,f)};pe(),Yt(t,{open:!0,"data-element-id":"engine-error-modal",children:(u,f)=>{var c=Ia(),h=qe(c),l=O(h,!0);S(h);var d=R(h,2),g=R(O(d)),_=O(g,!0);S(g),S(d);var w=R(d,2),x=O(w),k=R(x,2);S(w),ze(()=>{Oe(l,(r(),j(()=>r()?.message??"Unexpected engine error."))),Oe(_,(r(),j(()=>r()?.kind??"internalError")))}),Re("click",x,a),Re("click",k,n),P(u,c)},$$slots:{default:!0,header:(u,f)=>{var c=Ba();P(u,c)}}});var p=G(o);return s(),p}var Ua=q('<p class="message svelte-ld2jyi"> </p> <div class="actions svelte-ld2jyi"><button class="modal-btn svelte-ld2jyi">Continue</button></div>',1),Wa=q('<h2 slot="header" class="modal-title svelte-ld2jyi">Level Load Failed</h2>');function rs(t,e){if(new.target)return X({component:rs,...t});W(e,!1);const r=()=>te(_t,"$levelLoadError",i),[i,s]=Qe();function a(){_t.set(null)}var n={$set:J,$on:(p,u)=>K(e,p,u)};pe(),Yt(t,{open:!0,children:(p,u)=>{var f=Ua(),c=qe(f),h=O(c,!0);S(c);var l=R(c,2),d=O(l);S(l),ze(()=>Oe(h,r())),Re("click",d,a),P(p,f)},$$slots:{default:!0,header:(p,u)=>{var f=Wa();P(p,f)}}});var o=G(n);return s(),o}function ns(t,e){if(new.target)return X({component:ns,...t});W(e,!1);const r=()=>te(_t,"$levelLoadError",a),i=()=>te(Ft,"$engineError",a),s=()=>te(ct,"$gameState",a),[a,n]=Qe(),o=Y(),p=Y(),u=Y(),f=Y(),c=Y();let h=le(e,"gameEngine",12);ve(()=>r(),()=>{z(o,r()!==null)}),ve(()=>i(),()=>{z(p,i()!==null)}),ve(()=>s(),()=>{z(u,s().status==="GameOver")}),ve(()=>s(),()=>{z(f,s().status==="AllComplete")}),ve(()=>(m(o),m(p),m(u),m(f)),()=>{z(c,m(o)||m(p)||m(u)||m(f))}),Ht();var l={get gameEngine(){return h()},set gameEngine(g){h(g),ae()},$set:J,$on:(g,_)=>K(e,g,_)};pe(),Ii(t,{get visible(){return m(c)},"data-element-id":"overlay",children:(g,_)=>{var w=lt(),x=qe(w);{var k=y=>{rs(y,{})},$=y=>{ts(y,{})},b=y=>{Zi(y,{get gameEngine(){return h()}})},v=y=>{es(y,{})};oe(x,y=>{m(o)?y(k):m(p)?y($,1):m(u)?y(b,2):m(f)&&y(v,3)})}P(g,w)},$$slots:{default:!0}});var d=G(l);return n(),d}var Ga=q('<div class="empty-state svelte-xz0hsc">No levels loaded.</div>'),Va=q("<div> </div>"),Ha=q('<div class="level-status svelte-xz0hsc">Completed</div>'),Ya=q('<div class="level-status current svelte-xz0hsc">Current</div>'),Ka=q('<button><div class="level-number svelte-xz0hsc"> </div> <div class="level-name svelte-xz0hsc"> </div> <!> <!> <!></button>'),Ja=q('<div class="level-grid svelte-xz0hsc"></div>'),Xa=q('<div class="level-overlay svelte-xz0hsc" data-element-id="level-selector-overlay"><div class="level-panel svelte-xz0hsc"><div class="level-header svelte-xz0hsc"><div><h2 class="svelte-xz0hsc">Choose a Level</h2> <p class="svelte-xz0hsc">Select a level to play. Completed levels are marked.</p></div> <button class="close-btn svelte-xz0hsc">Close</button></div> <!></div></div>');function is(t,e){if(new.target)return X({component:is,...t});W(e,!1);const r=()=>te(ct,"$gameState",n),i=()=>te(nr,"$completedLevels",n),s=()=>te(Br,"$levelSelectorOpen",n),a=()=>te(Wi,"$availableLevels",n),[n,o]=Qe(),p=Y();let u=le(e,"gameEngine",12);function f(){Br.set(!1)}async function c(x,k){await u().loadLevel(k+1),f()}function h(x){return i().includes(x)}ve(()=>r(),()=>{z(p,r().currentLevel)}),Ht();var l={get gameEngine(){return u()},set gameEngine(x){u(x),ae()},$set:J,$on:(x,k)=>K(e,x,k)};pe();var d=lt(),g=qe(d);{var _=x=>{var k=Xa(),$=O(k),b=O($),v=R(O(b),2);S(b);var y=R(b,2);{var C=T=>{var he=Ga();P(T,he)},M=T=>{var he=Ja();Li(he,5,a,Ai,(yr,V,ls)=>{var Lt=Ka(),_r=O(Lt),us=O(_r);S(_r);var br=R(_r,2),fs=O(br,!0);S(br);var fn=R(br,2);{var cs=ue=>{var Ue=Va(),vs=O(Ue);S(Ue),ze(()=>{Rr(Ue,1,(m(V),j(()=>`level-difficulty difficulty-${m(V).difficulty}`)),"svelte-xz0hsc"),Oe(vs,`(${m(V),j(()=>m(V).difficulty)??""})`)}),P(ue,Ue)};oe(fn,ue=>{m(V),j(()=>m(V).difficulty)&&ue(cs)})}var cn=R(fn,2);{var ds=ue=>{var Ue=Ha();P(ue,Ue)},ps=io(()=>(m(V),j(()=>h(m(V).id))));oe(cn,ue=>{m(ps)&&ue(ds)})}var hs=R(cn,2);{var ms=ue=>{var Ue=Ya();P(ue,Ue)};oe(hs,ue=>{m(V),m(p),j(()=>m(V).id===m(p))&&ue(ms)})}S(Lt),ze(ue=>{Rr(Lt,1,ue,"svelte-xz0hsc"),Oe(us,`Level ${m(V),j(()=>m(V).id)??""}`),Oe(fs,(m(V),j(()=>m(V).name)))},[()=>(m(V),m(p),j(()=>`level-card ${h(m(V).id)?"completed":""} ${m(V).id===m(p)?"current":""}`))]),Re("click",Lt,()=>c(m(V),ls)),P(yr,Lt)}),S(he),P(T,he)};oe(y,T=>{a(),j(()=>a().length===0)?T(C):T(M,!1)})}S($),S(k),Re("click",v,f),P(x,k)};oe(g,x=>{s()&&x(_)})}P(t,d);var w=G(l);return o(),w}var Qa=q("<span> </span>"),Za=q('<div class="banner svelte-nhblr0" data-element-id="level-complete-banner"><strong>Level Complete!</strong> <!></div>');function ss(t,e){if(new.target)return X({component:ss,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(un,"$level",s),[s,a]=Qe();var n={$set:J,$on:(c,h)=>K(e,c,h)};pe();var o=lt(),p=qe(o);{var u=c=>{var h=Za(),l=R(O(h),2);{var d=g=>{var _=Qa(),w=O(_,!0);S(_),ze(()=>Oe(w,(i(),j(()=>i().name)))),P(g,_)};oe(l,g=>{i()&&g(d)})}S(h),P(c,h)};oe(p,c=>{r(),j(()=>r().status==="LevelComplete")&&c(u)})}P(t,o);var f=G(n);return a(),f}var el=q('<div class="game-container svelte-jug5a6"><!> <!> <!> <!> <!></div>');function os(t,e){if(new.target)return X({component:os,...t});W(e,!1);let r=le(e,"gameEngine",12);var i={get gameEngine(){return r()},set gameEngine(f){r(f),ae()},$set:J,$on:(f,c)=>K(e,f,c)},s=el(),a=O(s);Ji(a,{get gameEngine(){return r()}});var n=R(a,2);ss(n,{});var o=R(n,2);Qi(o,{});var p=R(o,2);ns(p,{get gameEngine(){return r()}});var u=R(p,2);return is(u,{get gameEngine(){return r()}}),S(s),P(t,s),G(i)}var tl=q('<div class="startup-loading svelte-1kkrq9g" data-element-id="engine-loading-indicator" role="status" aria-live="polite">Loading game engine...</div>'),rl=q("<!> <!>",1);function as(t,e){if(new.target)return X({component:as,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(un,"$level",s),[s,a]=Qe(),n=new va;let o,p=Y(null),u=Y(!0),f=!0;gr(async()=>{const b=new URLSearchParams(window.location.search),v=b.get("level"),y=b.get("levelsUrl"),C=b.get("test")==="true";ya(n),o=new ba(n),o.attach(),nr.set(Cn.getCompletedLevels());let M=null;if(C){const T=await h();M=T.levels,M||_t.set(T.error??"Failed to load test level. Make sure the test server is running on port 3001.")}else if(y){const T=await c(y);M=T.levels,M||_t.set(T.error??`Failed to load levels from ${y}. Using default levels instead.`)}try{await n.init(M,v),Wi.set(n.getLevels())}catch(T){console.error("Failed to initialize game engine",T);const he=l(T);he?Ft.set(he):_t.set("Failed to initialize game engine. Please reload and try again.")}finally{f&&z(u,!1)}}),Di(()=>{f=!1,o&&o.detach()});async function c(b){try{const v=await fetch(b);if(!v.ok)return{levels:null,error:`Failed to fetch levels (${v.status}). Using default levels instead.`};const y=await v.json();return Aa(y)?{levels:y}:{levels:null,error:"Levels file has an invalid schema. Using default levels instead."}}catch(v){return console.error("Failed to fetch custom levels",v),{levels:null,error:"Network, CORS, or JSON error while loading levels. Using default levels instead."}}}async function h(){try{const b=await fetch("http://localhost:3001/api/test-level");if(!b.ok)return{levels:null,error:`Failed to fetch test level (${b.status}). Make sure the test server is running (npm run server).`};const v=await b.json();return Gi(v)?{levels:[v]}:{levels:null,error:"Test level has an invalid schema."}}catch(b){return console.error("Failed to fetch test level",b),{levels:null,error:"Failed to connect to test server. Make sure it is running on port 3001 (npm run server)."}}}function l(b){if(!b||typeof b!="object")return null;const v=b;return typeof v.kind!="string"||typeof v.message!="string"?null:v}ve(()=>(r(),m(p),i(),nr),()=>{if(r().status!=="LevelComplete")z(p,null);else if(i()&&m(p)!==i().id){z(p,i().id);const b=Cn.markCompleted(i().id);nr.set(b)}}),Ht();var d={$set:J,$on:(b,v)=>K(e,b,v)};pe();var g=rl(),_=qe(g);Vi(_,{});var w=R(_,2);{var x=b=>{var v=tl();P(b,v)},k=b=>{os(b,{get gameEngine(){return n}})};oe(w,b=>{m(u)?b(x):b(k,!1)})}P(t,g);var $=G(d);return a(),$}an(as,{target:document.getElementById("app")});
