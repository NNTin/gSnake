(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const n of a.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();const $r=!1;var Ur=Array.isArray,ws=Array.prototype.indexOf,bt=Array.prototype.includes,ur=Array.from,Wr=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,On=Object.getOwnPropertyDescriptors,ks=Object.prototype,xs=Array.prototype,Gr=Object.getPrototypeOf,dn=Object.isExtensible;const yt=()=>{};function Es(t){return t()}function Pr(t){for(var e=0;e<t.length;e++)t[e]()}function qn(){var t,e,r=new Promise((i,s)=>{t=i,e=s});return{promise:r,resolve:t,reject:e}}const Z=2,ir=4,Ut=8,Vr=1<<24,De=16,Fe=32,ut=64,Hr=128,ge=512,U=1024,ee=2048,be=4096,de=8192,Me=16384,fr=32768,wt=65536,pn=1<<17,zn=1<<18,Ft=1<<19,jn=1<<20,Ve=1<<25,st=32768,Sr=1<<21,Yr=1<<22,He=1<<23,Ie=Symbol("$state"),Rn=Symbol("legacy props"),$s=Symbol(""),ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},cr=3,ft=8;function Mn(t){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Ps(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ss(t,e,r){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Fs(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ns(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function As(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Ls(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Cs(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ts(t){throw new Error("https://svelte.dev/e/props_invalid_value")}function Os(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function qs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function js(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Rs=1,Ms=2,Is=16,Ds=1,Bs=2,In=4,Us=8,Ws=16,Gs=1,Vs=2,Kr="[",dr="[!",Jr="]",ot={},H=Symbol(),Hs="http://www.w3.org/1999/xhtml",Ys="@attach";function Wt(t){console.warn("https://svelte.dev/e/hydration_mismatch")}function Ks(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Js(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let $=!1;function $e(t){$=t}let N;function re(t){if(t===null)throw Wt(),ot;return N=t}function at(){return re(Ne(N))}function F(t){if($){if(Ne(N)!==null)throw Wt(),ot;N=t}}function Dn(t=1){if($){for(var e=t,r=N;e--;)r=Ne(r);N=r}}function sr(t=!0){for(var e=0,r=N;;){if(r.nodeType===ft){var i=r.data;if(i===Jr){if(e===0)return r;e-=1}else(i===Kr||i===dr||i[0]==="["&&!isNaN(Number(i.slice(1))))&&(e+=1)}var s=Ne(r);t&&r.remove(),r=s}}function Bn(t){if(!t||t.nodeType!==ft)throw Wt(),ot;return t.data}function Un(t){return t===this.v}function Wn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function Gn(t){return!Wn(t,this.v)}let Nt=!1,Xs=!1;function Qs(){Nt=!0}let D=null;function kt(t){D=t}function W(t,e=!1,r){D={p:D,i:!1,c:null,e:null,s:t,x:null,l:Nt&&!e?{s:null,u:null,$:[]}:null}}function G(t){var e=D,r=e.e;if(r!==null){e.e=null;for(var i of r)ci(i)}return t!==void 0&&(e.x=t),e.i=!0,D=e.p,t??{}}function Gt(){return!Nt||D!==null&&D.l===null}let et=[];function Vn(){var t=et;et=[],Pr(t)}function Ce(t){if(et.length===0&&!Mt){var e=et;queueMicrotask(()=>{e===et&&Vn()})}et.push(t)}function Zs(){for(;et.length>0;)Vn()}function Hn(t){var e=A;if(e===null)return L.f|=He,t;if((e.f&fr)===0){if((e.f&Hr)===0)throw t;e.b.error(t)}else xt(t,e)}function xt(t,e){for(;e!==null;){if((e.f&Hr)!==0)try{e.b.error(t);return}catch(r){t=r}e=e.parent}throw t}const eo=-7169;function B(t,e){t.f=t.f&eo|e}function Xr(t){(t.f&ge)!==0||t.deps===null?B(t,U):B(t,be)}function Yn(t){if(t!==null)for(const e of t)(e.f&Z)===0||(e.f&st)===0||(e.f^=st,Yn(e.deps))}function Kn(t,e,r){(t.f&ee)!==0?e.add(t):(t.f&be)!==0&&r.add(t),Yn(t.deps),B(t,U)}const Kt=new Set;let I=null,Ee=null,ne=[],pr=null,Fr=!1,Mt=!1;class Ye{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#r=0;#o=0;#a=null;#i=new Set;#n=new Set;#s=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#o>0}skip_effect(e){this.#s.has(e)||this.#s.set(e,{d:[],m:[]})}unskip_effect(e){var r=this.#s.get(e);if(r){this.#s.delete(e);for(var i of r.d)B(i,ee),Pe(i);for(i of r.m)B(i,be),Pe(i)}}process(e){ne=[],this.apply();var r=[],i=[];for(const s of e)this.#u(s,r,i);if(this.is_deferred()){this.#c(i),this.#c(r);for(const[s,a]of this.#s)Zn(s,a)}else{for(const s of this.#e)s();this.#e.clear(),this.#r===0&&this.#f(),I=null,mn(i),mn(r),this.#a?.resolve()}Ee=null}#u(e,r,i){e.f^=U;for(var s=e.first,a=null;s!==null;){var n=s.f,o=(n&(Fe|ut))!==0,p=o&&(n&U)!==0,u=p||(n&de)!==0||this.#s.has(s);if(!u&&s.fn!==null){o?s.f^=U:a!==null&&(n&(ir|Ut|Vr))!==0?a.b.defer_effect(s):(n&ir)!==0?r.push(s):At(s)&&((n&De)!==0&&this.#n.add(s),$t(s));var f=s.first;if(f!==null){s=f;continue}}var c=s.parent;for(s=s.next;s===null&&c!==null;)c===a&&(a=null),s=c.next,c=c.parent}}#c(e){for(var r=0;r<e.length;r+=1)Kn(e[r],this.#i,this.#n)}capture(e,r){r!==H&&!this.previous.has(e)&&this.previous.set(e,r),(e.f&He)===0&&(this.current.set(e,e.v),Ee?.set(e,e.v))}activate(){I=this,this.apply()}deactivate(){I===this&&(I=null,Ee=null)}flush(){if(this.activate(),ne.length>0){if(Jn(),I!==null&&I!==this)return}else this.#r===0&&this.process([]);this.deactivate()}discard(){for(const e of this.#t)e(this);this.#t.clear()}#f(){if(Kt.size>1){this.previous.clear();var e=Ee,r=!0;for(const s of Kt){if(s===this){r=!1;continue}const a=[];for(const[o,p]of this.current){if(s.current.has(o))if(r&&p!==s.current.get(o))s.current.set(o,p);else continue;a.push(o)}if(a.length===0)continue;const n=[...s.current.keys()].filter(o=>!this.current.has(o));if(n.length>0){var i=ne;ne=[];const o=new Set,p=new Map;for(const u of a)Xn(u,n,o,p);if(ne.length>0){I=s,s.apply();for(const u of ne)s.#u(u,[],[]);s.deactivate()}ne=i}}I=null,Ee=e}this.committed=!0,Kt.delete(this)}increment(e){this.#r+=1,e&&(this.#o+=1)}decrement(e){this.#r-=1,e&&(this.#o-=1),!this.#l&&(this.#l=!0,Ce(()=>{this.#l=!1,this.is_deferred()?ne.length>0&&this.flush():this.revive()}))}revive(){for(const e of this.#i)this.#n.delete(e),B(e,ee),Pe(e);for(const e of this.#n)B(e,be),Pe(e);this.flush()}oncommit(e){this.#e.add(e)}ondiscard(e){this.#t.add(e)}settled(){return(this.#a??=qn()).promise}static ensure(){if(I===null){const e=I=new Ye;Kt.add(I),Mt||Ce(()=>{I===e&&e.flush()})}return I}apply(){}}function ae(t){var e=Mt;Mt=!0;try{for(var r;;){if(Zs(),ne.length===0&&(I?.flush(),ne.length===0))return pr=null,r;Jn()}}finally{Mt=e}}function Jn(){Fr=!0;var t=null;try{for(var e=0;ne.length>0;){var r=Ye.ensure();if(e++>1e3){var i,s;to()}r.process(ne),Ke.clear()}}finally{ne=[],Fr=!1,pr=null}}function to(){try{Ls()}catch(t){xt(t,pr)}}let Re=null;function mn(t){var e=t.length;if(e!==0){for(var r=0;r<e;){var i=t[r++];if((i.f&(Me|de))===0&&At(i)&&(Re=new Set,$t(i),i.deps===null&&i.first===null&&i.nodes===null&&(i.teardown===null&&i.ac===null?vi(i):i.fn=null),Re?.size>0)){Ke.clear();for(const s of Re){if((s.f&(Me|de))!==0)continue;const a=[s];let n=s.parent;for(;n!==null;)Re.has(n)&&(Re.delete(n),a.push(n)),n=n.parent;for(let o=a.length-1;o>=0;o--){const p=a[o];(p.f&(Me|de))===0&&$t(p)}}Re.clear()}}Re=null}}function Xn(t,e,r,i){if(!r.has(t)&&(r.add(t),t.reactions!==null))for(const s of t.reactions){const a=s.f;(a&Z)!==0?Xn(s,e,r,i):(a&(Yr|De))!==0&&(a&ee)===0&&Qn(s,e,i)&&(B(s,ee),Pe(s))}}function Qn(t,e,r){const i=r.get(t);if(i!==void 0)return i;if(t.deps!==null)for(const s of t.deps){if(bt.call(e,s))return!0;if((s.f&Z)!==0&&Qn(s,e,r))return r.set(s,!0),!0}return r.set(t,!1),!1}function Pe(t){for(var e=pr=t;e.parent!==null;){e=e.parent;var r=e.f;if(Fr&&e===A&&(r&De)!==0&&(r&zn)===0)return;if((r&(ut|Fe))!==0){if((r&U)===0)return;e.f^=U}}ne.push(e)}function Zn(t,e){if(!((t.f&Fe)!==0&&(t.f&U)!==0)){(t.f&ee)!==0?e.d.push(t):(t.f&be)!==0&&e.m.push(t),B(t,U);for(var r=t.first;r!==null;)Zn(r,e),r=r.next}}function ro(t){let e=0,r=Je(0),i;return()=>{rn()&&(h(r),vr(()=>(e===0&&(i=R(()=>t(()=>It(r)))),e+=1,()=>{Ce(()=>{e-=1,e===0&&(i?.(),i=void 0,It(r))})})))}}var no=wt|Ft|Hr;function io(t,e,r){new so(t,e,r)}class so{parent;is_pending=!1;#e;#t=$?N:null;#r;#o;#a;#i=null;#n=null;#s=null;#l=null;#u=null;#c=0;#f=0;#m=!1;#p=!1;#h=new Set;#v=new Set;#d=null;#w=ro(()=>(this.#d=Je(this.#c),()=>{this.#d=null}));constructor(e,r,i){this.#e=e,this.#r=r,this.#o=i,this.parent=A.b,this.is_pending=!!this.#r.pending,this.#a=nn(()=>{if(A.b=this,$){const a=this.#t;at(),a.nodeType===ft&&a.data===dr?this.#x():(this.#k(),this.#f===0&&(this.is_pending=!1))}else{var s=this.#_();try{this.#i=se(()=>i(s))}catch(a){this.error(a)}this.#f>0?this.#y():this.is_pending=!1}return()=>{this.#u?.remove()}},no),$&&(this.#e=N)}#k(){try{this.#i=se(()=>this.#o(this.#e))}catch(e){this.error(e)}}#x(){const e=this.#r.pending;e&&(this.#n=se(()=>e(this.#e)),Ce(()=>{var r=this.#_();this.#i=this.#g(()=>(Ye.ensure(),se(()=>this.#o(r)))),this.#f>0?this.#y():(nt(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#_(){var e=this.#e;return this.is_pending&&(this.#u=ye(),this.#e.before(this.#u),e=this.#u),e}defer_effect(e){Kn(e,this.#h,this.#v)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#r.pending}#g(e){var r=A,i=L,s=D;ke(this.#a),we(this.#a),kt(this.#a.ctx);try{return e()}catch(a){return Hn(a),null}finally{ke(r),we(i),kt(s)}}#y(){const e=this.#r.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#u),_i(this.#i,this.#l)),this.#n===null&&(this.#n=se(()=>e(this.#e)))}#b(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#b(e);return}if(this.#f+=e,this.#f===0){this.is_pending=!1;for(const r of this.#h)B(r,ee),Pe(r);for(const r of this.#v)B(r,be),Pe(r);this.#h.clear(),this.#v.clear(),this.#n&&nt(this.#n,()=>{this.#n=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(e){this.#b(e),this.#c+=e,!(!this.#d||this.#m)&&(this.#m=!0,Ce(()=>{this.#m=!1,this.#d&&Et(this.#d,this.#c)}))}get_effect_pending(){return this.#w(),h(this.#d)}error(e){var r=this.#r.onerror;let i=this.#r.failed;if(this.#p||!r&&!i)throw e;this.#i&&(Q(this.#i),this.#i=null),this.#n&&(Q(this.#n),this.#n=null),this.#s&&(Q(this.#s),this.#s=null),$&&(re(this.#t),Dn(),re(sr()));var s=!1,a=!1;const n=()=>{if(s){Js();return}s=!0,a&&js(),Ye.ensure(),this.#c=0,this.#s!==null&&nt(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#g(()=>(this.#p=!1,se(()=>this.#o(this.#e)))),this.#f>0?this.#y():this.is_pending=!1};Ce(()=>{try{a=!0,r?.(e,n),a=!1}catch(o){xt(o,this.#a&&this.#a.parent)}i&&(this.#s=this.#g(()=>{Ye.ensure(),this.#p=!0;try{return se(()=>{i(this.#e,()=>e,()=>n)})}catch(o){return xt(o,this.#a.parent),null}finally{this.#p=!1}}))})}}function ei(t,e,r,i){const s=Gt()?Vt:Qr;var a=t.filter(m=>!m.settled);if(r.length===0&&a.length===0){i(e.map(s));return}var n=I,o=A,p=oo(),u=a.length===1?a[0].promise:a.length>1?Promise.all(a.map(m=>m.promise)):null;function f(m){p();try{i(m)}catch(l){(o.f&Me)===0&&xt(l,o)}n?.deactivate(),Nr()}if(r.length===0){u.then(()=>f(e.map(s)));return}function c(){p(),Promise.all(r.map(m=>ao(m))).then(m=>f([...e.map(s),...m])).catch(m=>xt(m,o))}u?u.then(c):c()}function oo(){var t=A,e=L,r=D,i=I;return function(a=!0){ke(t),we(e),kt(r),a&&i?.activate()}}function Nr(){ke(null),we(null),kt(null)}function Vt(t){var e=Z|ee,r=L!==null&&(L.f&Z)!==0?L:null;return A!==null&&(A.f|=Ft),{ctx:D,deps:null,effects:null,equals:Un,f:e,fn:t,reactions:null,rv:0,v:H,wv:0,parent:r??A,ac:null}}function ao(t,e,r){let i=A;i===null&&Ps();var s=i.b,a=void 0,n=Je(H),o=!L,p=new Map;return yo(()=>{var u=qn();a=u.promise;try{Promise.resolve(t()).then(u.resolve,u.reject).then(()=>{f===I&&f.committed&&f.deactivate(),Nr()})}catch(l){u.reject(l),Nr()}var f=I;if(o){var c=s.is_rendered();s.update_pending_count(1),f.increment(c),p.get(f)?.reject(ht),p.delete(f),p.set(f,u)}const m=(l,d=void 0)=>{if(f.activate(),d)d!==ht&&(n.f|=He,Et(n,d));else{(n.f&He)!==0&&(n.f^=He),Et(n,l);for(const[g,_]of p){if(p.delete(g),g===f)break;_.reject(ht)}}o&&(s.update_pending_count(-1),f.decrement(c))};u.promise.then(m,l=>m(null,l||"unknown"))}),mr(()=>{for(const u of p.values())u.reject(ht)}),new Promise(u=>{function f(c){function m(){c===a?u(n):f(a)}c.then(m,m)}f(a)})}function lo(t){const e=Vt(t);return bi(e),e}function Qr(t){const e=Vt(t);return e.equals=Gn,e}function ti(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)Q(e[r])}}function uo(t){for(var e=t.parent;e!==null;){if((e.f&Z)===0)return(e.f&Me)===0?e:null;e=e.parent}return null}function Zr(t){var e,r=A;ke(uo(t));try{t.f&=~st,ti(t),e=Ei(t)}finally{ke(r)}return e}function ri(t){var e=Zr(t);if(!t.equals(e)&&(t.wv=ki(),(!I?.is_fork||t.deps===null)&&(t.v=e,t.deps===null))){B(t,U);return}Xe||(Ee!==null?(rn()||I?.is_fork)&&Ee.set(t,e):Xr(t))}let Ar=new Set;const Ke=new Map;let ni=!1;function Je(t,e){var r={f:0,v:t,reactions:null,equals:Un,rv:0,wv:0};return r}function We(t,e){const r=Je(t);return bi(r),r}function Y(t,e=!1,r=!0){const i=Je(t);return e||(i.equals=Gn),Nt&&r&&D!==null&&D.l!==null&&(D.l.s??=[]).push(i),i}function z(t,e,r=!1){L!==null&&(!Se||(L.f&pn)!==0)&&Gt()&&(L.f&(Z|De|Yr|pn))!==0&&(_e===null||!bt.call(_e,t))&&zs();let i=r?vt(e):e;return Et(t,i)}function Et(t,e){if(!t.equals(e)){var r=t.v;Xe?Ke.set(t,e):Ke.set(t,r),t.v=e;var i=Ye.ensure();if(i.capture(t,r),(t.f&Z)!==0){const s=t;(t.f&ee)!==0&&Zr(s),Xr(s)}t.wv=ki(),ii(t,ee),Gt()&&A!==null&&(A.f&U)!==0&&(A.f&(Fe|ut))===0&&(he===null?bo([t]):he.push(t)),!i.is_fork&&Ar.size>0&&!ni&&fo()}return e}function fo(){ni=!1;for(const t of Ar)(t.f&U)!==0&&B(t,be),At(t)&&$t(t);Ar.clear()}function hn(t,e=1){var r=h(t),i=e===1?r++:r--;return z(t,r),i}function It(t){z(t,t.v+1)}function ii(t,e){var r=t.reactions;if(r!==null)for(var i=Gt(),s=r.length,a=0;a<s;a++){var n=r[a],o=n.f;if(!(!i&&n===A)){var p=(o&ee)===0;if(p&&B(n,e),(o&Z)!==0){var u=n;Ee?.delete(u),(o&st)===0&&(o&ge&&(n.f|=st),ii(u,be))}else p&&((o&De)!==0&&Re!==null&&Re.add(n),Pe(n))}}}function vt(t){if(typeof t!="object"||t===null||Ie in t)return t;const e=Gr(t);if(e!==ks&&e!==xs)return t;var r=new Map,i=Ur(t),s=We(0),a=it,n=o=>{if(it===a)return o();var p=L,u=it;we(null),bn(a);var f=o();return we(p),bn(u),f};return i&&r.set("length",We(t.length)),new Proxy(t,{defineProperty(o,p,u){(!("value"in u)||u.configurable===!1||u.enumerable===!1||u.writable===!1)&&Os();var f=r.get(p);return f===void 0?n(()=>{var c=We(u.value);return r.set(p,c),c}):z(f,u.value,!0),!0},deleteProperty(o,p){var u=r.get(p);if(u===void 0){if(p in o){const f=n(()=>We(H));r.set(p,f),It(s)}}else z(u,H),It(s);return!0},get(o,p,u){if(p===Ie)return t;var f=r.get(p),c=p in o;if(f===void 0&&(!c||gt(o,p)?.writable)&&(f=n(()=>{var l=vt(c?o[p]:H),d=We(l);return d}),r.set(p,f)),f!==void 0){var m=h(f);return m===H?void 0:m}return Reflect.get(o,p,u)},getOwnPropertyDescriptor(o,p){var u=Reflect.getOwnPropertyDescriptor(o,p);if(u&&"value"in u){var f=r.get(p);f&&(u.value=h(f))}else if(u===void 0){var c=r.get(p),m=c?.v;if(c!==void 0&&m!==H)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return u},has(o,p){if(p===Ie)return!0;var u=r.get(p),f=u!==void 0&&u.v!==H||Reflect.has(o,p);if(u!==void 0||A!==null&&(!f||gt(o,p)?.writable)){u===void 0&&(u=n(()=>{var m=f?vt(o[p]):H,l=We(m);return l}),r.set(p,u));var c=h(u);if(c===H)return!1}return f},set(o,p,u,f){var c=r.get(p),m=p in o;if(i&&p==="length")for(var l=u;l<c.v;l+=1){var d=r.get(l+"");d!==void 0?z(d,H):l in o&&(d=n(()=>We(H)),r.set(l+"",d))}if(c===void 0)(!m||gt(o,p)?.writable)&&(c=n(()=>We(void 0)),z(c,vt(u)),r.set(p,c));else{m=c.v!==H;var g=n(()=>vt(u));z(c,g)}var _=Reflect.getOwnPropertyDescriptor(o,p);if(_?.set&&_.set.call(f,u),!m){if(i&&typeof p=="string"){var w=r.get("length"),x=Number(p);Number.isInteger(x)&&x>=w.v&&z(w,x+1)}It(s)}return!0},ownKeys(o){h(s);var p=Reflect.ownKeys(o).filter(c=>{var m=r.get(c);return m===void 0||m.v!==H});for(var[u,f]of r)f.v!==H&&!(u in o)&&p.push(u);return p},setPrototypeOf(){qs()}})}function vn(t){try{if(t!==null&&typeof t=="object"&&Ie in t)return t[Ie]}catch{}return t}function co(t,e){return Object.is(vn(t),vn(e))}var gn,si,oi,ai;function Lr(){if(gn===void 0){gn=window,si=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;oi=gt(e,"firstChild").get,ai=gt(e,"nextSibling").get,dn(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),dn(r)&&(r.__t=void 0)}}function ye(t=""){return document.createTextNode(t)}function ce(t){return oi.call(t)}function Ne(t){return ai.call(t)}function O(t,e){if(!$)return ce(t);var r=ce(N);if(r===null)r=N.appendChild(ye());else if(e&&r.nodeType!==cr){var i=ye();return r?.before(i),re(i),i}return e&&en(r),re(r),r}function qe(t,e=!1){if(!$){var r=ce(t);return r instanceof Comment&&r.data===""?Ne(r):r}if(e){if(N?.nodeType!==cr){var i=ye();return N?.before(i),re(i),i}en(N)}return N}function j(t,e=1,r=!1){let i=$?N:t;for(var s;e--;)s=i,i=Ne(i);if(!$)return i;if(r){if(i?.nodeType!==cr){var a=ye();return i===null?s?.after(a):i.before(a),re(a),a}en(i)}return re(i),i}function li(t){t.textContent=""}function ui(){return!1}function en(t){if(t.nodeValue.length<65536)return;let e=t.nextSibling;for(;e!==null&&e.nodeType===cr;)e.remove(),t.nodeValue+=e.nodeValue,e=t.nextSibling}function po(t,e){if(e){const r=document.body;t.autofocus=!0,Ce(()=>{document.activeElement===r&&t.focus()})}}let yn=!1;function mo(){yn||(yn=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{if(!t.defaultPrevented)for(const e of t.target.elements)e.__on_r?.()})},{capture:!0}))}function tn(t){var e=L,r=A;we(null),ke(null);try{return t()}finally{we(e),ke(r)}}function fi(t){A===null&&(L===null&&As(),Ns()),Xe&&Fs()}function ho(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function Ae(t,e,r){var i=A;i!==null&&(i.f&de)!==0&&(t|=de);var s={ctx:D,deps:null,nodes:null,f:t|ee|ge,first:null,fn:e,last:null,next:null,parent:i,b:i&&i.b,prev:null,teardown:null,wv:0,ac:null};if(r)try{$t(s),s.f|=fr}catch(o){throw Q(s),o}else e!==null&&Pe(s);var a=s;if(r&&a.deps===null&&a.teardown===null&&a.nodes===null&&a.first===a.last&&(a.f&Ft)===0&&(a=a.first,(t&De)!==0&&(t&wt)!==0&&a!==null&&(a.f|=wt)),a!==null&&(a.parent=i,i!==null&&ho(a,i),L!==null&&(L.f&Z)!==0&&(t&ut)===0)){var n=L;(n.effects??=[]).push(a)}return s}function rn(){return L!==null&&!Se}function mr(t){const e=Ae(Ut,null,!1);return B(e,U),e.teardown=t,e}function Cr(t){fi();var e=A.f,r=!L&&(e&Fe)!==0&&(e&fr)===0;if(r){var i=D;(i.e??=[]).push(t)}else return ci(t)}function ci(t){return Ae(ir|jn,t,!1)}function vo(t){return fi(),Ae(Ut|jn,t,!0)}function go(t){Ye.ensure();const e=Ae(ut|Ft,t,!0);return(r={})=>new Promise(i=>{r.outro?nt(e,()=>{Q(e),i(void 0)}):(Q(e),i(void 0))})}function hr(t){return Ae(ir,t,!1)}function ve(t,e){var r=D,i={effect:null,ran:!1,deps:t};r.l.$.push(i),i.effect=vr(()=>{t(),!i.ran&&(i.ran=!0,R(e))})}function Ht(){var t=D;vr(()=>{for(var e of t.l.$){e.deps();var r=e.effect;(r.f&U)!==0&&r.deps!==null&&B(r,be),At(r)&&$t(r),e.ran=!1}})}function yo(t){return Ae(Yr|Ft,t,!0)}function vr(t,e=0){return Ae(Ut|e,t,!0)}function ze(t,e=[],r=[],i=[]){ei(i,e,r,s=>{Ae(Ut,()=>t(...s.map(h)),!0)})}function nn(t,e=0){var r=Ae(De|e,t,!0);return r}function di(t,e=0){var r=Ae(Vr|e,t,!0);return r}function se(t){return Ae(Fe|Ft,t,!0)}function pi(t){var e=t.teardown;if(e!==null){const r=Xe,i=L;_n(!0),we(null);try{e.call(null)}finally{_n(r),we(i)}}}function mi(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){const s=r.ac;s!==null&&tn(()=>{s.abort(ht)});var i=r.next;(r.f&ut)!==0?r.parent=null:Q(r,e),r=i}}function _o(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&Fe)===0&&Q(e),e=r}}function Q(t,e=!0){var r=!1;(e||(t.f&zn)!==0)&&t.nodes!==null&&t.nodes.end!==null&&(hi(t.nodes.start,t.nodes.end),r=!0),mi(t,e&&!r),or(t,0),B(t,Me);var i=t.nodes&&t.nodes.t;if(i!==null)for(const a of i)a.stop();pi(t);var s=t.parent;s!==null&&s.first!==null&&vi(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes=t.ac=null}function hi(t,e){for(;t!==null;){var r=t===e?null:Ne(t);t.remove(),t=r}}function vi(t){var e=t.parent,r=t.prev,i=t.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),e!==null&&(e.first===t&&(e.first=i),e.last===t&&(e.last=r))}function nt(t,e,r=!0){var i=[];gi(t,i,!0);var s=()=>{r&&Q(t),e&&e()},a=i.length;if(a>0){var n=()=>--a||s();for(var o of i)o.out(n)}else s()}function gi(t,e,r){if((t.f&de)===0){t.f^=de;var i=t.nodes&&t.nodes.t;if(i!==null)for(const o of i)(o.is_global||r)&&e.push(o);for(var s=t.first;s!==null;){var a=s.next,n=(s.f&wt)!==0||(s.f&Fe)!==0&&(t.f&De)!==0;gi(s,e,n?r:!1),s=a}}}function sn(t){yi(t,!0)}function yi(t,e){if((t.f&de)!==0){t.f^=de,(t.f&U)===0&&(B(t,ee),Pe(t));for(var r=t.first;r!==null;){var i=r.next,s=(r.f&wt)!==0||(r.f&Fe)!==0;yi(r,s?e:!1),r=i}var a=t.nodes&&t.nodes.t;if(a!==null)for(const n of a)(n.is_global||e)&&n.in()}}function _i(t,e){if(t.nodes)for(var r=t.nodes.start,i=t.nodes.end;r!==null;){var s=r===i?null:Ne(r);e.append(r),r=s}}let er=!1,Xe=!1;function _n(t){Xe=t}let L=null,Se=!1;function we(t){L=t}let A=null;function ke(t){A=t}let _e=null;function bi(t){L!==null&&(_e===null?_e=[t]:_e.push(t))}let ie=null,fe=0,he=null;function bo(t){he=t}let wi=1,tt=0,it=tt;function bn(t){it=t}function ki(){return++wi}function At(t){var e=t.f;if((e&ee)!==0)return!0;if(e&Z&&(t.f&=~st),(e&be)!==0){for(var r=t.deps,i=r.length,s=0;s<i;s++){var a=r[s];if(At(a)&&ri(a),a.wv>t.wv)return!0}(e&ge)!==0&&Ee===null&&B(t,U)}return!1}function xi(t,e,r=!0){var i=t.reactions;if(i!==null&&!(_e!==null&&bt.call(_e,t)))for(var s=0;s<i.length;s++){var a=i[s];(a.f&Z)!==0?xi(a,e,!1):e===a&&(r?B(a,ee):(a.f&U)!==0&&B(a,be),Pe(a))}}function Ei(t){var e=ie,r=fe,i=he,s=L,a=_e,n=D,o=Se,p=it,u=t.f;ie=null,fe=0,he=null,L=(u&(Fe|ut))===0?t:null,_e=null,kt(t.ctx),Se=!1,it=++tt,t.ac!==null&&(tn(()=>{t.ac.abort(ht)}),t.ac=null);try{t.f|=Sr;var f=t.fn,c=f(),m=t.deps,l=I?.is_fork;if(ie!==null){var d;if(l||or(t,fe),m!==null&&fe>0)for(m.length=fe+ie.length,d=0;d<ie.length;d++)m[fe+d]=ie[d];else t.deps=m=ie;if(rn()&&(t.f&ge)!==0)for(d=fe;d<m.length;d++)(m[d].reactions??=[]).push(t)}else!l&&m!==null&&fe<m.length&&(or(t,fe),m.length=fe);if(Gt()&&he!==null&&!Se&&m!==null&&(t.f&(Z|be|ee))===0)for(d=0;d<he.length;d++)xi(he[d],t);if(s!==null&&s!==t){if(tt++,s.deps!==null)for(let g=0;g<r;g+=1)s.deps[g].rv=tt;if(e!==null)for(const g of e)g.rv=tt;he!==null&&(i===null?i=he:i.push(...he))}return(t.f&He)!==0&&(t.f^=He),c}catch(g){return Hn(g)}finally{t.f^=Sr,ie=e,fe=r,he=i,L=s,_e=a,kt(n),Se=o,it=p}}function wo(t,e){let r=e.reactions;if(r!==null){var i=ws.call(r,t);if(i!==-1){var s=r.length-1;s===0?r=e.reactions=null:(r[i]=r[s],r.pop())}}if(r===null&&(e.f&Z)!==0&&(ie===null||!bt.call(ie,e))){var a=e;(a.f&ge)!==0&&(a.f^=ge,a.f&=~st),Xr(a),ti(a),or(a,0)}}function or(t,e){var r=t.deps;if(r!==null)for(var i=e;i<r.length;i++)wo(t,r[i])}function $t(t){var e=t.f;if((e&Me)===0){B(t,U);var r=A,i=er;A=t,er=!0;try{(e&(De|Vr))!==0?_o(t):mi(t),pi(t);var s=Ei(t);t.teardown=typeof s=="function"?s:null,t.wv=wi;var a;$r&&Xs&&(t.f&ee)!==0&&t.deps}finally{er=i,A=r}}}function h(t){var e=t.f,r=(e&Z)!==0;if(L!==null&&!Se){var i=A!==null&&(A.f&Me)!==0;if(!i&&(_e===null||!bt.call(_e,t))){var s=L.deps;if((L.f&Sr)!==0)t.rv<tt&&(t.rv=tt,ie===null&&s!==null&&s[fe]===t?fe++:ie===null?ie=[t]:ie.push(t));else{(L.deps??=[]).push(t);var a=t.reactions;a===null?t.reactions=[L]:bt.call(a,L)||a.push(L)}}}if(Xe&&Ke.has(t))return Ke.get(t);if(r){var n=t;if(Xe){var o=n.v;return((n.f&U)===0&&n.reactions!==null||Pi(n))&&(o=Zr(n)),Ke.set(n,o),o}var p=(n.f&ge)===0&&!Se&&L!==null&&(er||(L.f&ge)!==0),u=n.deps===null;At(n)&&(p&&(n.f|=ge),ri(n)),p&&!u&&$i(n)}if(Ee?.has(t))return Ee.get(t);if((t.f&He)!==0)throw t.v;return t.v}function $i(t){if(t.deps!==null){t.f|=ge;for(const e of t.deps)(e.reactions??=[]).push(t),(e.f&Z)!==0&&(e.f&ge)===0&&$i(e)}}function Pi(t){if(t.v===H)return!0;if(t.deps===null)return!1;for(const e of t.deps)if(Ke.has(e)||(e.f&Z)!==0&&Pi(e))return!0;return!1}function R(t){var e=Se;try{return Se=!0,t()}finally{Se=e}}function Si(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Ie in t)Tr(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Ie in r&&Tr(r)}}}function Tr(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let i in t)try{Tr(t[i],e)}catch{}const r=Gr(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=On(r);for(let s in i){const a=i[s].get;if(a)try{a.call(t)}catch{}}}}}function ko(t){return t.endsWith("capture")&&t!=="gotpointercapture"&&t!=="lostpointercapture"}const xo=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Eo(t){return xo.includes(t)}const $o={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Po(t){return t=t.toLowerCase(),$o[t]??t}const So=["touchstart","touchmove"];function Fo(t){return So.includes(t)}const Fi=new Set,Or=new Set;function Ni(t,e,r,i={}){function s(a){if(i.capture||qt.call(e,a),!a.cancelBubble)return tn(()=>r?.call(this,a))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?Ce(()=>{e.addEventListener(t,s,i)}):e.addEventListener(t,s,i),s}function je(t,e,r,i,s){var a={capture:i,passive:s},n=Ni(t,e,r,a);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&mr(()=>{e.removeEventListener(t,n,a)})}function No(t){for(var e=0;e<t.length;e++)Fi.add(t[e]);for(var r of Or)r(t)}let wn=null;function qt(t){var e=this,r=e.ownerDocument,i=t.type,s=t.composedPath?.()||[],a=s[0]||t.target;wn=t;var n=0,o=wn===t&&t.__root;if(o){var p=s.indexOf(o);if(p!==-1&&(e===document||e===window)){t.__root=e;return}var u=s.indexOf(e);if(u===-1)return;p<=u&&(n=p)}if(a=s[n]||t.target,a!==e){Wr(t,"currentTarget",{configurable:!0,get(){return a||r}});var f=L,c=A;we(null),ke(null);try{for(var m,l=[];a!==null;){var d=a.assignedSlot||a.parentNode||a.host||null;try{var g=a["__"+i];g!=null&&(!a.disabled||t.target===a)&&g.call(a,t)}catch(_){m?l.push(_):m=_}if(t.cancelBubble||d===e||d===null)break;a=d}if(m){for(let _ of l)queueMicrotask(()=>{throw _});throw m}}finally{t.__root=e,delete t.currentTarget,we(f),ke(c)}}}function on(t){var e=document.createElement("template");return e.innerHTML=t.replaceAll("<!>","<!---->"),e.content}function Te(t,e){var r=A;r.nodes===null&&(r.nodes={start:t,end:e,a:null,t:null})}function q(t,e){var r=(e&Gs)!==0,i=(e&Vs)!==0,s,a=!t.startsWith("<!>");return()=>{if($)return Te(N,null),N;s===void 0&&(s=on(a?t:"<!>"+t),r||(s=ce(s)));var n=i||si?document.importNode(s,!0):s.cloneNode(!0);if(r){var o=ce(n),p=n.lastChild;Te(o,p)}else Te(n,n);return n}}function Ao(t,e,r="svg"){var i=!t.startsWith("<!>"),s=`<${r}>${i?t:"<!>"+t}</${r}>`,a;return()=>{if($)return Te(N,null),N;if(!a){var n=on(s),o=ce(n);a=ce(o)}var p=a.cloneNode(!0);return Te(p,p),p}}function Lo(t,e){return Ao(t,e,"svg")}function lt(){if($)return Te(N,null),N;var t=document.createDocumentFragment(),e=document.createComment(""),r=ye();return t.append(e,r),Te(e,r),t}function S(t,e){if($){var r=A;((r.f&fr)===0||r.nodes.end===null)&&(r.nodes.end=N),at();return}t!==null&&t.before(e)}function Oe(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??=t.nodeValue)&&(t.__t=r,t.nodeValue=r+"")}function an(t,e){return Ai(t,e)}function Co(t,e){Lr(),e.intro=e.intro??!1;const r=e.target,i=$,s=N;try{for(var a=ce(r);a&&(a.nodeType!==ft||a.data!==Kr);)a=Ne(a);if(!a)throw ot;$e(!0),re(a);const n=Ai(t,{...e,anchor:a});return $e(!1),n}catch(n){if(n instanceof Error&&n.message.split(`
`).some(o=>o.startsWith("https://svelte.dev/e/")))throw n;return n!==ot&&console.warn("Failed to hydrate: ",n),e.recover===!1&&Cs(),Lr(),li(r),$e(!1),an(t,e)}finally{$e(i),re(s)}}const dt=new Map;function Ai(t,{target:e,anchor:r,props:i={},events:s,context:a,intro:n=!0}){Lr();var o=new Set,p=c=>{for(var m=0;m<c.length;m++){var l=c[m];if(!o.has(l)){o.add(l);var d=Fo(l);e.addEventListener(l,qt,{passive:d});var g=dt.get(l);g===void 0?(document.addEventListener(l,qt,{passive:d}),dt.set(l,1)):dt.set(l,g+1)}}};p(ur(Fi)),Or.add(p);var u=void 0,f=go(()=>{var c=r??e.appendChild(ye());return io(c,{pending:()=>{}},m=>{W({});var l=D;if(a&&(l.c=a),s&&(i.$$events=s),$&&Te(m,null),u=t(m,i)||{},$&&(A.nodes.end=N,N===null||N.nodeType!==ft||N.data!==Jr))throw Wt(),ot;G()}),()=>{for(var m of o){e.removeEventListener(m,qt);var l=dt.get(m);--l===0?(document.removeEventListener(m,qt),dt.delete(m)):dt.set(m,l)}Or.delete(p),c!==r&&c.parentNode?.removeChild(c)}});return qr.set(u,f),u}let qr=new WeakMap;function To(t,e){const r=qr.get(t);return r?(qr.delete(t),r(e)):Promise.resolve()}class Oo{anchor;#e=new Map;#t=new Map;#r=new Map;#o=new Set;#a=!0;constructor(e,r=!0){this.anchor=e,this.#a=r}#i=()=>{var e=I;if(this.#e.has(e)){var r=this.#e.get(e),i=this.#t.get(r);if(i)sn(i),this.#o.delete(r);else{var s=this.#r.get(r);s&&(this.#t.set(r,s.effect),this.#r.delete(r),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),i=s.effect)}for(const[a,n]of this.#e){if(this.#e.delete(a),a===e)break;const o=this.#r.get(n);o&&(Q(o.effect),this.#r.delete(n))}for(const[a,n]of this.#t){if(a===r||this.#o.has(a))continue;const o=()=>{if(Array.from(this.#e.values()).includes(a)){var u=document.createDocumentFragment();_i(n,u),u.append(ye()),this.#r.set(a,{effect:n,fragment:u})}else Q(n);this.#o.delete(a),this.#t.delete(a)};this.#a||!i?(this.#o.add(a),nt(n,o,!1)):o()}}};#n=e=>{this.#e.delete(e);const r=Array.from(this.#e.values());for(const[i,s]of this.#r)r.includes(i)||(Q(s.effect),this.#r.delete(i))};ensure(e,r){var i=I,s=ui();if(r&&!this.#t.has(e)&&!this.#r.has(e))if(s){var a=document.createDocumentFragment(),n=ye();a.append(n),this.#r.set(e,{effect:se(()=>r(n)),fragment:a})}else this.#t.set(e,se(()=>r(this.anchor)));if(this.#e.set(i,e),s){for(const[o,p]of this.#t)o===e?i.unskip_effect(p):i.skip_effect(p);for(const[o,p]of this.#r)o===e?i.unskip_effect(p.effect):i.skip_effect(p.effect);i.oncommit(this.#i),i.ondiscard(this.#n)}else $&&(this.anchor=N),this.#i()}}function oe(t,e,r=!1){$&&at();var i=new Oo(t),s=r?wt:0;function a(n,o){if($){const f=Bn(t);var p;if(f===Kr?p=0:f===dr?p=!1:p=parseInt(f.substring(1)),n!==p){var u=sr();re(u),i.anchor=u,$e(!1),i.ensure(n,o),$e(!0);return}}i.ensure(n,o)}nn(()=>{var n=!1;e((o,p=0)=>{n=!0,a(p,o)}),n||a(!1,null)},s)}function Li(t,e){return e}function qo(t,e,r){for(var i=[],s=e.length,a,n=e.length,o=0;o<s;o++){let c=e[o];nt(c,()=>{if(a){if(a.pending.delete(c),a.done.add(c),a.pending.size===0){var m=t.outrogroups;zr(ur(a.done)),m.delete(a),m.size===0&&(t.outrogroups=null)}}else n-=1},!1)}if(n===0){var p=i.length===0&&r!==null;if(p){var u=r,f=u.parentNode;li(f),f.append(u),t.items.clear()}zr(e,!p)}else a={pending:new Set(e),done:new Set},(t.outrogroups??=new Set).add(a)}function zr(t,e=!0){for(var r=0;r<t.length;r++)Q(t[r],e)}var kn;function Ci(t,e,r,i,s,a=null){var n=t,o=new Map;{var p=t;n=$?re(ce(p)):p.appendChild(ye())}$&&at();var u=null,f=Qr(()=>{var _=r();return Ur(_)?_:_==null?[]:ur(_)}),c,m=!0;function l(){g.fallback=u,zo(g,c,n,e,i),u!==null&&(c.length===0?(u.f&Ve)===0?sn(u):(u.f^=Ve,zt(u,null,n)):nt(u,()=>{u=null}))}var d=nn(()=>{c=h(f);var _=c.length;let w=!1;if($){var x=Bn(n)===dr;x!==(_===0)&&(n=sr(),re(n),$e(!1),w=!0)}for(var k=new Set,P=I,b=ui(),v=0;v<_;v+=1){$&&N.nodeType===ft&&N.data===Jr&&(n=N,w=!0,$e(!1));var y=c[v],C=i(y,v),M=m?null:o.get(C);M?(M.v&&Et(M.v,y),M.i&&Et(M.i,v),b&&P.unskip_effect(M.e)):(M=jo(o,m?n:kn??=ye(),y,C,v,s,e,r),m||(M.e.f|=Ve),o.set(C,M)),k.add(C)}if(_===0&&a&&!u&&(m?u=se(()=>a(n)):(u=se(()=>a(kn??=ye())),u.f|=Ve)),_>k.size&&Ss(),$&&_>0&&re(sr()),!m)if(b){for(const[T,me]of o)k.has(T)||P.skip_effect(me.e);P.oncommit(l),P.ondiscard(()=>{})}else l();w&&$e(!0),h(f)}),g={effect:d,items:o,outrogroups:null,fallback:u};m=!1,$&&(n=N)}function Ct(t){for(;t!==null&&(t.f&Fe)===0;)t=t.next;return t}function zo(t,e,r,i,s){var a=e.length,n=t.items,o=Ct(t.effect.first),p,u=null,f=[],c=[],m,l,d,g;for(g=0;g<a;g+=1){if(m=e[g],l=s(m,g),d=n.get(l).e,t.outrogroups!==null)for(const C of t.outrogroups)C.pending.delete(d),C.done.delete(d);if((d.f&Ve)!==0)if(d.f^=Ve,d===o)zt(d,null,r);else{var _=u?u.next:o;d===t.effect.last&&(t.effect.last=d.prev),d.prev&&(d.prev.next=d.next),d.next&&(d.next.prev=d.prev),Ge(t,u,d),Ge(t,d,_),zt(d,_,r),u=d,f=[],c=[],o=Ct(u.next);continue}if((d.f&de)!==0&&sn(d),d!==o){if(p!==void 0&&p.has(d)){if(f.length<c.length){var w=c[0],x;u=w.prev;var k=f[0],P=f[f.length-1];for(x=0;x<f.length;x+=1)zt(f[x],w,r);for(x=0;x<c.length;x+=1)p.delete(c[x]);Ge(t,k.prev,P.next),Ge(t,u,k),Ge(t,P,w),o=w,u=P,g-=1,f=[],c=[]}else p.delete(d),zt(d,o,r),Ge(t,d.prev,d.next),Ge(t,d,u===null?t.effect.first:u.next),Ge(t,u,d),u=d;continue}for(f=[],c=[];o!==null&&o!==d;)(p??=new Set).add(o),c.push(o),o=Ct(o.next);if(o===null)continue}(d.f&Ve)===0&&f.push(d),u=d,o=Ct(d.next)}if(t.outrogroups!==null){for(const C of t.outrogroups)C.pending.size===0&&(zr(ur(C.done)),t.outrogroups?.delete(C));t.outrogroups.size===0&&(t.outrogroups=null)}if(o!==null||p!==void 0){var b=[];if(p!==void 0)for(d of p)(d.f&de)===0&&b.push(d);for(;o!==null;)(o.f&de)===0&&o!==t.fallback&&b.push(o),o=Ct(o.next);var v=b.length;if(v>0){var y=a===0?r:null;qo(t,b,y)}}}function jo(t,e,r,i,s,a,n,o){var p=(n&Rs)!==0?(n&Is)===0?Y(r,!1,!1):Je(r):null,u=(n&Ms)!==0?Je(s):null;return{v:p,i:u,e:se(()=>(a(e,p??r,u??s,o),()=>{t.delete(i)}))}}function zt(t,e,r){if(t.nodes)for(var i=t.nodes.start,s=t.nodes.end,a=e&&(e.f&Ve)===0?e.nodes.start:r;i!==null;){var n=Ne(i);if(a.before(i),i===s)return;i=n}}function Ge(t,e,r){e===null?t.effect.first=r:e.next=r,r===null?t.effect.last=e:r.prev=e}function Ro(t,e,r=!1,i=!1,s=!1){var a=t,n="";ze(()=>{var o=A;if(n===(n=e()??"")){$&&at();return}if(o.nodes!==null&&(hi(o.nodes.start,o.nodes.end),o.nodes=null),n!==""){if($){N.data;for(var p=at(),u=p;p!==null&&(p.nodeType!==ft||p.data!=="");)u=p,p=Ne(p);if(p===null)throw Wt(),ot;Te(N,u),a=re(p);return}var f=n+"";r?f=`<svg>${f}</svg>`:i&&(f=`<math>${f}</math>`);var c=on(f);if((r||i)&&(c=ce(c)),Te(ce(c),c.lastChild),r||i)for(;ce(c);)a.before(ce(c));else a.before(c)}})}function tr(t,e,r,i,s){$&&at();var a=e.$$slots?.[r],n=!1;a===!0&&(a=e[r==="default"?"children":r],n=!0),a===void 0||a(t,n?()=>i:i)}function Mo(t){const e={};t.children&&(e.default=!0);for(const r in t.$$slots)e[r]=!0;return e}function Ti(t,e){hr(()=>{var r=t.getRootNode(),i=r.host?r:r.head??r.ownerDocument.head;if(!i.querySelector("#"+e.hash)){const s=document.createElement("style");s.id=e.hash,s.textContent=e.code,i.appendChild(s)}})}function Io(t,e){var r=void 0,i;di(()=>{r!==(r=e())&&(i&&(Q(i),i=null),r&&(i=se(()=>{hr(()=>r(t))})))})}function Oi(t){var e,r,i="";if(typeof t=="string"||typeof t=="number")i+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Oi(t[e]))&&(i&&(i+=" "),i+=r)}else for(r in t)t[r]&&(i&&(i+=" "),i+=r);return i}function Do(){for(var t,e,r=0,i="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Oi(t))&&(i&&(i+=" "),i+=e);return i}function Bo(t){return typeof t=="object"?Do(t):t??""}const xn=[...` 	
\r\fÂ \v\uFEFF`];function Uo(t,e,r){var i=t==null?"":""+t;if(e&&(i=i?i+" "+e:e),r){for(var s in r)if(r[s])i=i?i+" "+s:s;else if(i.length)for(var a=s.length,n=0;(n=i.indexOf(s,n))>=0;){var o=n+a;(n===0||xn.includes(i[n-1]))&&(o===i.length||xn.includes(i[o]))?i=(n===0?"":i.substring(0,n))+i.substring(o+1):n=o}}return i===""?null:i}function En(t,e=!1){var r=e?" !important;":";",i="";for(var s in t){var a=t[s];a!=null&&a!==""&&(i+=" "+s+": "+a+r)}return i}function wr(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Wo(t,e){if(e){var r="",i,s;if(Array.isArray(e)?(i=e[0],s=e[1]):i=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var a=!1,n=0,o=!1,p=[];i&&p.push(...Object.keys(i).map(wr)),s&&p.push(...Object.keys(s).map(wr));var u=0,f=-1;const g=t.length;for(var c=0;c<g;c++){var m=t[c];if(o?m==="/"&&t[c-1]==="*"&&(o=!1):a?a===m&&(a=!1):m==="/"&&t[c+1]==="*"?o=!0:m==='"'||m==="'"?a=m:m==="("?n++:m===")"&&n--,!o&&a===!1&&n===0){if(m===":"&&f===-1)f=c;else if(m===";"||c===g-1){if(f!==-1){var l=wr(t.substring(u,f).trim());if(!p.includes(l)){m!==";"&&c++;var d=t.substring(u,c).trim();r+=" "+d+";"}}u=c+1,f=-1}}}}return i&&(r+=En(i)),s&&(r+=En(s,!0)),r=r.trim(),r===""?null:r}return t==null?null:String(t)}function jr(t,e,r,i,s,a){var n=t.__className;if($||n!==r||n===void 0){var o=Uo(r,i,a);(!$||o!==t.getAttribute("class"))&&(o==null?t.removeAttribute("class"):e?t.className=o:t.setAttribute("class",o)),t.__className=r}else if(a&&s!==a)for(var p in a){var u=!!a[p];(s==null||u!==!!s[p])&&t.classList.toggle(p,u)}return a}function kr(t,e={},r,i){for(var s in r){var a=r[s];e[s]!==a&&(r[s]==null?t.style.removeProperty(s):t.style.setProperty(s,a,i))}}function ln(t,e,r,i){var s=t.__style;if($||s!==e){var a=Wo(e,i);(!$||a!==t.getAttribute("style"))&&(a==null?t.removeAttribute("style"):t.style.cssText=a),t.__style=e}else i&&(Array.isArray(i)?(kr(t,r?.[0],i[0]),kr(t,r?.[1],i[1],"important")):kr(t,r,i));return i}function Rr(t,e,r=!1){if(t.multiple){if(e==null)return;if(!Ur(e))return Ks();for(var i of t.options)i.selected=e.includes($n(i));return}for(i of t.options){var s=$n(i);if(co(s,e)){i.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Go(t){var e=new MutationObserver(()=>{Rr(t,t.__value)});e.observe(t,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),mr(()=>{e.disconnect()})}function $n(t){return"__value"in t?t.__value:t.value}const mt=Symbol("class"),Tt=Symbol("style"),qi=Symbol("is custom element"),zi=Symbol("is html");function Vo(t){if($){var e=!1,r=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var i=t.value;Pt(t,"value",null),t.value=i}if(t.hasAttribute("checked")){var s=t.checked;Pt(t,"checked",null),t.checked=s}}};t.__on_r=r,Ce(r),mo()}}function Ho(t,e){e?t.hasAttribute("selected")||t.setAttribute("selected",""):t.removeAttribute("selected")}function Pt(t,e,r,i){var s=Ri(t);$&&(s[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||s[e]!==(s[e]=r)&&(e==="loading"&&(t[$s]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Mi(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function Yo(t,e,r,i,s=!1,a=!1){if($&&s&&t.tagName==="INPUT"){var n=t,o=n.type==="checkbox"?"defaultChecked":"defaultValue";o in r||Vo(n)}var p=Ri(t),u=p[qi],f=!p[zi];let c=$&&u;c&&$e(!1);var m=e||{},l=t.tagName==="OPTION";for(var d in e)d in r||(r[d]=null);r.class?r.class=Bo(r.class):(i||r[mt])&&(r.class=null),r[Tt]&&(r.style??=null);var g=Mi(t);for(const v in r){let y=r[v];if(l&&v==="value"&&y==null){t.value=t.__value="",m[v]=y;continue}if(v==="class"){var _=t.namespaceURI==="http://www.w3.org/1999/xhtml";jr(t,_,y,i,e?.[mt],r[mt]),m[v]=y,m[mt]=r[mt];continue}if(v==="style"){ln(t,y,e?.[Tt],r[Tt]),m[v]=y,m[Tt]=r[Tt];continue}var w=m[v];if(!(y===w&&!(y===void 0&&t.hasAttribute(v)))){m[v]=y;var x=v[0]+v[1];if(x!=="$$")if(x==="on"){const C={},M="$$"+v;let T=v.slice(2);var k=Eo(T);if(ko(T)&&(T=T.slice(0,-7),C.capture=!0),!k&&w){if(y!=null)continue;t.removeEventListener(T,m[M],C),m[M]=null}if(y!=null)if(k)t[`__${T}`]=y,No([T]);else{let me=function(yr){m[v].call(this,yr)};m[M]=Ni(T,t,me,C)}else k&&(t[`__${T}`]=void 0)}else if(v==="style")Pt(t,v,y);else if(v==="autofocus")po(t,!!y);else if(!u&&(v==="__value"||v==="value"&&y!=null))t.value=t.__value=y;else if(v==="selected"&&l)Ho(t,y);else{var P=v;f||(P=Po(P));var b=P==="defaultValue"||P==="defaultChecked";if(y==null&&!u&&!b)if(p[v]=null,P==="value"||P==="checked"){let C=t;const M=e===void 0;if(P==="value"){let T=C.defaultValue;C.removeAttribute(P),C.defaultValue=T,C.value=C.__value=M?T:null}else{let T=C.defaultChecked;C.removeAttribute(P),C.defaultChecked=T,C.checked=M?T:!1}}else t.removeAttribute(v);else b||g.includes(P)&&(u||typeof y!="string")?(t[P]=y,P in p&&(p[P]=H)):typeof y!="function"&&Pt(t,P,y)}}}return c&&$e(!0),m}function ji(t,e,r=[],i=[],s=[],a,n=!1,o=!1){ei(s,r,i,p=>{var u=void 0,f={},c=t.nodeName==="SELECT",m=!1;if(di(()=>{var d=e(...p.map(h)),g=Yo(t,u,d,a,n,o);m&&c&&"value"in d&&Rr(t,d.value);for(let w of Object.getOwnPropertySymbols(f))d[w]||Q(f[w]);for(let w of Object.getOwnPropertySymbols(d)){var _=d[w];w.description===Ys&&(!u||_!==u[w])&&(f[w]&&Q(f[w]),f[w]=se(()=>Io(t,()=>_))),g[w]=_}u=g}),c){var l=t;hr(()=>{Rr(l,u.value,!0),Go(l)})}m=!0})}function Ri(t){return t.__attributes??={[qi]:t.nodeName.includes("-"),[zi]:t.namespaceURI===Hs}}var Pn=new Map;function Mi(t){var e=t.getAttribute("is")||t.nodeName,r=Pn.get(e);if(r)return r;Pn.set(e,r=[]);for(var i,s=t,a=Element.prototype;a!==s;){i=On(s);for(var n in i)i[n].set&&r.push(n);s=Gr(s)}return r}function Sn(t,e){return t===e||t?.[Ie]===e}function Ko(t={},e,r,i){return hr(()=>{var s,a;return vr(()=>{s=a,a=[],R(()=>{t!==r(...a)&&(e(t,...a),s&&Sn(r(...s),t)&&e(null,...s))})}),()=>{Ce(()=>{a&&Sn(r(...a),t)&&e(null,...a)})}}),t}function pe(t=!1){const e=D,r=e.l.u;if(!r)return;let i=()=>Si(e.s);if(t){let s=0,a={};const n=Vt(()=>{let o=!1;const p=e.s;for(const u in p)p[u]!==a[u]&&(a[u]=p[u],o=!0);return o&&s++,s});i=()=>h(n)}r.b.length&&vo(()=>{Fn(e,i),Pr(r.b)}),Cr(()=>{const s=R(()=>r.m.map(Es));return()=>{for(const a of s)typeof a=="function"&&a()}}),r.a.length&&Cr(()=>{Fn(e,i),Pr(r.a)})}function Fn(t,e){if(t.l.s)for(const r of t.l.s)h(r);e()}function K(t,e,r){t.$$events||={},t.$$events[e]||=[],t.$$events[e].push(r)}function J(t){for(var e in t)e in this&&(this[e]=t[e])}function Ii(t,e,r){if(t==null)return e(void 0),yt;const i=R(()=>t.subscribe(e,r));return i.unsubscribe?()=>i.unsubscribe():i}const pt=[];function Be(t,e=yt){let r=null;const i=new Set;function s(o){if(Wn(t,o)&&(t=o,r)){const p=!pt.length;for(const u of i)u[1](),pt.push(u,t);if(p){for(let u=0;u<pt.length;u+=2)pt[u][0](pt[u+1]);pt.length=0}}}function a(o){s(o(t))}function n(o,p=yt){const u=[o,p];return i.add(u),i.size===1&&(r=e(s,a)||yt),o(t),()=>{i.delete(u),i.size===0&&r&&(r(),r=null)}}return{set:s,update:a,subscribe:n}}function Jo(t){let e;return Ii(t,r=>e=r)(),e}let Jt=!1,Mr=Symbol();function te(t,e,r){const i=r[e]??={store:null,source:Y(void 0),unsubscribe:yt};if(i.store!==t&&!(Mr in r))if(i.unsubscribe(),i.store=t??null,t==null)i.source.v=void 0,i.unsubscribe=yt;else{var s=!0;i.unsubscribe=Ii(t,a=>{s?i.source.v=a:z(i.source,a)}),s=!1}return t&&Mr in r?Jo(t):h(i.source)}function Qe(){const t={};function e(){mr(()=>{for(var r in t)t[r].unsubscribe();Wr(t,Mr,{enumerable:!1,value:!0})})}return[t,e]}function Xo(t){var e=Jt;try{return Jt=!1,[t(),Jt]}finally{Jt=e}}const Qo={get(t,e){if(!t.exclude.includes(e))return h(t.version),e in t.special?t.special[e]():t.props[e]},set(t,e,r){if(!(e in t.special)){var i=A;try{ke(t.parent_effect),t.special[e]=le({get[e](){return t.props[e]}},e,In)}finally{ke(i)}}return t.special[e](r),hn(t.version),!0},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},deleteProperty(t,e){return t.exclude.includes(e)||(t.exclude.push(e),hn(t.version)),!0},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function ar(t,e){return new Proxy({props:t,exclude:e,special:{},version:Je(0),parent_effect:A},Qo)}function le(t,e,r,i){var s=!Nt||(r&Bs)!==0,a=(r&Us)!==0,n=(r&Ws)!==0,o=i,p=!0,u=()=>(p&&(p=!1,o=n?R(i):i),o),f;if(a){var c=Ie in t||Rn in t;f=gt(t,e)?.set??(c&&e in t?k=>t[e]=k:void 0)}var m,l=!1;a?[m,l]=Xo(()=>t[e]):m=t[e],m===void 0&&i!==void 0&&(m=u(),f&&(s&&Ts(),f(m)));var d;if(s?d=()=>{var k=t[e];return k===void 0?u():(p=!0,k)}:d=()=>{var k=t[e];return k!==void 0&&(o=void 0),k===void 0?o:k},s&&(r&In)===0)return d;if(f){var g=t.$$legacy;return(function(k,P){return arguments.length>0?((!s||!P||g||l)&&f(P?d():k),k):d()})}var _=!1,w=((r&Ds)!==0?Vt:Qr)(()=>(_=!1,d()));a&&h(w);var x=A;return(function(k,P){if(arguments.length>0){const b=P?h(w):s&&a?vt(k):k;return z(w,b),_=!0,o!==void 0&&(o=b),k}return Xe&&_||(x.f&Me)!==0?w.v:h(w)})}function X(t){return new Zo(t)}class Zo{#e;#t;constructor(e){var r=new Map,i=(a,n)=>{var o=Y(n,!1,!1);return r.set(a,o),o};const s=new Proxy({...e.props||{},$$events:{}},{get(a,n){return h(r.get(n)??i(n,Reflect.get(a,n)))},has(a,n){return n===Rn?!0:(h(r.get(n)??i(n,Reflect.get(a,n))),Reflect.has(a,n))},set(a,n,o){return z(r.get(n)??i(n,o),o),Reflect.set(a,n,o)}});this.#t=(e.hydrate?Co:an)(e.component,{target:e.target,anchor:e.anchor,props:s,context:e.context,intro:e.intro??!1,recover:e.recover}),(!e?.props?.$$host||e.sync===!1)&&ae(),this.#e=s.$$events;for(const a of Object.keys(this.#t))a==="$set"||a==="$destroy"||a==="$on"||Wr(this,a,{get(){return this.#t[a]},set(n){this.#t[a]=n},enumerable:!0});this.#t.$set=a=>{Object.assign(s,a)},this.#t.$destroy=()=>{To(this.#t)}}$set(e){this.#t.$set(e)}$on(e,r){this.#e[e]=this.#e[e]||[];const i=(...s)=>r.call(this,...s);return this.#e[e].push(i),()=>{this.#e[e]=this.#e[e].filter(s=>s!==i)}}$destroy(){this.#t.$destroy()}}function gr(t){D===null&&Mn(),Nt&&D.l!==null?ea(D).m.push(t):Cr(()=>{const e=R(t);if(typeof e=="function")return e})}function Di(t){D===null&&Mn(),gr(()=>()=>R(t))}function ea(t){var e=t.l;return e.u??={a:[],b:[],m:[]}}const ta="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='display:none'%3e%3c!--%20Empty:%20Light%20gray%20filled%20rectangle%20--%3e%3csymbol%20id='Empty'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F5F5F5'/%3e%3c/symbol%3e%3c!--%20SnakeHead:%20Blue%20rounded%20rectangle%20with%20eyes%20--%3e%3csymbol%20id='SnakeHead'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='4'%20fill='%232196F3'/%3e%3ccircle%20cx='11'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3ccircle%20cx='21'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20SnakeBody:%20Lighter%20blue%20with%20horizontal%20stripe%20--%3e%3csymbol%20id='SnakeBody'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='3'%20fill='%2364B5F6'/%3e%3crect%20x='4'%20y='14'%20width='24'%20height='4'%20rx='1'%20fill='%2342A5F5'/%3e%3c/symbol%3e%3c!--%20Food:%20Red%20circle%20with%20green%20stem%20(apple-like)%20--%3e%3csymbol%20id='Food'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='17'%20r='12'%20fill='%23FF5722'/%3e%3cline%20x1='16'%20y1='5'%20x2='16'%20y2='9'%20stroke='%234CAF50'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cline%20x1='16'%20y1='5'%20x2='18'%20y2='7'%20stroke='%234CAF50'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/symbol%3e%3c!--%20FloatingFood:%20Orange%20circle%20with%20upward%20chevrons%20--%3e%3csymbol%20id='FloatingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='18'%20r='10'%20fill='%23FF9800'/%3e%3cpolyline%20points='12,10%2016,6%2020,10'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,6%2016,2%2020,6'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20FallingFood:%20Orange-red%20circle%20with%20downward%20chevrons%20--%3e%3csymbol%20id='FallingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='14'%20r='10'%20fill='%23FF7043'/%3e%3cpolyline%20points='12,22%2016,26%2020,22'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,26%2016,30%2020,26'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20Obstacle:%20Dark%20gray%20with%20cross-hatch%20pattern%20--%3e%3csymbol%20id='Obstacle'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23424242'/%3e%3cline%20x1='0'%20y1='0'%20x2='32'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3cline%20x1='32'%20y1='0'%20x2='0'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3c/symbol%3e%3c!--%20Exit:%20Green%20rectangle%20with%20white%20doorway%20arch%20--%3e%3csymbol%20id='Exit'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%234CAF50'/%3e%3crect%20x='10'%20y='12'%20width='12'%20height='20'%20fill='%23FFF'/%3e%3cpath%20d='M%2010%2012%20Q%2010%206%2016%206%20Q%2022%206%2022%2012'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20Stone:%20Brown%20rounded%20rectangle%20with%20texture%20spots%20--%3e%3csymbol%20id='Stone'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='6'%20fill='%23795548'/%3e%3cellipse%20cx='11'%20cy='10'%20rx='3'%20ry='2.5'%20fill='%238D6E63'/%3e%3cellipse%20cx='20'%20cy='14'%20rx='2.5'%20ry='3'%20fill='%238D6E63'/%3e%3ccircle%20cx='14'%20cy='21'%20r='2'%20fill='%238D6E63'/%3e%3c/symbol%3e%3c!--%20Spike:%20Red%20background%20with%20sharp%20upward%20triangle%20--%3e%3csymbol%20id='Spike'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F44336'/%3e%3cpolygon%20points='16,6%2022,26%2010,26'%20fill='%23B71C1C'/%3e%3c/symbol%3e%3c/svg%3e",ra="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(ra);Qs();var na=q('<header class="gsnake-ui-modal-header svelte-12n1f7e"><!></header>'),ia=q('<footer class="gsnake-ui-modal-footer svelte-12n1f7e"><!></footer>'),sa=q('<div class="gsnake-ui-modal-backdrop svelte-12n1f7e" role="presentation"><section><!> <div class="gsnake-ui-modal-content svelte-12n1f7e"><!></div> <!></section></div>');const oa={hash:"svelte-12n1f7e",code:".gsnake-ui-modal-backdrop.svelte-12n1f7e {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);padding:16px;z-index:1000;}.gsnake-ui-modal.svelte-12n1f7e {width:min(480px, 100%);background:white;border-radius:12px;border:1px solid #d6d6d6;box-shadow:0 12px 40px rgba(0, 0, 0, 0.25);padding:24px;color:#1f1f1f;}.gsnake-ui-modal-header.svelte-12n1f7e {margin-bottom:12px;}.gsnake-ui-modal-content.svelte-12n1f7e {display:flex;flex-direction:column;gap:12px;}.gsnake-ui-modal-footer.svelte-12n1f7e {margin-top:20px;display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}"};function Yt(t,e){if(new.target)return X({component:Yt,...t});const r=Mo(e),i=ar(e,["children","$$slots","$$events","$$legacy"]),s=ar(i,["open","onClose","closeOnBackdrop"]);W(e,!1),Ti(t,oa);let a=le(e,"open",12,!0),n=le(e,"onClose",12,void 0),o=le(e,"closeOnBackdrop",12,!0);function p(l){o()&&l.target===l.currentTarget&&n()?.()}var u={get open(){return a()},set open(l){a(l),ae()},get onClose(){return n()},set onClose(l){n(l),ae()},get closeOnBackdrop(){return o()},set closeOnBackdrop(l){o(l),ae()},$set:J,$on:(l,d)=>K(e,l,d)};pe();var f=lt(),c=qe(f);{var m=l=>{var d=sa(),g=O(d);ji(g,()=>({class:"gsnake-ui-modal",role:"dialog","aria-modal":"true",...s}),void 0,void 0,void 0,"svelte-12n1f7e");var _=O(g);{var w=v=>{var y=na(),C=O(y);tr(C,e,"header",{}),F(y),S(v,y)};oe(_,v=>{R(()=>r.header)&&v(w)})}var x=j(_,2),k=O(x);tr(k,e,"default",{}),F(x);var P=j(x,2);{var b=v=>{var y=ia(),C=O(y);tr(C,e,"footer",{}),F(y),S(v,y)};oe(P,v=>{R(()=>r.footer)&&v(b)})}F(g),F(d),je("click",d,p),S(l,d)};oe(c,l=>{a()&&l(m)})}return S(t,f),G(u)}var aa=q("<div><!></div>");const la={hash:"svelte-1onx8vr",code:".gsnake-ui-overlay.svelte-1onx8vr {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);z-index:900;}.gsnake-ui-overlay.transparent.svelte-1onx8vr {background:transparent;}"};function Bi(t,e){if(new.target)return X({component:Bi,...t});const r=ar(e,["children","$$slots","$$events","$$legacy"]),i=ar(r,["visible","transparent"]);W(e,!1),Ti(t,la);let s=le(e,"visible",12,!1),a=le(e,"transparent",12,!1);var n={get visible(){return s()},set visible(f){s(f),ae()},get transparent(){return a()},set transparent(f){a(f),ae()},$set:J,$on:(f,c)=>K(e,f,c)},o=lt(),p=qe(o);{var u=f=>{var c=aa();ji(c,()=>({class:"gsnake-ui-overlay",...i,[mt]:{transparent:a()}}),void 0,void 0,void 0,"svelte-1onx8vr");var m=O(c);tr(m,e,"default",{}),F(c),S(f,c)};oe(p,f=>{s()&&f(u)})}return S(t,o),G(n)}let Ir=class{__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Nn.unregister(this),e}free(){const e=this.__destroy_into_raw();E.__wbg_wasmgameengine_free(e,0)}getFrame(){const e=E.wasmgameengine_getFrame(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}getGameState(){const e=E.wasmgameengine_getGameState(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}getLevel(){const e=E.wasmgameengine_getLevel(this.__wbg_ptr);if(e[2])throw xe(e[1]);return xe(e[0])}constructor(e){const r=E.wasmgameengine_new(e);if(r[2])throw xe(r[1]);return this.__wbg_ptr=r[0]>>>0,Nn.register(this,this.__wbg_ptr,this),this}onFrame(e){E.wasmgameengine_onFrame(this.__wbg_ptr,e)}processMove(e){const r=E.wasmgameengine_processMove(this.__wbg_ptr,e);if(r[2])throw xe(r[1]);return xe(r[0])}};Symbol.dispose&&(Ir.prototype[Symbol.dispose]=Ir.prototype.free);function ua(){const t=E.getLevels();if(t[2])throw xe(t[1]);return xe(t[0])}function fa(){E.init_panic_hook()}function ca(t){const e=Rt(t,E.__wbindgen_malloc,E.__wbindgen_realloc),r=rt;E.log(e,r)}function Ui(){return{__proto__:null,"./gsnake_wasm_bg.js":{__proto__:null,__wbg_Error_25ba92dc73c79ff8:function(e,r){return Error(Xt(e,r))},__wbg_Number_70eda1af1f0de797:function(e){return Number(e)},__wbg_String_8564e559799eccda:function(e,r){const i=String(r),s=Rt(i,E.__wbindgen_malloc,E.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg___wbindgen_boolean_get_6220f2dea0de122f:function(e){const r=e,i=typeof r=="boolean"?r:void 0;return Qt(i)?16777215:i?1:0},__wbg___wbindgen_debug_string_46569e04243a7370:function(e,r){const i=Dr(r),s=Rt(i,E.__wbindgen_malloc,E.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg___wbindgen_in_9496351ef250d988:function(e,r){return e in r},__wbg___wbindgen_is_function_c2cd65fa64fb6f48:function(e){return typeof e=="function"},__wbg___wbindgen_is_object_8bdde3c0d4cfc731:function(e){const r=e;return typeof r=="object"&&r!==null},__wbg___wbindgen_is_string_dfb64101caa98453:function(e){return typeof e=="string"},__wbg___wbindgen_is_undefined_93ede8eff94d1589:function(e){return e===void 0},__wbg___wbindgen_jsval_loose_eq_288868c9456dc316:function(e,r){return e==r},__wbg___wbindgen_number_get_30753c95eb065096:function(e,r){const i=r,s=typeof i=="number"?i:void 0;Le().setFloat64(e+8,Qt(s)?0:s,!0),Le().setInt32(e+0,!Qt(s),!0)},__wbg___wbindgen_string_get_e935d22db323c682:function(e,r){const i=r,s=typeof i=="string"?i:void 0;var a=Qt(s)?0:Rt(s,E.__wbindgen_malloc,E.__wbindgen_realloc),n=rt;Le().setInt32(e+4,n,!0),Le().setInt32(e+0,a,!0)},__wbg___wbindgen_throw_f1861aae416df39d:function(e,r){throw new Error(Xt(e,r))},__wbg_call_7d28fcf67f55a9a5:function(){return Ot(function(e,r,i){return e.call(r,i)},arguments)},__wbg_call_b3f19a8e2e3a36bd:function(){return Ot(function(e,r){return e.call(r)},arguments)},__wbg_done_374b57982012b5d2:function(e){return e.done},__wbg_entries_49fd8c7d91283e3b:function(e){return Object.entries(e)},__wbg_error_a6fa202b58aa1cd3:function(e,r){let i,s;try{i=e,s=r,console.error(Xt(e,r))}finally{E.__wbindgen_free(i,s,1)}},__wbg_error_f32caa75c0901289:function(e){console.error(e)},__wbg_get_4eef9e87f0ce4610:function(){return Ot(function(e,r){return Reflect.get(e,r)},arguments)},__wbg_get_54f4c4b28b032bca:function(e,r){return e[r>>>0]},__wbg_get_unchecked_2eb820ae1ae2022d:function(e,r){return e[r>>>0]},__wbg_get_with_ref_key_6412cf3094599694:function(e,r){return e[r]},__wbg_instanceof_ArrayBuffer_95c14839b9fd2ebd:function(e){let r;try{r=e instanceof ArrayBuffer}catch{r=!1}return r},__wbg_instanceof_Uint8Array_3275375eda5f2bac:function(e){let r;try{r=e instanceof Uint8Array}catch{r=!1}return r},__wbg_isArray_2350fcebbaebf79c:function(e){return Array.isArray(e)},__wbg_isSafeInteger_dc5b457ae43224f5:function(e){return Number.isSafeInteger(e)},__wbg_iterator_7051ec21ea3d830d:function(){return Symbol.iterator},__wbg_length_5ac677abf7358934:function(e){return e.length},__wbg_length_9f99fa74b0f6a829:function(e){return e.length},__wbg_log_77101d5adf2620f1:function(e){console.log(e)},__wbg_new_0303a5efc9d0666b:function(e){return new Uint8Array(e)},__wbg_new_1b4edd8807f9a802:function(){return new Object},__wbg_new_227d7c05414eb861:function(){return new Error},__wbg_new_8189744b546559b4:function(){return new Map},__wbg_new_dcf435def74b2b31:function(){return new Array},__wbg_next_86766281e22c68f4:function(){return Ot(function(e){return e.next()},arguments)},__wbg_next_dc5b11ade31a2e28:function(e){return e.next},__wbg_prototypesetcall_8d4e3621ad98652b:function(e,r,i){Uint8Array.prototype.set.call(pa(e,r),i)},__wbg_set_411d76b94557fe0d:function(e,r,i){return e.set(r,i)},__wbg_set_58d19822a2826a42:function(e,r,i){e[r>>>0]=i},__wbg_set_6be42768c690e380:function(e,r,i){e[r]=i},__wbg_set_ca602273edb01610:function(){return Ot(function(e,r,i){return Reflect.set(e,r,i)},arguments)},__wbg_stack_3b0d974bbf31e44f:function(e,r){const i=r.stack,s=Rt(i,E.__wbindgen_malloc,E.__wbindgen_realloc),a=rt;Le().setInt32(e+4,a,!0),Le().setInt32(e+0,s,!0)},__wbg_value_2f527089a16a5fae:function(e){return e.value},__wbindgen_cast_0000000000000001:function(e){return e},__wbindgen_cast_0000000000000002:function(e,r){return Xt(e,r)},__wbindgen_init_externref_table:function(){const e=E.__wbindgen_externrefs,r=e.grow(4);e.set(0,void 0),e.set(r+0,void 0),e.set(r+1,null),e.set(r+2,!0),e.set(r+3,!1)}}}}const Nn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>E.__wbg_wasmgameengine_free(t>>>0,1));function da(t){const e=E.__externref_table_alloc();return E.__wbindgen_externrefs.set(e,t),e}function Dr(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const s=t.description;return s==null?"Symbol":`Symbol(${s})`}if(e=="function"){const s=t.name;return typeof s=="string"&&s.length>0?`Function(${s})`:"Function"}if(Array.isArray(t)){const s=t.length;let a="[";s>0&&(a+=Dr(t[0]));for(let n=1;n<s;n++)a+=", "+Dr(t[n]);return a+="]",a}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let i;if(r&&r.length>1)i=r[1];else return toString.call(t);if(i=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:i}function pa(t,e){return t=t>>>0,Dt().subarray(t/1,t/1+e)}let Ze=null;function Le(){return(Ze===null||Ze.buffer.detached===!0||Ze.buffer.detached===void 0&&Ze.buffer!==E.memory.buffer)&&(Ze=new DataView(E.memory.buffer)),Ze}function Xt(t,e){return t=t>>>0,ha(t,e)}let jt=null;function Dt(){return(jt===null||jt.byteLength===0)&&(jt=new Uint8Array(E.memory.buffer)),jt}function Ot(t,e){try{return t.apply(this,e)}catch(r){const i=da(r);E.__wbindgen_exn_store(i)}}function Qt(t){return t==null}function Rt(t,e,r){if(r===void 0){const o=Bt.encode(t),p=e(o.length,1)>>>0;return Dt().subarray(p,p+o.length).set(o),rt=o.length,p}let i=t.length,s=e(i,1)>>>0;const a=Dt();let n=0;for(;n<i;n++){const o=t.charCodeAt(n);if(o>127)break;a[s+n]=o}if(n!==i){n!==0&&(t=t.slice(n)),s=r(s,i,i=n+t.length*3,1)>>>0;const o=Dt().subarray(s+n,s+i),p=Bt.encodeInto(t,o);n+=p.written,s=r(s,i,n,1)>>>0}return rt=n,s}function xe(t){const e=E.__wbindgen_externrefs.get(t);return E.__externref_table_dealloc(t),e}let rr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});rr.decode();const ma=2146435072;let xr=0;function ha(t,e){return xr+=e,xr>=ma&&(rr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),rr.decode(),xr=e),rr.decode(Dt().subarray(t,t+e))}const Bt=new TextEncoder;"encodeInto"in Bt||(Bt.encodeInto=function(t,e){const r=Bt.encode(t);return e.set(r),{read:t.length,written:r.length}});let rt=0,E;function Wi(t,e){return E=t.exports,Ze=null,jt=null,E.__wbindgen_start(),E}async function va(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(s){if(t.ok&&r(t.type)&&t.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const i=await t.arrayBuffer();return await WebAssembly.instantiate(i,e)}else{const i=await WebAssembly.instantiate(t,e);return i instanceof WebAssembly.Instance?{instance:i,module:t}:i}function r(i){switch(i){case"basic":case"cors":case"default":return!0}return!1}}function ga(t){if(E!==void 0)return E;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module:t}=t:console.warn("using deprecated parameters for `initSync()`; pass a single object instead"));const e=Ui();t instanceof WebAssembly.Module||(t=new WebAssembly.Module(t));const r=new WebAssembly.Instance(t,e);return Wi(r)}async function Gi(t){if(E!==void 0)return E;t!==void 0&&(Object.getPrototypeOf(t)===Object.prototype?{module_or_path:t}=t:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),t===void 0&&(t=new URL("/gSnake/main/assets/gsnake_wasm_bg-0CX5VG97.wasm",import.meta.url));const e=Ui();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:r,module:i}=await va(await t,e);return Wi(r)}const ya=Object.freeze(Object.defineProperty({__proto__:null,WasmGameEngine:Ir,default:Gi,getLevels:ua,initSync:ga,init_panic_hook:fa,log:ca},Symbol.toStringTag,{value:"Module"})),{WasmGameEngine:_a,getLevels:ba,log:wa,init_panic_hook:ka}=ya;function xa(){const t=Gi;return typeof t=="function"?t:null}class Ea{wasmEngine=null;listeners=[];initialized=!1;levels=[];currentLevelIndex=0;async init(e=null,r=1){if(this.initialized){console.warn("WasmGameEngine already initialized");return}try{const s=xa();s&&await s()}catch(s){throw this.handleContractError(s,"Failed to initialize WASM module","initializationFailed"),s}try{ka()}catch(s){console.warn("Failed to initialize panic hook:",s)}wa("gSnake WASM engine initialized");try{this.levels=e??ba()}catch(s){throw this.handleContractError(s,"Failed to load levels","initializationFailed"),s}const i=this.normalizeStartLevel(r);if(this.currentLevelIndex=this.resolveStartLevel(i)-1,this.levels.length===0){const s=new Error("No levels available");throw this.handleContractError(s,"Failed to initialize engine","initializationFailed"),s}await this.loadLevelByIndex(this.currentLevelIndex),this.initialized=!0}async loadLevel(e){await this.loadLevelByIndex(e-1)}async restartLevel(){await this.resetLevel()}async loadLevelByIndex(e){if(e<0||e>=this.levels.length)throw new Error(`Invalid level index: ${e}`);const r=this.levels[e];this.currentLevelIndex=e;try{this.wasmEngine=new _a(r)}catch(i){throw this.handleContractError(i,"Failed to initialize engine","initializationFailed"),i}this.wasmEngine.onFrame(i=>{this.handleFrameUpdate(i)}),this.emitInitialEvents(r);try{const i=this.wasmEngine.getFrame();this.handleFrameUpdate(i)}catch(i){throw this.handleContractError(i,"Failed to get initial frame","initializationFailed"),i}}emitInitialEvents(e){this.emitEvent({type:"levelChanged",level:e})}normalizeStartLevel(e){if(typeof e=="number")return Number.isInteger(e)&&e>0?e:1;if(typeof e=="string"){const r=e.trim();if(!/^\d+$/.test(r))return 1;const i=Number.parseInt(r,10);return Number.isInteger(i)&&i>0?i:1}return 1}resolveStartLevel(e){return this.levels.length===0||e>this.levels.length?1:e}handleFrameUpdate(e){const r=this.normalizeTerminalFrameStatus(e);this.emitEvent({type:"frameChanged",frame:r}),r.state.status}normalizeTerminalFrameStatus(e){const r=this.currentLevelIndex>=this.levels.length-1;return e.state.status!=="LevelComplete"||!r?e:{...e,state:{...e.state,status:"AllComplete"}}}processMove(e){if(!this.wasmEngine){console.error("WASM engine not initialized");return}try{this.wasmEngine.processMove(e)}catch(r){this.handleContractError(r,"Error processing move")}}async nextLevel(){this.currentLevelIndex>=this.levels.length-1||(this.currentLevelIndex++,await this.loadLevelByIndex(this.currentLevelIndex))}async resetLevel(){await this.loadLevelByIndex(this.currentLevelIndex)}addEventListener(e){this.listeners.push(e)}getLevels(){return this.levels}emitEvent(e){for(const r of this.listeners)r(e)}handleContractError(e,r,i="internalError"){const s=this.normalizeContractError(e,r,i);if(s){this.emitEvent({type:"engineError",error:s}),console.error(`[ContractError:${s.kind}] ${s.message}`,s.context??{});return}console.error(r,e)}isContractError(e){if(!e||typeof e!="object")return!1;const r=e;return typeof r.kind=="string"&&typeof r.message=="string"}normalizeContractError(e,r,i){if(this.isContractError(e))return e;const s=e instanceof Error?e.message:String(e);return{kind:i,message:r,context:{detail:s}}}}const ct=Be({status:"Playing",currentLevel:1,moves:0,foodCollected:0,totalFood:0}),Vi=Be(0),un=Be(null),Hi=Be(null),St=Be(null),Yi=Be([]),nr=Be([]),Br=Be(!1),_t=Be(null);function $a(){return typeof window>"u"?!1:new URLSearchParams(window.location.search).get("contractTest")==="1"}function An(t){if(!$a())return;const e=window,r=e.__gsnakeContract??{};e.__gsnakeContract={...r,...t}}function Pa(t){t.addEventListener(e=>{switch(e.type){case"levelChanged":un.set(e.level);break;case"frameChanged":Hi.set(e.frame),ct.set(e.frame.state),Vi.set(Sa(e.frame)),St.set(null),An({frame:e.frame,error:null});break;case"engineError":St.set(e.error),An({error:e.error});break}})}function Sa(t){let e=0;for(const r of t.grid)for(const i of r)(i==="SnakeHead"||i==="SnakeBody")&&(e+=1);return e}class Fa{constructor(e){this.gameEngine=e,this.keyMap=new Map([["ArrowUp","North"],["ArrowDown","South"],["ArrowLeft","West"],["ArrowRight","East"],["w","North"],["s","South"],["a","West"],["d","East"],["W","North"],["S","South"],["A","West"],["D","East"]]),this.boundHandler=this.handleKeyPress.bind(this),this.unsubscribe=ct.subscribe(r=>{this.currentStatus=r.status})}keyMap;boundHandler;currentStatus="Playing";unsubscribe;handleKeyPress(e){if(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)return;const r=e.key,i=r.toLowerCase();switch([" ","Spacebar","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(r)&&e.preventDefault(),["r","q","escape","esc"].includes(i)&&e.preventDefault(),this.currentStatus){case"Playing":this.handlePlayingState(e,i);break;case"GameOver":this.handleGameOverState(e,i);break;case"AllComplete":this.handleAllCompleteState(e,i);break}}handlePlayingState(e,r){if(r==="r"){this.gameEngine.restartLevel();return}if(r==="q"){this.gameEngine.loadLevel(1);return}if(r==="escape"||r==="esc")return;const i=this.keyMap.get(e.key);i&&(e.defaultPrevented||e.preventDefault(),this.gameEngine.processMove(i))}handleGameOverState(e,r){r==="q"||r==="escape"||r==="esc"?this.gameEngine.loadLevel(1):["Control","Shift","Alt","Meta","CapsLock"].includes(e.key)||this.gameEngine.restartLevel()}handleAllCompleteState(e,r){(r==="r"||r==="q"||r==="escape"||r==="esc")&&this.gameEngine.loadLevel(1)}attach(){window.addEventListener("keydown",this.boundHandler)}detach(){window.removeEventListener("keydown",this.boundHandler),this.unsubscribe&&this.unsubscribe()}}function Na(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zt={},Ln;function Aa(){if(Ln)return Zt;Ln=1,Object.defineProperty(Zt,"__esModule",{value:!0});function t(e){const r=e.length;let i=0,s=0,a;for(;s<r;)i++,a=e.charCodeAt(s++),a>=55296&&a<=56319&&s<r&&(a=e.charCodeAt(s),(a&64512)===56320&&s++);return i}return Zt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Zt}var La=Aa();const Ca=Na(La),Ta=lr,Cn={properties:{id:{type:"integer",minimum:0,maximum:4294967295,description:"Stable level identifier (u32-compatible)."},name:{type:"string",minLength:1},difficulty:{type:"string",enum:["easy","medium","hard"]},gridSize:{type:"object",additionalProperties:!1,required:["width","height"],properties:{width:{type:"integer",minimum:1,maximum:2147483647},height:{type:"integer",minimum:1,maximum:2147483647}}},snake:{type:"array",minItems:1,items:{$ref:"#/$defs/position"}},obstacles:{type:"array",items:{$ref:"#/$defs/position"}},food:{type:"array",items:{$ref:"#/$defs/position"}},exit:{$ref:"#/$defs/position"},snakeDirection:{$ref:"#/$defs/direction"},floatingFood:{type:"array",items:{$ref:"#/$defs/position"},default:[]},fallingFood:{type:"array",items:{$ref:"#/$defs/position"},default:[]},stones:{type:"array",items:{$ref:"#/$defs/position"},default:[]},spikes:{type:"array",items:{$ref:"#/$defs/position"},default:[]},exitIsSolid:{type:"boolean",default:!0},totalFood:{type:"integer",minimum:0,maximum:4294967295,description:"Total food required for level completion. Expected to reflect food + floatingFood + fallingFood for editor/server round-trip consistency."}}},Oa={enum:["North","South","East","West"]},qa=Object.prototype.hasOwnProperty;function lr(t,{instancePath:e="",parentData:r,parentDataProperty:i,rootData:s=t,dynamicAnchors:a={}}={}){let n=null,o=0;const p=lr.evaluated;if(p.dynamicProps&&(p.props=void 0),p.dynamicItems&&(p.items=void 0),t&&typeof t=="object"&&!Array.isArray(t)){if(t.id===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"id"},message:"must have required property 'id'"};n===null?n=[u]:n.push(u),o++}if(t.name===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"name"},message:"must have required property 'name'"};n===null?n=[u]:n.push(u),o++}if(t.gridSize===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"gridSize"},message:"must have required property 'gridSize'"};n===null?n=[u]:n.push(u),o++}if(t.snake===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"snake"},message:"must have required property 'snake'"};n===null?n=[u]:n.push(u),o++}if(t.obstacles===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"obstacles"},message:"must have required property 'obstacles'"};n===null?n=[u]:n.push(u),o++}if(t.food===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"food"},message:"must have required property 'food'"};n===null?n=[u]:n.push(u),o++}if(t.exit===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"exit"},message:"must have required property 'exit'"};n===null?n=[u]:n.push(u),o++}if(t.snakeDirection===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"snakeDirection"},message:"must have required property 'snakeDirection'"};n===null?n=[u]:n.push(u),o++}if(t.totalFood===void 0){const u={instancePath:e,schemaPath:"#/required",keyword:"required",params:{missingProperty:"totalFood"},message:"must have required property 'totalFood'"};n===null?n=[u]:n.push(u),o++}for(const u in t)if(!qa.call(Cn.properties,u)){const f={instancePath:e,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:u},message:"must NOT have additional properties"};n===null?n=[f]:n.push(f),o++}if(t.id!==void 0){let u=t.id;if(!(typeof u=="number"&&!(u%1)&&!isNaN(u)&&isFinite(u))){const f={instancePath:e+"/id",schemaPath:"#/properties/id/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[f]:n.push(f),o++}if(typeof u=="number"&&isFinite(u)){if(u>4294967295||isNaN(u)){const f={instancePath:e+"/id",schemaPath:"#/properties/id/maximum",keyword:"maximum",params:{comparison:"<=",limit:4294967295},message:"must be <= 4294967295"};n===null?n=[f]:n.push(f),o++}if(u<0||isNaN(u)){const f={instancePath:e+"/id",schemaPath:"#/properties/id/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[f]:n.push(f),o++}}}if(t.name!==void 0){let u=t.name;if(typeof u=="string"){if(Ca(u)<1){const f={instancePath:e+"/name",schemaPath:"#/properties/name/minLength",keyword:"minLength",params:{limit:1},message:"must NOT have fewer than 1 characters"};n===null?n=[f]:n.push(f),o++}}else{const f={instancePath:e+"/name",schemaPath:"#/properties/name/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[f]:n.push(f),o++}}if(t.difficulty!==void 0){let u=t.difficulty;if(typeof u!="string"){const f={instancePath:e+"/difficulty",schemaPath:"#/properties/difficulty/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[f]:n.push(f),o++}if(!(u==="easy"||u==="medium"||u==="hard")){const f={instancePath:e+"/difficulty",schemaPath:"#/properties/difficulty/enum",keyword:"enum",params:{allowedValues:Cn.properties.difficulty.enum},message:"must be equal to one of the allowed values"};n===null?n=[f]:n.push(f),o++}}if(t.gridSize!==void 0){let u=t.gridSize;if(u&&typeof u=="object"&&!Array.isArray(u)){if(u.width===void 0){const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/required",keyword:"required",params:{missingProperty:"width"},message:"must have required property 'width'"};n===null?n=[f]:n.push(f),o++}if(u.height===void 0){const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/required",keyword:"required",params:{missingProperty:"height"},message:"must have required property 'height'"};n===null?n=[f]:n.push(f),o++}for(const f in u)if(!(f==="width"||f==="height")){const c={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"};n===null?n=[c]:n.push(c),o++}if(u.width!==void 0){let f=u.width;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<1||isNaN(f)){const c={instancePath:e+"/gridSize/width",schemaPath:"#/properties/gridSize/properties/width/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};n===null?n=[c]:n.push(c),o++}}}if(u.height!==void 0){let f=u.height;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<1||isNaN(f)){const c={instancePath:e+"/gridSize/height",schemaPath:"#/properties/gridSize/properties/height/minimum",keyword:"minimum",params:{comparison:">=",limit:1},message:"must be >= 1"};n===null?n=[c]:n.push(c),o++}}}}else{const f={instancePath:e+"/gridSize",schemaPath:"#/properties/gridSize/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[f]:n.push(f),o++}}if(t.snake!==void 0){let u=t.snake;if(Array.isArray(u)){if(u.length<1){const c={instancePath:e+"/snake",schemaPath:"#/properties/snake/minItems",keyword:"minItems",params:{limit:1},message:"must NOT have fewer than 1 items"};n===null?n=[c]:n.push(c),o++}const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/snake/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/snake/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/snake",schemaPath:"#/properties/snake/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.obstacles!==void 0){let u=t.obstacles;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/obstacles/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/obstacles/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/obstacles",schemaPath:"#/properties/obstacles/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.food!==void 0){let u=t.food;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/food/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/food/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/food/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/food",schemaPath:"#/properties/food/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.exit!==void 0){let u=t.exit;if(u&&typeof u=="object"&&!Array.isArray(u)){if(u.x===void 0){const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[f]:n.push(f),o++}if(u.y===void 0){const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[f]:n.push(f),o++}for(const f in u)if(!(f==="x"||f==="y")){const c={instancePath:e+"/exit",schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:f},message:"must NOT have additional properties"};n===null?n=[c]:n.push(c),o++}if(u.x!==void 0){let f=u.x;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<0||isNaN(f)){const c={instancePath:e+"/exit/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[c]:n.push(c),o++}}}if(u.y!==void 0){let f=u.y;if(!(typeof f=="number"&&!(f%1)&&!isNaN(f)&&isFinite(f))){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[c]:n.push(c),o++}if(typeof f=="number"&&isFinite(f)){if(f>2147483647||isNaN(f)){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[c]:n.push(c),o++}if(f<0||isNaN(f)){const c={instancePath:e+"/exit/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[c]:n.push(c),o++}}}}else{const f={instancePath:e+"/exit",schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[f]:n.push(f),o++}}if(t.snakeDirection!==void 0){let u=t.snakeDirection;if(typeof u!="string"){const f={instancePath:e+"/snakeDirection",schemaPath:"#/$defs/direction/type",keyword:"type",params:{type:"string"},message:"must be string"};n===null?n=[f]:n.push(f),o++}if(!(u==="North"||u==="South"||u==="East"||u==="West")){const f={instancePath:e+"/snakeDirection",schemaPath:"#/$defs/direction/enum",keyword:"enum",params:{allowedValues:Oa.enum},message:"must be equal to one of the allowed values"};n===null?n=[f]:n.push(f),o++}}if(t.floatingFood!==void 0){let u=t.floatingFood;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/floatingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/floatingFood/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/floatingFood",schemaPath:"#/properties/floatingFood/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.fallingFood!==void 0){let u=t.fallingFood;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/fallingFood/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/fallingFood/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/fallingFood",schemaPath:"#/properties/fallingFood/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.stones!==void 0){let u=t.stones;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/stones/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/stones/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/stones",schemaPath:"#/properties/stones/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.spikes!==void 0){let u=t.spikes;if(Array.isArray(u)){const f=u.length;for(let c=0;c<f;c++){let m=u[c];if(m&&typeof m=="object"&&!Array.isArray(m)){if(m.x===void 0){const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"x"},message:"must have required property 'x'"};n===null?n=[l]:n.push(l),o++}if(m.y===void 0){const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/required",keyword:"required",params:{missingProperty:"y"},message:"must have required property 'y'"};n===null?n=[l]:n.push(l),o++}for(const l in m)if(!(l==="x"||l==="y")){const d={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/additionalProperties",keyword:"additionalProperties",params:{additionalProperty:l},message:"must NOT have additional properties"};n===null?n=[d]:n.push(d),o++}if(m.x!==void 0){let l=m.x;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/x",schemaPath:"#/$defs/position/properties/x/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}if(m.y!==void 0){let l=m.y;if(!(typeof l=="number"&&!(l%1)&&!isNaN(l)&&isFinite(l))){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[d]:n.push(d),o++}if(typeof l=="number"&&isFinite(l)){if(l>2147483647||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/maximum",keyword:"maximum",params:{comparison:"<=",limit:2147483647},message:"must be <= 2147483647"};n===null?n=[d]:n.push(d),o++}if(l<0||isNaN(l)){const d={instancePath:e+"/spikes/"+c+"/y",schemaPath:"#/$defs/position/properties/y/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[d]:n.push(d),o++}}}}else{const l={instancePath:e+"/spikes/"+c,schemaPath:"#/$defs/position/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[l]:n.push(l),o++}}}else{const f={instancePath:e+"/spikes",schemaPath:"#/properties/spikes/type",keyword:"type",params:{type:"array"},message:"must be array"};n===null?n=[f]:n.push(f),o++}}if(t.exitIsSolid!==void 0&&typeof t.exitIsSolid!="boolean"){const u={instancePath:e+"/exitIsSolid",schemaPath:"#/properties/exitIsSolid/type",keyword:"type",params:{type:"boolean"},message:"must be boolean"};n===null?n=[u]:n.push(u),o++}if(t.totalFood!==void 0){let u=t.totalFood;if(!(typeof u=="number"&&!(u%1)&&!isNaN(u)&&isFinite(u))){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/type",keyword:"type",params:{type:"integer"},message:"must be integer"};n===null?n=[f]:n.push(f),o++}if(typeof u=="number"&&isFinite(u)){if(u>4294967295||isNaN(u)){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/maximum",keyword:"maximum",params:{comparison:"<=",limit:4294967295},message:"must be <= 4294967295"};n===null?n=[f]:n.push(f),o++}if(u<0||isNaN(u)){const f={instancePath:e+"/totalFood",schemaPath:"#/properties/totalFood/minimum",keyword:"minimum",params:{comparison:">=",limit:0},message:"must be >= 0"};n===null?n=[f]:n.push(f),o++}}}}else{const u={instancePath:e,schemaPath:"#/type",keyword:"type",params:{type:"object"},message:"must be object"};n===null?n=[u]:n.push(u),o++}return lr.errors=n,o===0}lr.evaluated={props:!0,dynamicProps:!1,dynamicItems:!1};function za(t){return!!Ta(t)}function Ki(t){return za(t)}function ja(t){return Array.isArray(t)&&t.every(e=>Ki(e))}const Er="gsnake_completed_levels";class Tn{static getCompletedLevels(){if(typeof window>"u")return[];try{const e=window.localStorage.getItem(Er);if(!e)return[];const r=JSON.parse(e);if(Array.isArray(r))return r.filter(i=>typeof i=="number")}catch{return[]}return[]}static isCompleted(e){return this.getCompletedLevels().includes(e)}static markCompleted(e){if(typeof window>"u")return[];const r=new Set(this.getCompletedLevels());r.add(e);const i=Array.from(r.values()).sort((s,a)=>s-a);try{window.localStorage.setItem(Er,JSON.stringify(i))}catch{}return i}static clearCompleted(){typeof window>"u"||window.localStorage.removeItem(Er)}}function Ji(t,e){if(new.target)return X({component:Ji,...t});W(e,!1);let r=Y("");gr(async()=>{const o=await fetch(ta);z(r,await o.text())}),Di(()=>{z(r,"")});var i={$set:J,$on:(o,p)=>K(e,o,p)};pe();var s=lt(),a=qe(s);{var n=o=>{var p=lt(),u=qe(p);Ro(u,()=>h(r)),S(o,p)};oe(a,o=>{h(r)&&o(n)})}return S(t,s),G(i)}var Ra=q('<div class="score-info svelte-1dhu4nz"><div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Level</span> <span class="score-value svelte-1dhu4nz" data-element-id="level-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Length</span> <span class="score-value svelte-1dhu4nz" data-element-id="length-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Moves</span> <span class="score-value svelte-1dhu4nz" data-element-id="moves-display"> </span></div></div>');function Xi(t,e){if(new.target)return X({component:Xi,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(Vi,"$snakeLength",s),[s,a]=Qe();var n={$set:J,$on:(x,k)=>K(e,x,k)};pe();var o=Ra(),p=O(o),u=j(O(p),2),f=O(u,!0);F(u),F(p);var c=j(p,2),m=j(O(c),2),l=O(m,!0);F(m),F(c);var d=j(c,2),g=j(O(d),2),_=O(g,!0);F(g),F(d),F(o),ze(()=>{Oe(f,(r(),R(()=>r().currentLevel))),Oe(l,i()),Oe(_,(r(),R(()=>r().moves)))}),S(t,o);var w=G(n);return a(),w}var Ma=q('<button class="restart-btn svelte-1gt3cso" type="button" data-element-id="restart-button">Restart</button>');function Qi(t,e){if(new.target)return X({component:Qi,...t});W(e,!1);let r=le(e,"gameEngine",12),i=le(e,"disabled",12,!1);function s(){i()||(r().restartLevel(),document.activeElement?.blur())}var a={get gameEngine(){return r()},set gameEngine(o){r(o),ae()},get disabled(){return i()},set disabled(o){i(o),ae()},$set:J,$on:(o,p)=>K(e,o,p)};pe();var n=Ma();return ze(()=>{n.disabled=i(),Pt(n,"aria-disabled",i()?"true":"false")}),je("click",n,s),S(t,n),G(a)}var Ia=q('<button class="level-selector-btn svelte-nwymxs" data-element-id="level-selector-btn">Levels</button>');function Zi(t,e){if(new.target)return X({component:Zi,...t});W(e,!1);function r(){Br.update(a=>!a)}var i={$set:J,$on:(a,n)=>K(e,a,n)};pe();var s=Ia();return je("click",s,r),S(t,s),G(i)}var Da=q('<div class="header svelte-1p9f3tg"><!> <div class="header-actions svelte-1p9f3tg"><!> <!></div></div>');function es(t,e){if(new.target)return X({component:es,...t});W(e,!1);let r=le(e,"gameEngine",12);var i={get gameEngine(){return r()},set gameEngine(u){r(u),ae()},$set:J,$on:(u,f)=>K(e,u,f)},s=Da(),a=O(s);Xi(a,{});var n=j(a,2),o=O(n);Zi(o,{});var p=j(o,2);return Qi(p,{get gameEngine(){return r()}}),F(n),F(s),S(t,s),G(i)}var Ba=Lo('<svg class="cell svelte-1cot28b" viewBox="0 0 32 32"><use></use></svg>');function ts(t,e){if(new.target)return X({component:ts,...t});W(e,!1);const r=Y();let i=le(e,"type",12);function s(p){switch(p){case"Spike":return .8;case"Stone":return .85;case"Obstacle":return .9;default:return 1}}ve(()=>Si(i()),()=>{z(r,s(i()))}),Ht();var a={get type(){return i()},set type(p){i(p),ae()},$set:J,$on:(p,u)=>K(e,p,u)},n=Ba(),o=O(n);return F(n),ze(()=>{ln(n,`opacity: ${h(r)??""}`),Pt(o,"href",`#${i()??""}`)}),S(t,n),G(a)}var Ua=q('<div class="game-field svelte-1tr9vi5" data-element-id="game-field"></div>');function rs(t,e){if(new.target)return X({component:rs,...t});W(e,!1);const r=()=>te(Hi,"$frame",i),[i,s]=Qe(),a=Y(),n=Y(),o=Y(),p=Y();ve(()=>r(),()=>{z(a,r()?.grid??[])}),ve(()=>h(a),()=>{z(n,h(a)[0]?.length??0)}),ve(()=>h(a),()=>{z(o,h(a).length)}),ve(()=>h(a),()=>{z(p,h(a).flat())}),Ht();var u={$set:J,$on:(m,l)=>K(e,m,l)};pe();var f=Ua();Ci(f,5,()=>h(p),Li,(m,l)=>{ts(m,{get type(){return h(l)}})}),F(f),ze(()=>ln(f,`grid-template-columns: repeat(${h(n)}, 1fr); grid-template-rows: repeat(${h(o)}, 1fr);`)),S(t,f);var c=G(u);return s(),c}var Wa=q('<div class="modal-buttons svelte-12pilp6"><button class="modal-btn primary svelte-12pilp6" data-element-id="restart-level-btn">Restart Level</button> <button class="modal-btn secondary svelte-12pilp6" data-element-id="back-to-level1-btn">Back to Level 1</button></div>'),Ga=q('<h2 slot="header" class="modal-title svelte-12pilp6">Game Over</h2>');function ns(t,e){if(new.target)return X({component:ns,...t});W(e,!1);let r=le(e,"gameEngine",12),i=Y();gr(()=>{h(i)?.focus()});function s(){r().restartLevel()}function a(){r().loadLevel(1)}var n={get gameEngine(){return r()},set gameEngine(o){r(o),ae()},$set:J,$on:(o,p)=>K(e,o,p)};return pe(),Yt(t,{open:!0,children:(o,p)=>{var u=Wa(),f=O(u);Ko(f,m=>z(i,m),()=>h(i));var c=j(f,2);F(u),je("click",f,s),je("click",c,a),S(o,u)},$$slots:{default:!0,header:(o,p)=>{var u=Ga();S(o,u)}}}),G(n)}var Va=q(`<p class="message svelte-1nm595l">Congratulations! You've beaten all levels.</p> <p class="detail svelte-1nm595l">Refresh the page to play again.</p>`,1),Ha=q('<h2 slot="header" class="modal-title svelte-1nm595l">All Levels Complete!</h2>');function is(t,e){if(new.target)return X({component:is,...t});W(e,!1);var r={$set:J,$on:(i,s)=>K(e,i,s)};return Yt(t,{open:!0,children:(i,s)=>{var a=Va();Dn(2),S(i,a)},$$slots:{default:!0,header:(i,s)=>{var a=Ha();S(i,a)}}}),G(r)}var Ya=q('<p class="message svelte-1vgivec"> </p> <p class="detail svelte-1vgivec">Kind: <span class="svelte-1vgivec"> </span></p> <div class="modal-buttons svelte-1vgivec"><button class="modal-btn primary svelte-1vgivec">Reload</button> <button class="modal-btn secondary svelte-1vgivec">Dismiss</button></div>',1),Ka=q('<h2 slot="header" class="modal-title svelte-1vgivec">Engine Error</h2>');function ss(t,e){if(new.target)return X({component:ss,...t});W(e,!1);const r=()=>te(St,"$engineError",i),[i,s]=Qe();function a(){window.location.reload()}function n(){St.set(null)}var o={$set:J,$on:(u,f)=>K(e,u,f)};pe(),Yt(t,{open:!0,"data-element-id":"engine-error-modal",children:(u,f)=>{var c=Ya(),m=qe(c),l=O(m,!0);F(m);var d=j(m,2),g=j(O(d)),_=O(g,!0);F(g),F(d);var w=j(d,2),x=O(w),k=j(x,2);F(w),ze(()=>{Oe(l,(r(),R(()=>r()?.message??"Unexpected engine error."))),Oe(_,(r(),R(()=>r()?.kind??"internalError")))}),je("click",x,a),je("click",k,n),S(u,c)},$$slots:{default:!0,header:(u,f)=>{var c=Ka();S(u,c)}}});var p=G(o);return s(),p}var Ja=q('<p class="message svelte-ld2jyi"> </p> <div class="actions svelte-ld2jyi"><button class="modal-btn svelte-ld2jyi">Continue</button></div>',1),Xa=q('<h2 slot="header" class="modal-title svelte-ld2jyi">Level Load Failed</h2>');function os(t,e){if(new.target)return X({component:os,...t});W(e,!1);const r=()=>te(_t,"$levelLoadError",i),[i,s]=Qe();function a(){_t.set(null)}var n={$set:J,$on:(p,u)=>K(e,p,u)};pe(),Yt(t,{open:!0,children:(p,u)=>{var f=Ja(),c=qe(f),m=O(c,!0);F(c);var l=j(c,2),d=O(l);F(l),ze(()=>Oe(m,r())),je("click",d,a),S(p,f)},$$slots:{default:!0,header:(p,u)=>{var f=Xa();S(p,f)}}});var o=G(n);return s(),o}function as(t,e){if(new.target)return X({component:as,...t});W(e,!1);const r=()=>te(_t,"$levelLoadError",a),i=()=>te(St,"$engineError",a),s=()=>te(ct,"$gameState",a),[a,n]=Qe(),o=Y(),p=Y(),u=Y(),f=Y(),c=Y();let m=le(e,"gameEngine",12);ve(()=>r(),()=>{z(o,r()!==null)}),ve(()=>i(),()=>{z(p,i()!==null)}),ve(()=>s(),()=>{z(u,s().status==="GameOver")}),ve(()=>s(),()=>{z(f,s().status==="AllComplete")}),ve(()=>(h(o),h(p),h(u),h(f)),()=>{z(c,h(o)||h(p)||h(u)||h(f))}),Ht();var l={get gameEngine(){return m()},set gameEngine(g){m(g),ae()},$set:J,$on:(g,_)=>K(e,g,_)};pe(),Bi(t,{get visible(){return h(c)},"data-element-id":"overlay",children:(g,_)=>{var w=lt(),x=qe(w);{var k=y=>{os(y,{})},P=y=>{ss(y,{})},b=y=>{ns(y,{get gameEngine(){return m()}})},v=y=>{is(y,{})};oe(x,y=>{h(o)?y(k):h(p)?y(P,1):h(u)?y(b,2):h(f)&&y(v,3)})}S(g,w)},$$slots:{default:!0}});var d=G(l);return n(),d}var Qa=q('<div class="empty-state svelte-xz0hsc">No levels loaded.</div>'),Za=q("<div> </div>"),el=q('<div class="level-status svelte-xz0hsc">Completed</div>'),tl=q('<div class="level-status current svelte-xz0hsc">Current</div>'),rl=q('<button><div class="level-number svelte-xz0hsc"> </div> <div class="level-name svelte-xz0hsc"> </div> <!> <!> <!></button>'),nl=q('<div class="level-grid svelte-xz0hsc"></div>'),il=q('<div class="level-overlay svelte-xz0hsc" data-element-id="level-selector-overlay"><div class="level-panel svelte-xz0hsc"><div class="level-header svelte-xz0hsc"><div><h2 class="svelte-xz0hsc">Choose a Level</h2> <p class="svelte-xz0hsc">Select a level to play. Completed levels are marked.</p></div> <button class="close-btn svelte-xz0hsc">Close</button></div> <!></div></div>');function ls(t,e){if(new.target)return X({component:ls,...t});W(e,!1);const r=()=>te(ct,"$gameState",n),i=()=>te(nr,"$completedLevels",n),s=()=>te(Br,"$levelSelectorOpen",n),a=()=>te(Yi,"$availableLevels",n),[n,o]=Qe(),p=Y();let u=le(e,"gameEngine",12);function f(){Br.set(!1)}async function c(x,k){await u().loadLevel(k+1),f()}function m(x){return i().includes(x)}ve(()=>r(),()=>{z(p,r().currentLevel)}),Ht();var l={get gameEngine(){return u()},set gameEngine(x){u(x),ae()},$set:J,$on:(x,k)=>K(e,x,k)};pe();var d=lt(),g=qe(d);{var _=x=>{var k=il(),P=O(k),b=O(P),v=j(O(b),2);F(b);var y=j(b,2);{var C=T=>{var me=Qa();S(T,me)},M=T=>{var me=nl();Ci(me,5,a,Li,(yr,V,ds)=>{var Lt=rl(),_r=O(Lt),ps=O(_r);F(_r);var br=j(_r,2),ms=O(br,!0);F(br);var fn=j(br,2);{var hs=ue=>{var Ue=Za(),bs=O(Ue);F(Ue),ze(()=>{jr(Ue,1,(h(V),R(()=>`level-difficulty difficulty-${h(V).difficulty}`)),"svelte-xz0hsc"),Oe(bs,`(${h(V),R(()=>h(V).difficulty)??""})`)}),S(ue,Ue)};oe(fn,ue=>{h(V),R(()=>h(V).difficulty)&&ue(hs)})}var cn=j(fn,2);{var vs=ue=>{var Ue=el();S(ue,Ue)},gs=lo(()=>(h(V),R(()=>m(h(V).id))));oe(cn,ue=>{h(gs)&&ue(vs)})}var ys=j(cn,2);{var _s=ue=>{var Ue=tl();S(ue,Ue)};oe(ys,ue=>{h(V),h(p),R(()=>h(V).id===h(p))&&ue(_s)})}F(Lt),ze(ue=>{jr(Lt,1,ue,"svelte-xz0hsc"),Oe(ps,`Level ${h(V),R(()=>h(V).id)??""}`),Oe(ms,(h(V),R(()=>h(V).name)))},[()=>(h(V),h(p),R(()=>`level-card ${m(h(V).id)?"completed":""} ${h(V).id===h(p)?"current":""}`))]),je("click",Lt,()=>c(h(V),ds)),S(yr,Lt)}),F(me),S(T,me)};oe(y,T=>{a(),R(()=>a().length===0)?T(C):T(M,!1)})}F(P),F(k),je("click",v,f),S(x,k)};oe(g,x=>{s()&&x(_)})}S(t,d);var w=G(l);return o(),w}var sl=q("<span> </span>"),ol=q('<div class="banner svelte-nhblr0" data-element-id="level-complete-banner"><strong>Level Complete!</strong> <!></div>');function us(t,e){if(new.target)return X({component:us,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(un,"$level",s),[s,a]=Qe();var n={$set:J,$on:(c,m)=>K(e,c,m)};pe();var o=lt(),p=qe(o);{var u=c=>{var m=ol(),l=j(O(m),2);{var d=g=>{var _=sl(),w=O(_,!0);F(_),ze(()=>Oe(w,(i(),R(()=>i().name)))),S(g,_)};oe(l,g=>{i()&&g(d)})}F(m),S(c,m)};oe(p,c=>{r(),R(()=>r().status==="LevelComplete")&&c(u)})}S(t,o);var f=G(n);return a(),f}var al=q('<div class="game-container svelte-jug5a6"><!> <!> <!> <!> <!></div>');function fs(t,e){if(new.target)return X({component:fs,...t});W(e,!1);let r=le(e,"gameEngine",12);var i={get gameEngine(){return r()},set gameEngine(f){r(f),ae()},$set:J,$on:(f,c)=>K(e,f,c)},s=al(),a=O(s);es(a,{get gameEngine(){return r()}});var n=j(a,2);us(n,{});var o=j(n,2);rs(o,{});var p=j(o,2);as(p,{get gameEngine(){return r()}});var u=j(p,2);return ls(u,{get gameEngine(){return r()}}),F(s),S(t,s),G(i)}var ll=q('<div class="startup-loading svelte-1kkrq9g" data-element-id="engine-loading-indicator" role="status" aria-live="polite">Loading game engine...</div>'),ul=q("<!> <!>",1);function cs(t,e){if(new.target)return X({component:cs,...t});W(e,!1);const r=()=>te(ct,"$gameState",s),i=()=>te(un,"$level",s),[s,a]=Qe(),n=new Ea;let o,p=Y(null),u=Y(!0),f=!0;gr(async()=>{const b=new URLSearchParams(window.location.search),v=b.get("level"),y=b.get("levelsUrl"),C=b.get("test")==="true";Pa(n),o=new Fa(n),o.attach(),nr.set(Tn.getCompletedLevels());let M=null;if(C){const T=await m();M=T.levels,M||_t.set(T.error??"Failed to load test level. Make sure the test server is running on port 3001.")}else if(y){const T=await c(y);M=T.levels,M||_t.set(T.error??`Failed to load levels from ${y}. Using default levels instead.`)}try{await n.init(M,v),Yi.set(n.getLevels())}catch(T){console.error("Failed to initialize game engine",T);const me=l(T);me?St.set(me):_t.set("Failed to initialize game engine. Please reload and try again.")}finally{f&&z(u,!1)}}),Di(()=>{f=!1,o&&o.detach()});async function c(b){try{const v=await fetch(b);if(!v.ok)return{levels:null,error:`Failed to fetch levels (${v.status}). Using default levels instead.`};const y=await v.json();return ja(y)?{levels:y}:{levels:null,error:"Levels file has an invalid schema. Using default levels instead."}}catch(v){return console.error("Failed to fetch custom levels",v),{levels:null,error:"Network, CORS, or JSON error while loading levels. Using default levels instead."}}}async function m(){try{const b=await fetch("http://localhost:3001/api/test-level");if(!b.ok)return{levels:null,error:`Failed to fetch test level (${b.status}). Make sure the test server is running (npm run server).`};const v=await b.json();return Ki(v)?{levels:[v]}:{levels:null,error:"Test level has an invalid schema."}}catch(b){return console.error("Failed to fetch test level",b),{levels:null,error:"Failed to connect to test server. Make sure it is running on port 3001 (npm run server)."}}}function l(b){if(!b||typeof b!="object")return null;const v=b;return typeof v.kind!="string"||typeof v.message!="string"?null:v}ve(()=>(r(),h(p),i(),nr),()=>{if(r().status!=="LevelComplete")z(p,null);else if(i()&&h(p)!==i().id){z(p,i().id);const b=Tn.markCompleted(i().id);nr.set(b)}}),Ht();var d={$set:J,$on:(b,v)=>K(e,b,v)};pe();var g=ul(),_=qe(g);Ji(_,{});var w=j(_,2);{var x=b=>{var v=ll();S(b,v)},k=b=>{fs(b,{get gameEngine(){return n}})};oe(w,b=>{h(u)?b(x):b(k,!1)})}S(t,g);var P=G(d);return a(),P}an(cs,{target:document.getElementById("app")});
