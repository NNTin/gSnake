(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Ln=!1;var Vn=Array.isArray,xs=Array.prototype.indexOf,mt=Array.prototype.includes,dn=Array.from,Hn=Object.defineProperty,pt=Object.getOwnPropertyDescriptor,Dr=Object.getOwnPropertyDescriptors,ks=Object.prototype,$s=Array.prototype,Kn=Object.getPrototypeOf,gr=Object.isExtensible;const bt=()=>{};function As(e){return e()}function Fn(e){for(var t=0;t<e.length;t++)e[t]()}function zr(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const Z=2,an=4,Gt=8,Yn=1<<24,je=16,Ae=32,ft=64,Xn=128,ge=512,U=1024,ee=2048,we=4096,ue=8192,De=16384,vn=32768,yt=65536,pr=1<<17,Br=1<<18,Lt=1<<19,jr=1<<20,Ve=1<<25,st=32768,Cn=1<<21,Jn=1<<22,He=1<<23,ze=Symbol("$state"),Ur=Symbol("legacy props"),Ls=Symbol(""),_t=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},hn=3,ut=8;function Wr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Fs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Cs(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function Ts(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Os(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Rs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ms(){throw new Error("https://svelte.dev/e/hydration_failed")}function Ps(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function Is(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ds(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function zs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Bs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const js=1,Us=2,Ws=16,Gs=1,qs=2,Gr=4,Vs=8,Hs=16,Ks=1,Ys=2,Qn="[",_n="[!",Zn="]",ot={},H=Symbol(),Xs="http://www.w3.org/1999/xhtml",Js="@attach";function qt(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function Qs(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Zs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let S=!1;function xe(e){S=e}let L;function ne(e){if(e===null)throw qt(),ot;return L=e}function at(){return ne(Le(L))}function A(e){if(S){if(Le(L)!==null)throw qt(),ot;L=e}}function qr(e=1){if(S){for(var t=e,n=L;t--;)n=Le(n);L=n}}function ln(e=!0){for(var t=0,n=L;;){if(n.nodeType===ut){var r=n.data;if(r===Zn){if(t===0)return n;t-=1}else(r===Qn||r===_n||r[0]==="["&&!isNaN(Number(r.slice(1))))&&(t+=1)}var i=Le(n);e&&n.remove(),n=i}}function Vr(e){if(!e||e.nodeType!==ut)throw qt(),ot;return e.data}function Hr(e){return e===this.v}function Kr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Yr(e){return!Kr(e,this.v)}let Ft=!1,eo=!1;function to(){Ft=!0}let B=null;function Et(e){B=e}function W(e,t=!1,n){B={p:B,i:!1,c:null,e:null,s:e,x:null,l:Ft&&!t?{s:null,u:null,$:[]}:null}}function G(e){var t=B,n=t.e;if(n!==null){t.e=null;for(var r of n)_i(r)}return e!==void 0&&(t.x=e),t.i=!0,B=t.p,e??{}}function Vt(){return!Ft||B!==null&&B.l===null}let et=[];function Xr(){var e=et;et=[],Fn(e)}function Te(e){if(et.length===0&&!zt){var t=et;queueMicrotask(()=>{t===et&&Xr()})}et.push(e)}function no(){for(;et.length>0;)Xr()}function Jr(e){var t=F;if(t===null)return C.f|=He,e;if((t.f&vn)===0){if((t.f&Xn)===0)throw e;t.b.error(e)}else St(e,t)}function St(e,t){for(;t!==null;){if((t.f&Xn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const ro=-7169;function j(e,t){e.f=e.f&ro|t}function er(e){(e.f&ge)!==0||e.deps===null?j(e,U):j(e,we)}function Qr(e){if(e!==null)for(const t of e)(t.f&Z)===0||(t.f&st)===0||(t.f^=st,Qr(t.deps))}function Zr(e,t,n){(e.f&ee)!==0?t.add(e):(e.f&we)!==0&&n.add(e),Qr(e.deps),j(e,U)}const Xt=new Set;let z=null,Se=null,re=[],gn=null,Tn=!1,zt=!1;class Ke{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#o=0;#a=null;#i=new Set;#r=new Set;#s=new Map;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#o>0}skip_effect(t){this.#s.has(t)||this.#s.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#s.get(t);if(n){this.#s.delete(t);for(var r of n.d)j(r,ee),ke(r);for(r of n.m)j(r,we),ke(r)}}process(t){re=[],this.apply();var n=[],r=[];for(const i of t)this.#f(i,n,r);if(this.is_deferred()){this.#c(r),this.#c(n);for(const[i,s]of this.#s)ri(i,s)}else{for(const i of this.#e)i();this.#e.clear(),this.#n===0&&this.#u(),z=null,br(r),br(n),this.#a?.resolve()}Se=null}#f(t,n,r){t.f^=U;for(var i=t.first,s=null;i!==null;){var o=i.f,a=(o&(Ae|ft))!==0,l=a&&(o&U)!==0,f=l||(o&ue)!==0||this.#s.has(i);if(!f&&i.fn!==null){a?i.f^=U:s!==null&&(o&(an|Gt|Yn))!==0?s.b.defer_effect(i):(o&an)!==0?n.push(i):Ct(i)&&((o&je)!==0&&this.#r.add(i),kt(i));var u=i.first;if(u!==null){i=u;continue}}var d=i.parent;for(i=i.next;i===null&&d!==null;)d===s&&(s=null),i=d.next,d=d.parent}}#c(t){for(var n=0;n<t.length;n+=1)Zr(t[n],this.#i,this.#r)}capture(t,n){n!==H&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&He)===0&&(this.current.set(t,t.v),Se?.set(t,t.v))}activate(){z=this,this.apply()}deactivate(){z===this&&(z=null,Se=null)}flush(){if(this.activate(),re.length>0){if(ei(),z!==null&&z!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(Xt.size>1){this.previous.clear();var t=Se,n=!0;for(const i of Xt){if(i===this){n=!1;continue}const s=[];for(const[a,l]of this.current){if(i.current.has(a))if(n&&l!==i.current.get(a))i.current.set(a,l);else continue;s.push(a)}if(s.length===0)continue;const o=[...i.current.keys()].filter(a=>!this.current.has(a));if(o.length>0){var r=re;re=[];const a=new Set,l=new Map;for(const f of s)ti(f,o,a,l);if(re.length>0){z=i,i.apply();for(const f of re)i.#f(f,[],[]);i.deactivate()}re=r}}z=null,Se=t}this.committed=!0,Xt.delete(this)}increment(t){this.#n+=1,t&&(this.#o+=1)}decrement(t){this.#n-=1,t&&(this.#o-=1),!this.#l&&(this.#l=!0,Te(()=>{this.#l=!1,this.is_deferred()?re.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#i)this.#r.delete(t),j(t,ee),ke(t);for(const t of this.#r)j(t,we),ke(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#a??=zr()).promise}static ensure(){if(z===null){const t=z=new Ke;Xt.add(z),zt||Te(()=>{z===t&&t.flush()})}return z}apply(){}}function ce(e){var t=zt;zt=!0;try{for(var n;;){if(no(),re.length===0&&(z?.flush(),re.length===0))return gn=null,n;ei()}}finally{zt=t}}function ei(){Tn=!0;var e=null;try{for(var t=0;re.length>0;){var n=Ke.ensure();if(t++>1e3){var r,i;io()}n.process(re),Ye.clear()}}finally{re=[],Tn=!1,gn=null}}function io(){try{Rs()}catch(e){St(e,gn)}}let Ie=null;function br(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(De|ue))===0&&Ct(r)&&(Ie=new Set,kt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?mi(r):r.fn=null),Ie?.size>0)){Ye.clear();for(const i of Ie){if((i.f&(De|ue))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)Ie.has(o)&&(Ie.delete(o),s.push(o)),o=o.parent;for(let a=s.length-1;a>=0;a--){const l=s[a];(l.f&(De|ue))===0&&kt(l)}}Ie.clear()}}Ie=null}}function ti(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&Z)!==0?ti(i,t,n,r):(s&(Jn|je))!==0&&(s&ee)===0&&ni(i,t,r)&&(j(i,ee),ke(i))}}function ni(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(mt.call(t,i))return!0;if((i.f&Z)!==0&&ni(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function ke(e){for(var t=gn=e;t.parent!==null;){t=t.parent;var n=t.f;if(Tn&&t===F&&(n&je)!==0&&(n&Br)===0)return;if((n&(ft|Ae))!==0){if((n&U)===0)return;t.f^=U}}re.push(t)}function ri(e,t){if(!((e.f&Ae)!==0&&(e.f&U)!==0)){(e.f&ee)!==0?t.d.push(e):(e.f&we)!==0&&t.m.push(e),j(e,U);for(var n=e.first;n!==null;)ri(n,t),n=n.next}}function so(e){let t=0,n=Xe(0),r;return()=>{sr()&&(_(n),wn(()=>(t===0&&(r=I(()=>e(()=>Bt(n)))),t+=1,()=>{Te(()=>{t-=1,t===0&&(r?.(),r=void 0,Bt(n))})})))}}var oo=yt|Lt|Xn;function ao(e,t,n){new lo(e,t,n)}class lo{parent;is_pending=!1;#e;#t=S?L:null;#n;#o;#a;#i=null;#r=null;#s=null;#l=null;#f=null;#c=0;#u=0;#h=!1;#v=!1;#_=new Set;#g=new Set;#d=null;#y=so(()=>(this.#d=Xe(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#n=n,this.#o=r,this.parent=F.b,this.is_pending=!!this.#n.pending,this.#a=or(()=>{if(F.b=this,S){const s=this.#t;at(),s.nodeType===ut&&s.data===_n?this.#S():(this.#E(),this.#u===0&&(this.is_pending=!1))}else{var i=this.#w();try{this.#i=se(()=>r(i))}catch(s){this.error(s)}this.#u>0?this.#b():this.is_pending=!1}return()=>{this.#f?.remove()}},oo),S&&(this.#e=L)}#E(){try{this.#i=se(()=>this.#o(this.#e))}catch(t){this.error(t)}}#S(){const t=this.#n.pending;t&&(this.#r=se(()=>t(this.#e)),Te(()=>{var n=this.#w();this.#i=this.#p(()=>(Ke.ensure(),se(()=>this.#o(n)))),this.#u>0?this.#b():(rt(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#w(){var t=this.#e;return this.is_pending&&(this.#f=pe(),this.#e.before(this.#f),t=this.#f),t}defer_effect(t){Zr(t,this.#_,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#p(t){var n=F,r=C,i=B;ye(this.#a),me(this.#a),Et(this.#a.ctx);try{return t()}catch(s){return Jr(s),null}finally{ye(n),me(r),Et(i)}}#b(){const t=this.#n.pending;this.#i!==null&&(this.#l=document.createDocumentFragment(),this.#l.append(this.#f),Si(this.#i,this.#l)),this.#r===null&&(this.#r=se(()=>t(this.#e)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}if(this.#u+=t,this.#u===0){this.is_pending=!1;for(const n of this.#_)j(n,ee),ke(n);for(const n of this.#g)j(n,we),ke(n);this.#_.clear(),this.#g.clear(),this.#r&&rt(this.#r,()=>{this.#r=null}),this.#l&&(this.#e.before(this.#l),this.#l=null)}}update_pending_count(t){this.#m(t),this.#c+=t,!(!this.#d||this.#h)&&(this.#h=!0,Te(()=>{this.#h=!1,this.#d&&xt(this.#d,this.#c)}))}get_effect_pending(){return this.#y(),_(this.#d)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(Q(this.#i),this.#i=null),this.#r&&(Q(this.#r),this.#r=null),this.#s&&(Q(this.#s),this.#s=null),S&&(ne(this.#t),qr(),ne(ln()));var i=!1,s=!1;const o=()=>{if(i){Zs();return}i=!0,s&&Bs(),Ke.ensure(),this.#c=0,this.#s!==null&&rt(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,se(()=>this.#o(this.#e)))),this.#u>0?this.#b():this.is_pending=!1};Te(()=>{try{s=!0,n?.(t,o),s=!1}catch(a){St(a,this.#a&&this.#a.parent)}r&&(this.#s=this.#p(()=>{Ke.ensure(),this.#v=!0;try{return se(()=>{r(this.#e,()=>t,()=>o)})}catch(a){return St(a,this.#a.parent),null}finally{this.#v=!1}}))})}}function ii(e,t,n,r){const i=Vt()?Ht:tr;var s=e.filter(c=>!c.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var o=z,a=F,l=fo(),f=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(c=>c.promise)):null;function u(c){l();try{r(c)}catch(h){(a.f&De)===0&&St(h,a)}o?.deactivate(),On()}if(n.length===0){f.then(()=>u(t.map(i)));return}function d(){l(),Promise.all(n.map(c=>uo(c))).then(c=>u([...t.map(i),...c])).catch(c=>St(c,a))}f?f.then(d):d()}function fo(){var e=F,t=C,n=B,r=z;return function(s=!0){ye(e),me(t),Et(n),s&&r?.activate()}}function On(){ye(null),me(null),Et(null)}function Ht(e){var t=Z|ee,n=C!==null&&(C.f&Z)!==0?C:null;return F!==null&&(F.f|=Lt),{ctx:B,deps:null,effects:null,equals:Hr,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:n??F,ac:null}}function uo(e,t,n){let r=F;r===null&&Fs();var i=r.b,s=void 0,o=Xe(H),a=!C,l=new Map;return yo(()=>{var f=zr();s=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{u===z&&u.committed&&u.deactivate(),On()})}catch(h){f.reject(h),On()}var u=z;if(a){var d=i.is_rendered();i.update_pending_count(1),u.increment(d),l.get(u)?.reject(_t),l.delete(u),l.set(u,f)}const c=(h,v=void 0)=>{if(u.activate(),v)v!==_t&&(o.f|=He,xt(o,v));else{(o.f&He)!==0&&(o.f^=He),xt(o,h);for(const[p,y]of l){if(l.delete(p),p===u)break;y.reject(_t)}}a&&(i.update_pending_count(-1),u.decrement(d))};f.promise.then(c,h=>c(null,h||"unknown"))}),pn(()=>{for(const f of l.values())f.reject(_t)}),new Promise(f=>{function u(d){function c(){d===s?f(o):u(s)}d.then(c,c)}u(s)})}function co(e){const t=Ht(e);return xi(t),t}function tr(e){const t=Ht(e);return t.equals=Yr,t}function si(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Q(t[n])}}function vo(e){for(var t=e.parent;t!==null;){if((t.f&Z)===0)return(t.f&De)===0?t:null;t=t.parent}return null}function nr(e){var t,n=F;ye(vo(e));try{e.f&=~st,si(e),t=Li(e)}finally{ye(n)}return t}function oi(e){var t=nr(e);if(!e.equals(t)&&(e.wv=$i(),(!z?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){j(e,U);return}Je||(Se!==null?(sr()||z?.is_fork)&&Se.set(e,t):er(e))}let Nn=new Set;const Ye=new Map;let ai=!1;function Xe(e,t){var n={f:0,v:e,reactions:null,equals:Hr,rv:0,wv:0};return n}function Ge(e,t){const n=Xe(e);return xi(n),n}function J(e,t=!1,n=!0){const r=Xe(e);return t||(r.equals=Yr),Ft&&n&&B!==null&&B.l!==null&&(B.l.s??=[]).push(r),r}function M(e,t,n=!1){C!==null&&(!$e||(C.f&pr)!==0)&&Vt()&&(C.f&(Z|je|Jn|pr))!==0&&(be===null||!mt.call(be,e))&&zs();let r=n?gt(t):t;return xt(e,r)}function xt(e,t){if(!e.equals(t)){var n=e.v;Je?Ye.set(e,t):Ye.set(e,n),e.v=t;var r=Ke.ensure();if(r.capture(e,n),(e.f&Z)!==0){const i=e;(e.f&ee)!==0&&nr(i),er(i)}e.wv=$i(),li(e,ee),Vt()&&F!==null&&(F.f&U)!==0&&(F.f&(Ae|ft))===0&&(he===null?So([e]):he.push(e)),!r.is_fork&&Nn.size>0&&!ai&&ho()}return t}function ho(){ai=!1;for(const e of Nn)(e.f&U)!==0&&j(e,we),Ct(e)&&kt(e);Nn.clear()}function wr(e,t=1){var n=_(e),r=t===1?n++:n--;return M(e,n),r}function Bt(e){M(e,e.v+1)}function li(e,t){var n=e.reactions;if(n!==null)for(var r=Vt(),i=n.length,s=0;s<i;s++){var o=n[s],a=o.f;if(!(!r&&o===F)){var l=(a&ee)===0;if(l&&j(o,t),(a&Z)!==0){var f=o;Se?.delete(f),(a&st)===0&&(a&ge&&(o.f|=st),li(f,we))}else l&&((a&je)!==0&&Ie!==null&&Ie.add(o),ke(o))}}}function gt(e){if(typeof e!="object"||e===null||ze in e)return e;const t=Kn(e);if(t!==ks&&t!==$s)return e;var n=new Map,r=Vn(e),i=Ge(0),s=it,o=a=>{if(it===s)return a();var l=C,f=it;me(null),xr(s);var u=a();return me(l),xr(f),u};return r&&n.set("length",Ge(e.length)),new Proxy(e,{defineProperty(a,l,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Is();var u=n.get(l);return u===void 0?o(()=>{var d=Ge(f.value);return n.set(l,d),d}):M(u,f.value,!0),!0},deleteProperty(a,l){var f=n.get(l);if(f===void 0){if(l in a){const u=o(()=>Ge(H));n.set(l,u),Bt(i)}}else M(f,H),Bt(i);return!0},get(a,l,f){if(l===ze)return e;var u=n.get(l),d=l in a;if(u===void 0&&(!d||pt(a,l)?.writable)&&(u=o(()=>{var h=gt(d?a[l]:H),v=Ge(h);return v}),n.set(l,u)),u!==void 0){var c=_(u);return c===H?void 0:c}return Reflect.get(a,l,f)},getOwnPropertyDescriptor(a,l){var f=Reflect.getOwnPropertyDescriptor(a,l);if(f&&"value"in f){var u=n.get(l);u&&(f.value=_(u))}else if(f===void 0){var d=n.get(l),c=d?.v;if(d!==void 0&&c!==H)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(a,l){if(l===ze)return!0;var f=n.get(l),u=f!==void 0&&f.v!==H||Reflect.has(a,l);if(f!==void 0||F!==null&&(!u||pt(a,l)?.writable)){f===void 0&&(f=o(()=>{var c=u?gt(a[l]):H,h=Ge(c);return h}),n.set(l,f));var d=_(f);if(d===H)return!1}return u},set(a,l,f,u){var d=n.get(l),c=l in a;if(r&&l==="length")for(var h=f;h<d.v;h+=1){var v=n.get(h+"");v!==void 0?M(v,H):h in a&&(v=o(()=>Ge(H)),n.set(h+"",v))}if(d===void 0)(!c||pt(a,l)?.writable)&&(d=o(()=>Ge(void 0)),M(d,gt(f)),n.set(l,d));else{c=d.v!==H;var p=o(()=>gt(f));M(d,p)}var y=Reflect.getOwnPropertyDescriptor(a,l);if(y?.set&&y.set.call(u,f),!c){if(r&&typeof l=="string"){var g=n.get("length"),b=Number(l);Number.isInteger(b)&&b>=g.v&&M(g,b+1)}Bt(i)}return!0},ownKeys(a){_(i);var l=Reflect.ownKeys(a).filter(d=>{var c=n.get(d);return c===void 0||c.v!==H});for(var[f,u]of n)u.v!==H&&!(f in a)&&l.push(f);return l},setPrototypeOf(){Ds()}})}function mr(e){try{if(e!==null&&typeof e=="object"&&ze in e)return e[ze]}catch{}return e}function _o(e,t){return Object.is(mr(e),mr(t))}var yr,fi,ui,ci;function Rn(){if(yr===void 0){yr=window,fi=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ui=pt(t,"firstChild").get,ci=pt(t,"nextSibling").get,gr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),gr(n)&&(n.__t=void 0)}}function pe(e=""){return document.createTextNode(e)}function fe(e){return ui.call(e)}function Le(e){return ci.call(e)}function T(e,t){if(!S)return fe(e);var n=fe(L);if(n===null)n=L.appendChild(pe());else if(t&&n.nodeType!==hn){var r=pe();return n?.before(r),ne(r),r}return t&&rr(n),ne(n),n}function Re(e,t=!1){if(!S){var n=fe(e);return n instanceof Comment&&n.data===""?Le(n):n}if(t){if(L?.nodeType!==hn){var r=pe();return L?.before(r),ne(r),r}rr(L)}return L}function P(e,t=1,n=!1){let r=S?L:e;for(var i;t--;)i=r,r=Le(r);if(!S)return r;if(n){if(r?.nodeType!==hn){var s=pe();return r===null?i?.after(s):r.before(s),ne(s),s}rr(r)}return ne(r),r}function di(e){e.textContent=""}function vi(){return!1}function rr(e){if(e.nodeValue.length<65536)return;let t=e.nextSibling;for(;t!==null&&t.nodeType===hn;)t.remove(),e.nodeValue+=t.nodeValue,t=e.nextSibling}function go(e,t){if(t){const n=document.body;e.autofocus=!0,Te(()=>{document.activeElement===n&&e.focus()})}}let Er=!1;function po(){Er||(Er=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function ir(e){var t=C,n=F;me(null),ye(null);try{return e()}finally{me(t),ye(n)}}function hi(e){F===null&&(C===null&&Ns(),Os()),Je&&Ts()}function bo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Fe(e,t,n){var r=F;r!==null&&(r.f&ue)!==0&&(e|=ue);var i={ctx:B,deps:null,nodes:null,f:e|ee|ge,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{kt(i),i.f|=vn}catch(a){throw Q(i),a}else t!==null&&ke(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Lt)===0&&(s=s.first,(e&je)!==0&&(e&yt)!==0&&s!==null&&(s.f|=yt)),s!==null&&(s.parent=r,r!==null&&bo(s,r),C!==null&&(C.f&Z)!==0&&(e&ft)===0)){var o=C;(o.effects??=[]).push(s)}return i}function sr(){return C!==null&&!$e}function pn(e){const t=Fe(Gt,null,!1);return j(t,U),t.teardown=e,t}function Mn(e){hi();var t=F.f,n=!C&&(t&Ae)!==0&&(t&vn)===0;if(n){var r=B;(r.e??=[]).push(e)}else return _i(e)}function _i(e){return Fe(an|jr,e,!1)}function wo(e){return hi(),Fe(Gt|jr,e,!0)}function mo(e){Ke.ensure();const t=Fe(ft|Lt,e,!0);return(n={})=>new Promise(r=>{n.outro?rt(t,()=>{Q(t),r(void 0)}):(Q(t),r(void 0))})}function bn(e){return Fe(an,e,!1)}function _e(e,t){var n=B,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=wn(()=>{e(),!r.ran&&(r.ran=!0,I(t))})}function Kt(){var e=B;wn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&U)!==0&&n.deps!==null&&j(n,we),Ct(n)&&kt(n),t.ran=!1}})}function yo(e){return Fe(Jn|Lt,e,!0)}function wn(e,t=0){return Fe(Gt|t,e,!0)}function Be(e,t=[],n=[],r=[]){ii(r,t,n,i=>{Fe(Gt,()=>e(...i.map(_)),!0)})}function or(e,t=0){var n=Fe(je|t,e,!0);return n}function gi(e,t=0){var n=Fe(Yn|t,e,!0);return n}function se(e){return Fe(Ae|Lt,e,!0)}function pi(e){var t=e.teardown;if(t!==null){const n=Je,r=C;Sr(!0),me(null);try{t.call(null)}finally{Sr(n),me(r)}}}function bi(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&ir(()=>{i.abort(_t)});var r=n.next;(n.f&ft)!==0?n.parent=null:Q(n,t),n=r}}function Eo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Ae)===0&&Q(t),t=n}}function Q(e,t=!0){var n=!1;(t||(e.f&Br)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(wi(e.nodes.start,e.nodes.end),n=!0),bi(e,t&&!n),fn(e,0),j(e,De);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();pi(e);var i=e.parent;i!==null&&i.first!==null&&mi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function wi(e,t){for(;e!==null;){var n=e===t?null:Le(e);e.remove(),e=n}}function mi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function rt(e,t,n=!0){var r=[];yi(e,r,!0);var i=()=>{n&&Q(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||i();for(var a of r)a.out(o)}else i()}function yi(e,t,n){if((e.f&ue)===0){e.f^=ue;var r=e.nodes&&e.nodes.t;if(r!==null)for(const a of r)(a.is_global||n)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&yt)!==0||(i.f&Ae)!==0&&(e.f&je)!==0;yi(i,t,o?n:!1),i=s}}}function ar(e){Ei(e,!0)}function Ei(e,t){if((e.f&ue)!==0){e.f^=ue,(e.f&U)===0&&(j(e,ee),ke(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&yt)!==0||(n.f&Ae)!==0;Ei(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function Si(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Le(n);t.append(n),n=i}}let tn=!1,Je=!1;function Sr(e){Je=e}let C=null,$e=!1;function me(e){C=e}let F=null;function ye(e){F=e}let be=null;function xi(e){C!==null&&(be===null?be=[e]:be.push(e))}let ie=null,ae=0,he=null;function So(e){he=e}let ki=1,tt=0,it=tt;function xr(e){it=e}function $i(){return++ki}function Ct(e){var t=e.f;if((t&ee)!==0)return!0;if(t&Z&&(e.f&=~st),(t&we)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Ct(s)&&oi(s),s.wv>e.wv)return!0}(t&ge)!==0&&Se===null&&j(e,U)}return!1}function Ai(e,t,n=!0){var r=e.reactions;if(r!==null&&!(be!==null&&mt.call(be,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Z)!==0?Ai(s,t,!1):t===s&&(n?j(s,ee):(s.f&U)!==0&&j(s,we),ke(s))}}function Li(e){var t=ie,n=ae,r=he,i=C,s=be,o=B,a=$e,l=it,f=e.f;ie=null,ae=0,he=null,C=(f&(Ae|ft))===0?e:null,be=null,Et(e.ctx),$e=!1,it=++tt,e.ac!==null&&(ir(()=>{e.ac.abort(_t)}),e.ac=null);try{e.f|=Cn;var u=e.fn,d=u(),c=e.deps,h=z?.is_fork;if(ie!==null){var v;if(h||fn(e,ae),c!==null&&ae>0)for(c.length=ae+ie.length,v=0;v<ie.length;v++)c[ae+v]=ie[v];else e.deps=c=ie;if(sr()&&(e.f&ge)!==0)for(v=ae;v<c.length;v++)(c[v].reactions??=[]).push(e)}else!h&&c!==null&&ae<c.length&&(fn(e,ae),c.length=ae);if(Vt()&&he!==null&&!$e&&c!==null&&(e.f&(Z|we|ee))===0)for(v=0;v<he.length;v++)Ai(he[v],e);if(i!==null&&i!==e){if(tt++,i.deps!==null)for(let p=0;p<n;p+=1)i.deps[p].rv=tt;if(t!==null)for(const p of t)p.rv=tt;he!==null&&(r===null?r=he:r.push(...he))}return(e.f&He)!==0&&(e.f^=He),d}catch(p){return Jr(p)}finally{e.f^=Cn,ie=t,ae=n,he=r,C=i,be=s,Et(o),$e=a,it=l}}function xo(e,t){let n=t.reactions;if(n!==null){var r=xs.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&Z)!==0&&(ie===null||!mt.call(ie,t))){var s=t;(s.f&ge)!==0&&(s.f^=ge,s.f&=~st),er(s),si(s),fn(s,0)}}function fn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)xo(e,n[r])}function kt(e){var t=e.f;if((t&De)===0){j(e,U);var n=F,r=tn;F=e,tn=!0;try{(t&(je|Yn))!==0?Eo(e):bi(e),pi(e);var i=Li(e);e.teardown=typeof i=="function"?i:null,e.wv=ki;var s;Ln&&eo&&(e.f&ee)!==0&&e.deps}finally{tn=r,F=n}}}function _(e){var t=e.f,n=(t&Z)!==0;if(C!==null&&!$e){var r=F!==null&&(F.f&De)!==0;if(!r&&(be===null||!mt.call(be,e))){var i=C.deps;if((C.f&Cn)!==0)e.rv<tt&&(e.rv=tt,ie===null&&i!==null&&i[ae]===e?ae++:ie===null?ie=[e]:ie.push(e));else{(C.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[C]:mt.call(s,C)||s.push(C)}}}if(Je&&Ye.has(e))return Ye.get(e);if(n){var o=e;if(Je){var a=o.v;return((o.f&U)===0&&o.reactions!==null||Ci(o))&&(a=nr(o)),Ye.set(o,a),a}var l=(o.f&ge)===0&&!$e&&C!==null&&(tn||(C.f&ge)!==0),f=o.deps===null;Ct(o)&&(l&&(o.f|=ge),oi(o)),l&&!f&&Fi(o)}if(Se?.has(e))return Se.get(e);if((e.f&He)!==0)throw e.v;return e.v}function Fi(e){if(e.deps!==null){e.f|=ge;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Z)!==0&&(t.f&ge)===0&&Fi(t)}}function Ci(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ye.has(t)||(t.f&Z)!==0&&Ci(t))return!0;return!1}function I(e){var t=$e;try{return $e=!0,e()}finally{$e=t}}function Ti(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(ze in e)Pn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&ze in n&&Pn(n)}}}function Pn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Pn(e[r],t)}catch{}const n=Kn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Dr(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}function ko(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const $o=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function Ao(e){return $o.includes(e)}const Lo={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function Fo(e){return e=e.toLowerCase(),Lo[e]??e}const Co=["touchstart","touchmove"];function To(e){return Co.includes(e)}const Oi=new Set,In=new Set;function Ni(e,t,n,r={}){function i(s){if(r.capture||Mt.call(t,s),!s.cancelBubble)return ir(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Te(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Me(e,t,n,r,i){var s={capture:r,passive:i},o=Ni(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&pn(()=>{t.removeEventListener(e,o,s)})}function Oo(e){for(var t=0;t<e.length;t++)Oi.add(e[t]);for(var n of In)n(e)}let kr=null;function Mt(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;kr=e;var o=0,a=kr===e&&e.__root;if(a){var l=i.indexOf(a);if(l!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;l<=f&&(o=l)}if(s=i[o]||e.target,s!==t){Hn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=C,d=F;me(null),ye(null);try{for(var c,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];p!=null&&(!s.disabled||e.target===s)&&p.call(s,e)}catch(y){c?h.push(y):c=y}if(e.cancelBubble||v===t||v===null)break;s=v}if(c){for(let y of h)queueMicrotask(()=>{throw y});throw c}}finally{e.__root=t,delete e.currentTarget,me(u),ye(d)}}}function lr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Oe(e,t){var n=F;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function N(e,t){var n=(t&Ks)!==0,r=(t&Ys)!==0,i,s=!e.startsWith("<!>");return()=>{if(S)return Oe(L,null),L;i===void 0&&(i=lr(s?e:"<!>"+e),n||(i=fe(i)));var o=r||fi?document.importNode(i,!0):i.cloneNode(!0);if(n){var a=fe(o),l=o.lastChild;Oe(a,l)}else Oe(o,o);return o}}function No(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(S)return Oe(L,null),L;if(!s){var o=lr(i),a=fe(o);s=fe(a)}var l=s.cloneNode(!0);return Oe(l,l),l}}function Ro(e,t){return No(e,t,"svg")}function lt(){if(S)return Oe(L,null),L;var e=document.createDocumentFragment(),t=document.createComment(""),n=pe();return e.append(t,n),Oe(t,n),e}function $(e,t){if(S){var n=F;((n.f&vn)===0||n.nodes.end===null)&&(n.nodes.end=L),at();return}e!==null&&e.before(t)}function Ne(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function fr(e,t){return Ri(e,t)}function Mo(e,t){Rn(),t.intro=t.intro??!1;const n=t.target,r=S,i=L;try{for(var s=fe(n);s&&(s.nodeType!==ut||s.data!==Qn);)s=Le(s);if(!s)throw ot;xe(!0),ne(s);const o=Ri(e,{...t,anchor:s});return xe(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw o;return o!==ot&&console.warn("Failed to hydrate: ",o),t.recover===!1&&Ms(),Rn(),di(n),xe(!1),fr(e,t)}finally{xe(r),ne(i)}}const dt=new Map;function Ri(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Rn();var a=new Set,l=d=>{for(var c=0;c<d.length;c++){var h=d[c];if(!a.has(h)){a.add(h);var v=To(h);t.addEventListener(h,Mt,{passive:v});var p=dt.get(h);p===void 0?(document.addEventListener(h,Mt,{passive:v}),dt.set(h,1)):dt.set(h,p+1)}}};l(dn(Oi)),In.add(l);var f=void 0,u=mo(()=>{var d=n??t.appendChild(pe());return ao(d,{pending:()=>{}},c=>{W({});var h=B;if(s&&(h.c=s),i&&(r.$$events=i),S&&Oe(c,null),f=e(c,r)||{},S&&(F.nodes.end=L,L===null||L.nodeType!==ut||L.data!==Zn))throw qt(),ot;G()}),()=>{for(var c of a){t.removeEventListener(c,Mt);var h=dt.get(c);--h===0?(document.removeEventListener(c,Mt),dt.delete(c)):dt.set(c,h)}In.delete(l),d!==n&&d.parentNode?.removeChild(d)}});return Dn.set(f,u),f}let Dn=new WeakMap;function Po(e,t){const n=Dn.get(e);return n?(Dn.delete(e),n(t)):Promise.resolve()}class Io{anchor;#e=new Map;#t=new Map;#n=new Map;#o=new Set;#a=!0;constructor(t,n=!0){this.anchor=t,this.#a=n}#i=()=>{var t=z;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)ar(r),this.#o.delete(n);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===t)break;const a=this.#n.get(o);a&&(Q(a.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n||this.#o.has(s))continue;const a=()=>{if(Array.from(this.#e.values()).includes(s)){var f=document.createDocumentFragment();Si(o,f),f.append(pe()),this.#n.set(s,{effect:o,fragment:f})}else Q(o);this.#o.delete(s),this.#t.delete(s)};this.#a||!r?(this.#o.add(s),rt(o,a,!1)):a()}}};#r=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(Q(i.effect),this.#n.delete(r))};ensure(t,n){var r=z,i=vi();if(n&&!this.#t.has(t)&&!this.#n.has(t))if(i){var s=document.createDocumentFragment(),o=pe();s.append(o),this.#n.set(t,{effect:se(()=>n(o)),fragment:s})}else this.#t.set(t,se(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[a,l]of this.#t)a===t?r.unskip_effect(l):r.skip_effect(l);for(const[a,l]of this.#n)a===t?r.unskip_effect(l.effect):r.skip_effect(l.effect);r.oncommit(this.#i),r.ondiscard(this.#r)}else S&&(this.anchor=L),this.#i()}}function le(e,t,n=!1){S&&at();var r=new Io(e),i=n?yt:0;function s(o,a){if(S){const u=Vr(e);var l;if(u===Qn?l=0:u===_n?l=!1:l=parseInt(u.substring(1)),o!==l){var f=ln();ne(f),r.anchor=f,xe(!1),r.ensure(o,a),xe(!0);return}}r.ensure(o,a)}or(()=>{var o=!1;t((a,l=0)=>{o=!0,s(l,a)}),o||s(!1,null)},i)}function Mi(e,t){return t}function Do(e,t,n){for(var r=[],i=t.length,s,o=t.length,a=0;a<i;a++){let d=t[a];rt(d,()=>{if(s){if(s.pending.delete(d),s.done.add(d),s.pending.size===0){var c=e.outrogroups;zn(dn(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var l=r.length===0&&n!==null;if(l){var f=n,u=f.parentNode;di(u),u.append(f),e.items.clear()}zn(t,!l)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function zn(e,t=!0){for(var n=0;n<e.length;n++)Q(e[n],t)}var $r;function Pi(e,t,n,r,i,s=null){var o=e,a=new Map;{var l=e;o=S?ne(fe(l)):l.appendChild(pe())}S&&at();var f=null,u=tr(()=>{var y=n();return Vn(y)?y:y==null?[]:dn(y)}),d,c=!0;function h(){p.fallback=f,zo(p,d,o,t,r),f!==null&&(d.length===0?(f.f&Ve)===0?ar(f):(f.f^=Ve,Pt(f,null,o)):rt(f,()=>{f=null}))}var v=or(()=>{d=_(u);var y=d.length;let g=!1;if(S){var b=Vr(o)===_n;b!==(y===0)&&(o=ln(),ne(o),xe(!1),g=!0)}for(var E=new Set,x=z,R=vi(),w=0;w<y;w+=1){S&&L.nodeType===ut&&L.data===Zn&&(o=L,g=!0,xe(!1));var m=d[w],O=r(m,w),q=c?null:a.get(O);q?(q.v&&xt(q.v,m),q.i&&xt(q.i,w),R&&x.unskip_effect(q.e)):(q=Bo(a,c?o:$r??=pe(),m,O,w,i,t,n),c||(q.e.f|=Ve),a.set(O,q)),E.add(O)}if(y===0&&s&&!f&&(c?f=se(()=>s(o)):(f=se(()=>s($r??=pe())),f.f|=Ve)),y>E.size&&Cs(),S&&y>0&&ne(ln()),!c)if(R){for(const[D,Pe]of a)E.has(D)||x.skip_effect(Pe.e);x.oncommit(h),x.ondiscard(()=>{})}else h();g&&xe(!0),_(u)}),p={effect:v,items:a,outrogroups:null,fallback:f};c=!1,S&&(o=L)}function Ot(e){for(;e!==null&&(e.f&Ae)===0;)e=e.next;return e}function zo(e,t,n,r,i){var s=t.length,o=e.items,a=Ot(e.effect.first),l,f=null,u=[],d=[],c,h,v,p;for(p=0;p<s;p+=1){if(c=t[p],h=i(c,p),v=o.get(h).e,e.outrogroups!==null)for(const O of e.outrogroups)O.pending.delete(v),O.done.delete(v);if((v.f&Ve)!==0)if(v.f^=Ve,v===a)Pt(v,null,n);else{var y=f?f.next:a;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),qe(e,f,v),qe(e,v,y),Pt(v,y,n),f=v,u=[],d=[],a=Ot(f.next);continue}if((v.f&ue)!==0&&ar(v),v!==a){if(l!==void 0&&l.has(v)){if(u.length<d.length){var g=d[0],b;f=g.prev;var E=u[0],x=u[u.length-1];for(b=0;b<u.length;b+=1)Pt(u[b],g,n);for(b=0;b<d.length;b+=1)l.delete(d[b]);qe(e,E.prev,x.next),qe(e,f,E),qe(e,x,g),a=g,f=x,p-=1,u=[],d=[]}else l.delete(v),Pt(v,a,n),qe(e,v.prev,v.next),qe(e,v,f===null?e.effect.first:f.next),qe(e,f,v),f=v;continue}for(u=[],d=[];a!==null&&a!==v;)(l??=new Set).add(a),d.push(a),a=Ot(a.next);if(a===null)continue}(v.f&Ve)===0&&u.push(v),f=v,a=Ot(v.next)}if(e.outrogroups!==null){for(const O of e.outrogroups)O.pending.size===0&&(zn(dn(O.done)),e.outrogroups?.delete(O));e.outrogroups.size===0&&(e.outrogroups=null)}if(a!==null||l!==void 0){var R=[];if(l!==void 0)for(v of l)(v.f&ue)===0&&R.push(v);for(;a!==null;)(a.f&ue)===0&&a!==e.fallback&&R.push(a),a=Ot(a.next);var w=R.length;if(w>0){var m=s===0?n:null;Do(e,R,m)}}}function Bo(e,t,n,r,i,s,o,a){var l=(o&js)!==0?(o&Ws)===0?J(n,!1,!1):Xe(n):null,f=(o&Us)!==0?Xe(i):null;return{v:l,i:f,e:se(()=>(s(t,l??n,f??i,a),()=>{e.delete(r)}))}}function Pt(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&Ve)===0?t.nodes.start:n;r!==null;){var o=Le(r);if(s.before(r),r===i)return;r=o}}function qe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function jo(e,t,n=!1,r=!1,i=!1){var s=e,o="";Be(()=>{var a=F;if(o===(o=t()??"")){S&&at();return}if(a.nodes!==null&&(wi(a.nodes.start,a.nodes.end),a.nodes=null),o!==""){if(S){L.data;for(var l=at(),f=l;l!==null&&(l.nodeType!==ut||l.data!=="");)f=l,l=Le(l);if(l===null)throw qt(),ot;Oe(L,f),s=ne(l);return}var u=o+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var d=lr(u);if((n||r)&&(d=fe(d)),Oe(fe(d),d.lastChild),n||r)for(;fe(d);)s.before(fe(d));else s.before(d)}})}function nn(e,t,n,r,i){S&&at();var s=t.$$slots?.[n],o=!1;s===!0&&(s=t[n==="default"?"children":n],o=!0),s===void 0||s(e,o?()=>r:r)}function Uo(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function Ii(e,t){bn(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,r.appendChild(i)}})}function Wo(e,t){var n=void 0,r;gi(()=>{n!==(n=t())&&(r&&(Q(r),r=null),n&&(r=se(()=>{bn(()=>n(e))})))})}function Di(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Di(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Go(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Di(e))&&(r&&(r+=" "),r+=t);return r}function qo(e){return typeof e=="object"?Go(e):e??""}const Ar=[...` 	
\r\fÂ \v\uFEFF`];function Vo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var a=o+s;(o===0||Ar.includes(r[o-1]))&&(a===r.length||Ar.includes(r[a]))?r=(o===0?"":r.substring(0,o))+r.substring(a+1):o=a}}return r===""?null:r}function Lr(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function xn(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Ho(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,a=!1,l=[];r&&l.push(...Object.keys(r).map(xn)),i&&l.push(...Object.keys(i).map(xn));var f=0,u=-1;const p=e.length;for(var d=0;d<p;d++){var c=e[d];if(a?c==="/"&&e[d-1]==="*"&&(a=!1):s?s===c&&(s=!1):c==="/"&&e[d+1]==="*"?a=!0:c==='"'||c==="'"?s=c:c==="("?o++:c===")"&&o--,!a&&s===!1&&o===0){if(c===":"&&u===-1)u=d;else if(c===";"||d===p-1){if(u!==-1){var h=xn(e.substring(f,u).trim());if(!l.includes(h)){c!==";"&&d++;var v=e.substring(f,d).trim();n+=" "+v+";"}}f=d+1,u=-1}}}}return r&&(n+=Lr(r)),i&&(n+=Lr(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function Bn(e,t,n,r,i,s){var o=e.__className;if(S||o!==n||o===void 0){var a=Vo(n,r,s);(!S||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):t?e.className=a:e.setAttribute("class",a)),e.__className=n}else if(s&&i!==s)for(var l in s){var f=!!s[l];(i==null||f!==!!i[l])&&e.classList.toggle(l,f)}return s}function kn(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function ur(e,t,n,r){var i=e.__style;if(S||i!==t){var s=Ho(t,r);(!S||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}else r&&(Array.isArray(r)?(kn(e,n?.[0],r[0]),kn(e,n?.[1],r[1],"important")):kn(e,n,r));return r}function jn(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Vn(t))return Qs();for(var r of e.options)r.selected=t.includes(Fr(r));return}for(r of e.options){var i=Fr(r);if(_o(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Ko(e){var t=new MutationObserver(()=>{jn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),pn(()=>{t.disconnect()})}function Fr(e){return"__value"in e?e.__value:e.value}const ht=Symbol("class"),Nt=Symbol("style"),zi=Symbol("is custom element"),Bi=Symbol("is html");function Yo(e){if(S){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Wt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Wt(e,"checked",null),e.checked=i}}};e.__on_r=n,Te(n),po()}}function Xo(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Wt(e,t,n,r){var i=Ui(e);S&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[Ls]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Wi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Jo(e,t,n,r,i=!1,s=!1){if(S&&i&&e.tagName==="INPUT"){var o=e,a=o.type==="checkbox"?"defaultChecked":"defaultValue";a in n||Yo(o)}var l=Ui(e),f=l[zi],u=!l[Bi];let d=S&&f;d&&xe(!1);var c=t||{},h=e.tagName==="OPTION";for(var v in t)v in n||(n[v]=null);n.class?n.class=qo(n.class):(r||n[ht])&&(n.class=null),n[Nt]&&(n.style??=null);var p=Wi(e);for(const w in n){let m=n[w];if(h&&w==="value"&&m==null){e.value=e.__value="",c[w]=m;continue}if(w==="class"){var y=e.namespaceURI==="http://www.w3.org/1999/xhtml";Bn(e,y,m,r,t?.[ht],n[ht]),c[w]=m,c[ht]=n[ht];continue}if(w==="style"){ur(e,m,t?.[Nt],n[Nt]),c[w]=m,c[Nt]=n[Nt];continue}var g=c[w];if(!(m===g&&!(m===void 0&&e.hasAttribute(w)))){c[w]=m;var b=w[0]+w[1];if(b!=="$$")if(b==="on"){const O={},q="$$"+w;let D=w.slice(2);var E=Ao(D);if(ko(D)&&(D=D.slice(0,-7),O.capture=!0),!E&&g){if(m!=null)continue;e.removeEventListener(D,c[q],O),c[q]=null}if(m!=null)if(E)e[`__${D}`]=m,Oo([D]);else{let Pe=function(yn){c[w].call(this,yn)};c[q]=Ni(D,e,Pe,O)}else E&&(e[`__${D}`]=void 0)}else if(w==="style")Wt(e,w,m);else if(w==="autofocus")go(e,!!m);else if(!f&&(w==="__value"||w==="value"&&m!=null))e.value=e.__value=m;else if(w==="selected"&&h)Xo(e,m);else{var x=w;u||(x=Fo(x));var R=x==="defaultValue"||x==="defaultChecked";if(m==null&&!f&&!R)if(l[w]=null,x==="value"||x==="checked"){let O=e;const q=t===void 0;if(x==="value"){let D=O.defaultValue;O.removeAttribute(x),O.defaultValue=D,O.value=O.__value=q?D:null}else{let D=O.defaultChecked;O.removeAttribute(x),O.defaultChecked=D,O.checked=q?D:!1}}else e.removeAttribute(w);else R||p.includes(x)&&(f||typeof m!="string")?(e[x]=m,x in l&&(l[x]=H)):typeof m!="function"&&Wt(e,x,m)}}}return d&&xe(!0),c}function ji(e,t,n=[],r=[],i=[],s,o=!1,a=!1){ii(i,n,r,l=>{var f=void 0,u={},d=e.nodeName==="SELECT",c=!1;if(gi(()=>{var v=t(...l.map(_)),p=Jo(e,f,v,s,o,a);c&&d&&"value"in v&&jn(e,v.value);for(let g of Object.getOwnPropertySymbols(u))v[g]||Q(u[g]);for(let g of Object.getOwnPropertySymbols(v)){var y=v[g];g.description===Js&&(!f||y!==f[g])&&(u[g]&&Q(u[g]),u[g]=se(()=>Wo(e,()=>y))),p[g]=y}f=p}),d){var h=e;bn(()=>{jn(h,f.value,!0),Ko(h)})}c=!0})}function Ui(e){return e.__attributes??={[zi]:e.nodeName.includes("-"),[Bi]:e.namespaceURI===Xs}}var Cr=new Map;function Wi(e){var t=e.getAttribute("is")||e.nodeName,n=Cr.get(t);if(n)return n;Cr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=Dr(i);for(var o in r)r[o].set&&n.push(o);i=Kn(i)}return n}function Tr(e,t){return e===t||e?.[ze]===t}function Qo(e={},t,n,r){return bn(()=>{var i,s;return wn(()=>{i=s,s=[],I(()=>{e!==n(...s)&&(t(e,...s),i&&Tr(n(...i),e)&&t(null,...i))})}),()=>{Te(()=>{s&&Tr(n(...s),e)&&t(null,...s)})}}),e}function ve(e=!1){const t=B,n=t.l.u;if(!n)return;let r=()=>Ti(t.s);if(e){let i=0,s={};const o=Ht(()=>{let a=!1;const l=t.s;for(const f in l)l[f]!==s[f]&&(s[f]=l[f],a=!0);return a&&i++,i});r=()=>_(o)}n.b.length&&wo(()=>{Or(t,r),Fn(n.b)}),Mn(()=>{const i=I(()=>n.m.map(As));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&Mn(()=>{Or(t,r),Fn(n.a)})}function Or(e,t){if(e.l.s)for(const n of e.l.s)_(n);t()}function K(e,t,n){e.$$events||={},e.$$events[t]||=[],e.$$events[t].push(n)}function Y(e){for(var t in e)t in this&&(this[t]=e[t])}function Gi(e,t,n){if(e==null)return t(void 0),bt;const r=I(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const vt=[];function Ue(e,t=bt){let n=null;const r=new Set;function i(a){if(Kr(e,a)&&(e=a,n)){const l=!vt.length;for(const f of r)f[1](),vt.push(f,e);if(l){for(let f=0;f<vt.length;f+=2)vt[f][0](vt[f+1]);vt.length=0}}}function s(a){i(a(e))}function o(a,l=bt){const f=[a,l];return r.add(f),r.size===1&&(n=t(i,s)||bt),a(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function Zo(e){let t;return Gi(e,n=>t=n)(),t}let Jt=!1,Un=Symbol();function te(e,t,n){const r=n[t]??={store:null,source:J(void 0),unsubscribe:bt};if(r.store!==e&&!(Un in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=bt;else{var i=!0;r.unsubscribe=Gi(e,s=>{i?r.source.v=s:M(r.source,s)}),i=!1}return e&&Un in n?Zo(e):_(r.source)}function Qe(){const e={};function t(){pn(()=>{for(var n in e)e[n].unsubscribe();Hn(e,Un,{enumerable:!1,value:!0})})}return[e,t]}function ea(e){var t=Jt;try{return Jt=!1,[e(),Jt]}finally{Jt=t}}const ta={get(e,t){if(!e.exclude.includes(t))return _(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=F;try{ye(e.parent_effect),e.special[t]=de({get[t](){return e.props[t]}},t,Gr)}finally{ye(r)}}return e.special[t](n),wr(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),wr(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function un(e,t){return new Proxy({props:e,exclude:t,special:{},version:Xe(0),parent_effect:F},ta)}function de(e,t,n,r){var i=!Ft||(n&qs)!==0,s=(n&Vs)!==0,o=(n&Hs)!==0,a=r,l=!0,f=()=>(l&&(l=!1,a=o?I(r):r),a),u;if(s){var d=ze in e||Ur in e;u=pt(e,t)?.set??(d&&t in e?E=>e[t]=E:void 0)}var c,h=!1;s?[c,h]=ea(()=>e[t]):c=e[t],c===void 0&&r!==void 0&&(c=f(),u&&(i&&Ps(),u(c)));var v;if(i?v=()=>{var E=e[t];return E===void 0?f():(l=!0,E)}:v=()=>{var E=e[t];return E!==void 0&&(a=void 0),E===void 0?a:E},i&&(n&Gr)===0)return v;if(u){var p=e.$$legacy;return(function(E,x){return arguments.length>0?((!i||!x||p||h)&&u(x?v():E),E):v()})}var y=!1,g=((n&Gs)!==0?Ht:tr)(()=>(y=!1,v()));s&&_(g);var b=F;return(function(E,x){if(arguments.length>0){const R=x?_(g):i&&s?gt(E):E;return M(g,R),y=!0,a!==void 0&&(a=R),E}return Je&&y||(b.f&De)!==0?g.v:_(g)})}function X(e){return new na(e)}class na{#e;#t;constructor(t){var n=new Map,r=(s,o)=>{var a=J(o,!1,!1);return n.set(s,a),a};const i=new Proxy({...t.props||{},$$events:{}},{get(s,o){return _(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===Ur?!0:(_(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,a){return M(n.get(o)??r(o,a),a),Reflect.set(s,o,a)}});this.#t=(t.hydrate?Mo:fr)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&ce(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||Hn(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{Po(this.#t)}}$set(t){this.#t.$set(t)}$on(t,n){this.#e[t]=this.#e[t]||[];const r=(...i)=>n.call(this,...i);return this.#e[t].push(r),()=>{this.#e[t]=this.#e[t].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}function mn(e){B===null&&Wr(),Ft&&B.l!==null?ra(B).m.push(e):Mn(()=>{const t=I(e);if(typeof t=="function")return t})}function qi(e){B===null&&Wr(),mn(()=>()=>I(e))}function ra(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const ia="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='display:none'%3e%3c!--%20Empty:%20Light%20gray%20filled%20rectangle%20--%3e%3csymbol%20id='Empty'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F5F5F5'/%3e%3c/symbol%3e%3c!--%20SnakeHead:%20Blue%20rounded%20rectangle%20with%20eyes%20--%3e%3csymbol%20id='SnakeHead'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='4'%20fill='%232196F3'/%3e%3ccircle%20cx='11'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3ccircle%20cx='21'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20SnakeBody:%20Lighter%20blue%20with%20horizontal%20stripe%20--%3e%3csymbol%20id='SnakeBody'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='3'%20fill='%2364B5F6'/%3e%3crect%20x='4'%20y='14'%20width='24'%20height='4'%20rx='1'%20fill='%2342A5F5'/%3e%3c/symbol%3e%3c!--%20Food:%20Red%20circle%20with%20green%20stem%20(apple-like)%20--%3e%3csymbol%20id='Food'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='17'%20r='12'%20fill='%23FF5722'/%3e%3cline%20x1='16'%20y1='5'%20x2='16'%20y2='9'%20stroke='%234CAF50'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cline%20x1='16'%20y1='5'%20x2='18'%20y2='7'%20stroke='%234CAF50'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/symbol%3e%3c!--%20FloatingFood:%20Orange%20circle%20with%20upward%20chevrons%20--%3e%3csymbol%20id='FloatingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='18'%20r='10'%20fill='%23FF9800'/%3e%3cpolyline%20points='12,10%2016,6%2020,10'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,6%2016,2%2020,6'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20FallingFood:%20Orange-red%20circle%20with%20downward%20chevrons%20--%3e%3csymbol%20id='FallingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='14'%20r='10'%20fill='%23FF7043'/%3e%3cpolyline%20points='12,22%2016,26%2020,22'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,26%2016,30%2020,26'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20Obstacle:%20Dark%20gray%20with%20cross-hatch%20pattern%20--%3e%3csymbol%20id='Obstacle'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23424242'/%3e%3cline%20x1='0'%20y1='0'%20x2='32'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3cline%20x1='32'%20y1='0'%20x2='0'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3c/symbol%3e%3c!--%20Exit:%20Green%20rectangle%20with%20white%20doorway%20arch%20--%3e%3csymbol%20id='Exit'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%234CAF50'/%3e%3crect%20x='10'%20y='12'%20width='12'%20height='20'%20fill='%23FFF'/%3e%3cpath%20d='M%2010%2012%20Q%2010%206%2016%206%20Q%2022%206%2022%2012'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20Stone:%20Brown%20rounded%20rectangle%20with%20texture%20spots%20--%3e%3csymbol%20id='Stone'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='6'%20fill='%23795548'/%3e%3cellipse%20cx='11'%20cy='10'%20rx='3'%20ry='2.5'%20fill='%238D6E63'/%3e%3cellipse%20cx='20'%20cy='14'%20rx='2.5'%20ry='3'%20fill='%238D6E63'/%3e%3ccircle%20cx='14'%20cy='21'%20r='2'%20fill='%238D6E63'/%3e%3c/symbol%3e%3c!--%20Spike:%20Red%20background%20with%20sharp%20upward%20triangle%20--%3e%3csymbol%20id='Spike'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F44336'/%3e%3cpolygon%20points='16,6%2022,26%2010,26'%20fill='%23B71C1C'/%3e%3c/symbol%3e%3c/svg%3e",sa="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(sa);to();var oa=N('<header class="gsnake-ui-modal-header svelte-12n1f7e"><!></header>'),aa=N('<footer class="gsnake-ui-modal-footer svelte-12n1f7e"><!></footer>'),la=N('<div class="gsnake-ui-modal-backdrop svelte-12n1f7e" role="presentation"><section><!> <div class="gsnake-ui-modal-content svelte-12n1f7e"><!></div> <!></section></div>');const fa={hash:"svelte-12n1f7e",code:".gsnake-ui-modal-backdrop.svelte-12n1f7e {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);padding:16px;z-index:1000;}.gsnake-ui-modal.svelte-12n1f7e {width:min(480px, 100%);background:white;border-radius:12px;border:1px solid #d6d6d6;box-shadow:0 12px 40px rgba(0, 0, 0, 0.25);padding:24px;color:#1f1f1f;}.gsnake-ui-modal-header.svelte-12n1f7e {margin-bottom:12px;}.gsnake-ui-modal-content.svelte-12n1f7e {display:flex;flex-direction:column;gap:12px;}.gsnake-ui-modal-footer.svelte-12n1f7e {margin-top:20px;display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}"};function Yt(e,t){if(new.target)return X({component:Yt,...e});const n=Uo(t),r=un(t,["children","$$slots","$$events","$$legacy"]),i=un(r,["open","onClose","closeOnBackdrop"]);W(t,!1),Ii(e,fa);let s=de(t,"open",12,!0),o=de(t,"onClose",12,void 0),a=de(t,"closeOnBackdrop",12,!0);function l(h){a()&&h.target===h.currentTarget&&o()?.()}var f={get open(){return s()},set open(h){s(h),ce()},get onClose(){return o()},set onClose(h){o(h),ce()},get closeOnBackdrop(){return a()},set closeOnBackdrop(h){a(h),ce()},$set:Y,$on:(h,v)=>K(t,h,v)};ve();var u=lt(),d=Re(u);{var c=h=>{var v=la(),p=T(v);ji(p,()=>({class:"gsnake-ui-modal",role:"dialog","aria-modal":"true",...i}),void 0,void 0,void 0,"svelte-12n1f7e");var y=T(p);{var g=w=>{var m=oa(),O=T(m);nn(O,t,"header",{}),A(m),$(w,m)};le(y,w=>{I(()=>n.header)&&w(g)})}var b=P(y,2),E=T(b);nn(E,t,"default",{}),A(b);var x=P(b,2);{var R=w=>{var m=aa(),O=T(m);nn(O,t,"footer",{}),A(m),$(w,m)};le(x,w=>{I(()=>n.footer)&&w(R)})}A(p),A(v),Me("click",v,l),$(h,v)};le(d,h=>{s()&&h(c)})}return $(e,u),G(f)}var ua=N("<div><!></div>");const ca={hash:"svelte-1onx8vr",code:".gsnake-ui-overlay.svelte-1onx8vr {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);z-index:900;}.gsnake-ui-overlay.transparent.svelte-1onx8vr {background:transparent;}"};function Vi(e,t){if(new.target)return X({component:Vi,...e});const n=un(t,["children","$$slots","$$events","$$legacy"]),r=un(n,["visible","transparent"]);W(t,!1),Ii(e,ca);let i=de(t,"visible",12,!1),s=de(t,"transparent",12,!1);var o={get visible(){return i()},set visible(u){i(u),ce()},get transparent(){return s()},set transparent(u){s(u),ce()},$set:Y,$on:(u,d)=>K(t,u,d)},a=lt(),l=Re(a);{var f=u=>{var d=ua();ji(d,()=>({class:"gsnake-ui-overlay",...r,[ht]:{transparent:s()}}),void 0,void 0,void 0,"svelte-1onx8vr");var c=T(d);nn(c,t,"default",{}),A(d),$(u,d)};le(l,u=>{i()&&u(f)})}return $(e,a),G(o)}let Wn=class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Nr.unregister(this),t}free(){const t=this.__destroy_into_raw();k.__wbg_wasmgameengine_free(t,0)}getFrame(){const t=k.wasmgameengine_getFrame(this.__wbg_ptr);if(t[2])throw Ee(t[1]);return Ee(t[0])}getGameState(){const t=k.wasmgameengine_getGameState(this.__wbg_ptr);if(t[2])throw Ee(t[1]);return Ee(t[0])}getLevel(){const t=k.wasmgameengine_getLevel(this.__wbg_ptr);if(t[2])throw Ee(t[1]);return Ee(t[0])}constructor(t){const n=k.wasmgameengine_new(t);if(n[2])throw Ee(n[1]);return this.__wbg_ptr=n[0]>>>0,Nr.register(this,this.__wbg_ptr,this),this}onFrame(t){k.wasmgameengine_onFrame(this.__wbg_ptr,t)}processMove(t){const n=k.wasmgameengine_processMove(this.__wbg_ptr,t);if(n[2])throw Ee(n[1]);return Ee(n[0])}};Symbol.dispose&&(Wn.prototype[Symbol.dispose]=Wn.prototype.free);function da(){const e=k.getLevels();if(e[2])throw Ee(e[1]);return Ee(e[0])}function va(){k.init_panic_hook()}function ha(e){const t=Dt(e,k.__wbindgen_malloc,k.__wbindgen_realloc),n=nt;k.log(t,n)}function _a(){return{__proto__:null,"./gsnake_wasm_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(Qt(t,n))},__wbg_Number_04624de7d0e8332d:function(t){return Number(t)},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),i=Dt(r,k.__wbindgen_malloc,k.__wbindgen_realloc),s=nt;Ce().setInt32(t+4,s,!0),Ce().setInt32(t+0,i,!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(t){const n=t,r=typeof n=="boolean"?n:void 0;return Zt(r)?16777215:r?1:0},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(t,n){const r=Gn(n),i=Dt(r,k.__wbindgen_malloc,k.__wbindgen_realloc),s=nt;Ce().setInt32(t+4,s,!0),Ce().setInt32(t+0,i,!0)},__wbg___wbindgen_in_47fa6863be6f2f25:function(t,n){return t in n},__wbg___wbindgen_is_function_0095a73b8b156f76:function(t){return typeof t=="function"},__wbg___wbindgen_is_object_5ae8e5880f2c1fbd:function(t){const n=t;return typeof n=="object"&&n!==null},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(t,n){return t==n},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(t,n){const r=n,i=typeof r=="number"?r:void 0;Ce().setFloat64(t+8,Zt(i)?0:i,!0),Ce().setInt32(t+0,!Zt(i),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(t,n){const r=n,i=typeof r=="string"?r:void 0;var s=Zt(i)?0:Dt(i,k.__wbindgen_malloc,k.__wbindgen_realloc),o=nt;Ce().setInt32(t+4,o,!0),Ce().setInt32(t+0,s,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(Qt(t,n))},__wbg_call_389efe28435a9388:function(){return Rt(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return Rt(function(t,n,r){return t.call(n,r)},arguments)},__wbg_done_57b39ecd9addfe81:function(t){return t.done},__wbg_entries_58c7934c745daac7:function(t){return Object.entries(t)},__wbg_error_7534b8e9a36f1ab4:function(t,n){let r,i;try{r=t,i=n,console.error(Qt(t,n))}finally{k.__wbindgen_free(r,i,1)}},__wbg_get_9b94d73e6221f75c:function(t,n){return t[n>>>0]},__wbg_get_b3ed3ad4be2bc8ac:function(){return Rt(function(t,n){return Reflect.get(t,n)},arguments)},__wbg_get_with_ref_key_1dc361bd10053bfe:function(t,n){return t[n]},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(t){let n;try{n=t instanceof ArrayBuffer}catch{n=!1}return n},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(t){let n;try{n=t instanceof Uint8Array}catch{n=!1}return n},__wbg_isArray_d314bb98fcf08331:function(t){return Array.isArray(t)},__wbg_isSafeInteger_bfbc7332a9768d2a:function(t){return Number.isSafeInteger(t)},__wbg_iterator_6ff6560ca1568e55:function(){return Symbol.iterator},__wbg_length_32ed9a279acd054c:function(t){return t.length},__wbg_length_35a7bace40f36eac:function(t){return t.length},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_next_3482f54c49e8af19:function(){return Rt(function(t){return t.next()},arguments)},__wbg_next_418f80d8f5303233:function(t){return t.next},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(t,n,r){Uint8Array.prototype.set.call(pa(t,n),r)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return Rt(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_stack_0ed75d68575b0f3c:function(t,n){const r=n.stack,i=Dt(r,k.__wbindgen_malloc,k.__wbindgen_realloc),s=nt;Ce().setInt32(t+4,s,!0),Ce().setInt32(t+0,i,!0)},__wbg_value_0546255b415e96c1:function(t){return t.value},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t,n){return Qt(t,n)},__wbindgen_init_externref_table:function(){const t=k.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const Nr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>k.__wbg_wasmgameengine_free(e>>>0,1));function ga(e){const t=k.__externref_table_alloc();return k.__wbindgen_externrefs.set(t,e),t}function Gn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let s="[";i>0&&(s+=Gn(e[0]));for(let o=1;o<i;o++)s+=", "+Gn(e[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function pa(e,t){return e=e>>>0,jt().subarray(e/1,e/1+t)}let Ze=null;function Ce(){return(Ze===null||Ze.buffer.detached===!0||Ze.buffer.detached===void 0&&Ze.buffer!==k.memory.buffer)&&(Ze=new DataView(k.memory.buffer)),Ze}function Qt(e,t){return e=e>>>0,wa(e,t)}let It=null;function jt(){return(It===null||It.byteLength===0)&&(It=new Uint8Array(k.memory.buffer)),It}function Rt(e,t){try{return e.apply(this,t)}catch(n){const r=ga(n);k.__wbindgen_exn_store(r)}}function Zt(e){return e==null}function Dt(e,t,n){if(n===void 0){const a=Ut.encode(e),l=t(a.length,1)>>>0;return jt().subarray(l,l+a.length).set(a),nt=a.length,l}let r=e.length,i=t(r,1)>>>0;const s=jt();let o=0;for(;o<r;o++){const a=e.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;const a=jt().subarray(i+o,i+r),l=Ut.encodeInto(e,a);o+=l.written,i=n(i,r,o,1)>>>0}return nt=o,i}function Ee(e){const t=k.__wbindgen_externrefs.get(e);return k.__externref_table_dealloc(e),t}let rn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});rn.decode();const ba=2146435072;let $n=0;function wa(e,t){return $n+=t,$n>=ba&&(rn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),rn.decode(),$n=t),rn.decode(jt().subarray(e,e+t))}const Ut=new TextEncoder;"encodeInto"in Ut||(Ut.encodeInto=function(e,t){const n=Ut.encode(e);return t.set(n),{read:e.length,written:n.length}});let nt=0,k;function ma(e,t){return k=e.exports,Ze=null,It=null,k.__wbindgen_start(),k}async function ya(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function Ea(e){if(k!==void 0)return k;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/gSnake/main/assets/gsnake_wasm_bg-DptrkWd2.wasm",import.meta.url));const t=_a();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await ya(await e,t);return ma(n)}class Sa{wasmEngine=null;listeners=[];initialized=!1;levels=[];currentLevelIndex=0;async init(t=null,n=1){if(this.initialized){console.warn("WasmGameEngine already initialized");return}try{await Ea()}catch(i){throw this.handleContractError(i,"Failed to initialize WASM module","initializationFailed"),i}try{va()}catch(i){console.warn("Failed to initialize panic hook:",i)}ha("gSnake WASM engine initialized");try{this.levels=t??da()}catch(i){throw this.handleContractError(i,"Failed to load levels","initializationFailed"),i}const r=this.normalizeStartLevel(n);if(this.currentLevelIndex=this.resolveStartLevel(r)-1,this.levels.length===0){const i=new Error("No levels available");throw this.handleContractError(i,"Failed to initialize engine","initializationFailed"),i}await this.loadLevelByIndex(this.currentLevelIndex),this.initialized=!0}async loadLevel(t){await this.loadLevelByIndex(t-1)}async restartLevel(){await this.resetLevel()}async loadLevelByIndex(t){if(t<0||t>=this.levels.length)throw new Error(`Invalid level index: ${t}`);const n=this.levels[t];this.currentLevelIndex=t;try{this.wasmEngine=new Wn(n)}catch(r){throw this.handleContractError(r,"Failed to initialize engine","initializationFailed"),r}this.wasmEngine.onFrame(r=>{this.handleFrameUpdate(r)}),this.emitInitialEvents(n);try{const r=this.wasmEngine.getFrame();this.handleFrameUpdate(r)}catch(r){throw this.handleContractError(r,"Failed to get initial frame","initializationFailed"),r}}emitInitialEvents(t){this.emitEvent({type:"levelChanged",level:t})}normalizeStartLevel(t){if(typeof t=="number")return Number.isInteger(t)&&t>0?t:1;if(typeof t=="string"){const n=t.trim();if(!/^\d+$/.test(n))return 1;const r=Number.parseInt(n,10);return Number.isInteger(r)&&r>0?r:1}return 1}resolveStartLevel(t){return this.levels.length===0||t>this.levels.length?1:t}handleFrameUpdate(t){this.emitEvent({type:"frameChanged",frame:t}),t.state.status}processMove(t){if(!this.wasmEngine){console.error("WASM engine not initialized");return}try{this.wasmEngine.processMove(t)}catch(n){this.handleContractError(n,"Error processing move")}}async nextLevel(){this.currentLevelIndex>=this.levels.length-1||(this.currentLevelIndex++,await this.loadLevelByIndex(this.currentLevelIndex))}async resetLevel(){await this.loadLevelByIndex(this.currentLevelIndex)}addEventListener(t){this.listeners.push(t)}getLevels(){return this.levels}emitEvent(t){for(const n of this.listeners)n(t)}handleContractError(t,n,r="internalError"){const i=this.normalizeContractError(t,n,r);if(i){this.emitEvent({type:"engineError",error:i}),console.error(`[ContractError:${i.kind}] ${i.message}`,i.context??{});return}console.error(n,t)}isContractError(t){if(!t||typeof t!="object")return!1;const n=t;return typeof n.kind=="string"&&typeof n.message=="string"}normalizeContractError(t,n,r){if(this.isContractError(t))return t;const i=t instanceof Error?t.message:String(t);return{kind:r,message:n,context:{detail:i}}}}const ct=Ue({status:"Playing",currentLevel:1,moves:0,foodCollected:0,totalFood:0}),Hi=Ue(0),cr=Ue(null),Ki=Ue(null),$t=Ue(null),Yi=Ue([]),sn=Ue([]),qn=Ue(!1),wt=Ue(null);function xa(){return typeof window>"u"?!1:new URLSearchParams(window.location.search).get("contractTest")==="1"}function Rr(e){if(!xa())return;const t=window,n=t.__gsnakeContract??{};t.__gsnakeContract={...n,...e}}function ka(e){e.addEventListener(t=>{switch(t.type){case"levelChanged":cr.set(t.level);break;case"frameChanged":Ki.set(t.frame),ct.set(t.frame.state),Hi.set($a(t.frame)),$t.set(null),Rr({frame:t.frame,error:null});break;case"engineError":$t.set(t.error),Rr({error:t.error});break}})}function $a(e){let t=0;for(const n of e.grid)for(const r of n)(r==="SnakeHead"||r==="SnakeBody")&&(t+=1);return t}class Aa{constructor(t){this.gameEngine=t,this.keyMap=new Map([["ArrowUp","North"],["ArrowDown","South"],["ArrowLeft","West"],["ArrowRight","East"],["w","North"],["s","South"],["a","West"],["d","East"],["W","North"],["S","South"],["A","West"],["D","East"]]),this.boundHandler=this.handleKeyPress.bind(this),this.unsubscribe=ct.subscribe(n=>{this.currentStatus=n.status})}keyMap;boundHandler;currentStatus="Playing";unsubscribe;handleKeyPress(t){if(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)return;const n=t.key,r=n.toLowerCase();switch([" ","Spacebar","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n)&&t.preventDefault(),["r","q","escape","esc"].includes(r)&&t.preventDefault(),this.currentStatus){case"Playing":this.handlePlayingState(t,r);break;case"GameOver":this.handleGameOverState(t,r);break;case"AllComplete":this.handleAllCompleteState(t,r);break}}handlePlayingState(t,n){if(n==="r"){this.gameEngine.restartLevel();return}if(n==="q"){this.gameEngine.loadLevel(1);return}if(n==="escape"||n==="esc")return;const r=this.keyMap.get(t.key);r&&(t.defaultPrevented||t.preventDefault(),this.gameEngine.processMove(r))}handleGameOverState(t,n){n==="q"||n==="escape"||n==="esc"?this.gameEngine.loadLevel(1):["Control","Shift","Alt","Meta","CapsLock"].includes(t.key)||this.gameEngine.restartLevel()}handleAllCompleteState(t,n){(n==="r"||n==="q"||n==="escape"||n==="esc")&&this.gameEngine.loadLevel(1)}attach(){window.addEventListener("keydown",this.boundHandler)}detach(){window.removeEventListener("keydown",this.boundHandler),this.unsubscribe&&this.unsubscribe()}}const Mr=-2147483648,cn=2147483647,Pr=4294967295,La=new Set(["North","South","East","West"]),Fa=new Set(["x","y"]),Ca=new Set(["width","height"]),Xi=["id","name","gridSize","snake","obstacles","food","exit","snakeDirection","totalFood"],Ta=new Set([...Xi,"difficulty","floatingFood","fallingFood","stones","spikes","exitIsSolid"]);function dr(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function vr(e,t){return Object.keys(e).every(n=>t.has(n))}function At(e,t,n){return typeof e=="number"&&Number.isInteger(e)&&e>=t&&e<=n}function Ji(e){return!dr(e)||!vr(e,Fa)?!1:At(e.x,Mr,cn)&&At(e.y,Mr,cn)}function on(e){return Array.isArray(e)&&e.every(t=>Ji(t))}function en(e){return e===void 0?!0:on(e)}function Oa(e){return!dr(e)||!vr(e,Ca)?!1:At(e.width,1,cn)&&At(e.height,1,cn)}function Qi(e){return!(!dr(e)||!vr(e,Ta)||Xi.some(t=>!(t in e))||!At(e.id,0,Pr)||typeof e.name!="string"||e.name.length<1||e.difficulty!==void 0&&typeof e.difficulty!="string"||!Oa(e.gridSize)||!on(e.snake)||!on(e.obstacles)||!on(e.food)||!Ji(e.exit)||typeof e.snakeDirection!="string"||!La.has(e.snakeDirection)||!en(e.floatingFood)||!en(e.fallingFood)||!en(e.stones)||!en(e.spikes)||e.exitIsSolid!==void 0&&typeof e.exitIsSolid!="boolean"||!At(e.totalFood,0,Pr))}function Na(e){return Array.isArray(e)?e.every(t=>Qi(t)):!1}const An="gsnake_completed_levels";class Ir{static getCompletedLevels(){if(typeof window>"u")return[];try{const t=window.localStorage.getItem(An);if(!t)return[];const n=JSON.parse(t);if(Array.isArray(n))return n.filter(r=>typeof r=="number")}catch{return[]}return[]}static isCompleted(t){return this.getCompletedLevels().includes(t)}static markCompleted(t){if(typeof window>"u")return[];const n=new Set(this.getCompletedLevels());n.add(t);const r=Array.from(n.values()).sort((i,s)=>i-s);return window.localStorage.setItem(An,JSON.stringify(r)),r}static clearCompleted(){typeof window>"u"||window.localStorage.removeItem(An)}}function Zi(e,t){if(new.target)return X({component:Zi,...e});W(t,!1);let n=J("");mn(async()=>{const a=await fetch(ia);M(n,await a.text())}),qi(()=>{M(n,"")});var r={$set:Y,$on:(a,l)=>K(t,a,l)};ve();var i=lt(),s=Re(i);{var o=a=>{var l=lt(),f=Re(l);jo(f,()=>_(n)),$(a,l)};le(s,a=>{_(n)&&a(o)})}return $(e,i),G(r)}var Ra=N('<div class="score-info svelte-1dhu4nz"><div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Level</span> <span class="score-value svelte-1dhu4nz" data-element-id="level-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Length</span> <span class="score-value svelte-1dhu4nz" data-element-id="length-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Moves</span> <span class="score-value svelte-1dhu4nz" data-element-id="moves-display"> </span></div></div>');function es(e,t){if(new.target)return X({component:es,...e});W(t,!1);const n=()=>te(ct,"$gameState",i),r=()=>te(Hi,"$snakeLength",i),[i,s]=Qe();var o={$set:Y,$on:(b,E)=>K(t,b,E)};ve();var a=Ra(),l=T(a),f=P(T(l),2),u=T(f,!0);A(f),A(l);var d=P(l,2),c=P(T(d),2),h=T(c,!0);A(c),A(d);var v=P(d,2),p=P(T(v),2),y=T(p,!0);A(p),A(v),A(a),Be(()=>{Ne(u,(n(),I(()=>n().currentLevel))),Ne(h,r()),Ne(y,(n(),I(()=>n().moves)))}),$(e,a);var g=G(o);return s(),g}var Ma=N('<button class="restart-btn svelte-1gt3cso" data-element-id="restart-button">Restart</button>');function ts(e,t){if(new.target)return X({component:ts,...e});W(t,!1);let n=de(t,"gameEngine",12);function r(){n().restartLevel(),document.activeElement?.blur()}var i={get gameEngine(){return n()},set gameEngine(o){n(o),ce()},$set:Y,$on:(o,a)=>K(t,o,a)};ve();var s=Ma();return Me("click",s,r),$(e,s),G(i)}var Pa=N('<button class="level-selector-btn svelte-nwymxs" data-element-id="level-selector-btn">Levels</button>');function ns(e,t){if(new.target)return X({component:ns,...e});W(t,!1);function n(){qn.update(s=>!s)}var r={$set:Y,$on:(s,o)=>K(t,s,o)};ve();var i=Pa();return Me("click",i,n),$(e,i),G(r)}var Ia=N('<div class="header svelte-1p9f3tg"><!> <div class="header-actions svelte-1p9f3tg"><!> <!></div></div>');function rs(e,t){if(new.target)return X({component:rs,...e});W(t,!1);let n=de(t,"gameEngine",12);var r={get gameEngine(){return n()},set gameEngine(f){n(f),ce()},$set:Y,$on:(f,u)=>K(t,f,u)},i=Ia(),s=T(i);es(s,{});var o=P(s,2),a=T(o);ns(a,{});var l=P(a,2);return ts(l,{get gameEngine(){return n()}}),A(o),A(i),$(e,i),G(r)}var Da=Ro('<svg class="cell svelte-1cot28b" viewBox="0 0 32 32"><use></use></svg>');function is(e,t){if(new.target)return X({component:is,...e});W(t,!1);const n=J();let r=de(t,"type",12);function i(l){switch(l){case"Spike":return .8;case"Stone":return .85;case"Obstacle":return .9;default:return 1}}_e(()=>Ti(r()),()=>{M(n,i(r()))}),Kt();var s={get type(){return r()},set type(l){r(l),ce()},$set:Y,$on:(l,f)=>K(t,l,f)},o=Da(),a=T(o);return A(o),Be(()=>{ur(o,`opacity: ${_(n)??""}`),Wt(a,"href",`#${r()??""}`)}),$(e,o),G(s)}var za=N('<div class="game-field svelte-1tr9vi5" data-element-id="game-field"></div>');function ss(e,t){if(new.target)return X({component:ss,...e});W(t,!1);const n=()=>te(Ki,"$frame",r),[r,i]=Qe(),s=J(),o=J(),a=J(),l=J();_e(()=>n(),()=>{M(s,n()?.grid??[])}),_e(()=>_(s),()=>{M(o,_(s)[0]?.length??0)}),_e(()=>_(s),()=>{M(a,_(s).length)}),_e(()=>_(s),()=>{M(l,_(s).flat())}),Kt();var f={$set:Y,$on:(c,h)=>K(t,c,h)};ve();var u=za();Pi(u,5,()=>_(l),Mi,(c,h)=>{is(c,{get type(){return _(h)}})}),A(u),Be(()=>ur(u,`grid-template-columns: repeat(${_(o)}, 1fr); grid-template-rows: repeat(${_(a)}, 1fr);`)),$(e,u);var d=G(f);return i(),d}var Ba=N('<div class="modal-buttons svelte-12pilp6"><button class="modal-btn primary svelte-12pilp6" data-element-id="restart-level-btn">Restart Level</button> <button class="modal-btn secondary svelte-12pilp6" data-element-id="back-to-level1-btn">Back to Level 1</button></div>'),ja=N('<h2 slot="header" class="modal-title svelte-12pilp6">Game Over</h2>');function os(e,t){if(new.target)return X({component:os,...e});W(t,!1);let n=de(t,"gameEngine",12),r=J();mn(()=>{_(r)?.focus()});function i(){n().restartLevel()}function s(){n().loadLevel(1)}var o={get gameEngine(){return n()},set gameEngine(a){n(a),ce()},$set:Y,$on:(a,l)=>K(t,a,l)};return ve(),Yt(e,{open:!0,children:(a,l)=>{var f=Ba(),u=T(f);Qo(u,c=>M(r,c),()=>_(r));var d=P(u,2);A(f),Me("click",u,i),Me("click",d,s),$(a,f)},$$slots:{default:!0,header:(a,l)=>{var f=ja();$(a,f)}}}),G(o)}var Ua=N(`<p class="message svelte-1nm595l">Congratulations! You've beaten all levels.</p> <p class="detail svelte-1nm595l">Refresh the page to play again.</p>`,1),Wa=N('<h2 slot="header" class="modal-title svelte-1nm595l">All Levels Complete!</h2>');function as(e,t){if(new.target)return X({component:as,...e});W(t,!1);var n={$set:Y,$on:(r,i)=>K(t,r,i)};return Yt(e,{open:!0,children:(r,i)=>{var s=Ua();qr(2),$(r,s)},$$slots:{default:!0,header:(r,i)=>{var s=Wa();$(r,s)}}}),G(n)}var Ga=N('<p class="message svelte-1vgivec"> </p> <p class="detail svelte-1vgivec">Kind: <span class="svelte-1vgivec"> </span></p> <div class="modal-buttons svelte-1vgivec"><button class="modal-btn primary svelte-1vgivec">Reload</button> <button class="modal-btn secondary svelte-1vgivec">Dismiss</button></div>',1),qa=N('<h2 slot="header" class="modal-title svelte-1vgivec">Engine Error</h2>');function ls(e,t){if(new.target)return X({component:ls,...e});W(t,!1);const n=()=>te($t,"$engineError",r),[r,i]=Qe();function s(){window.location.reload()}function o(){$t.set(null)}var a={$set:Y,$on:(f,u)=>K(t,f,u)};ve(),Yt(e,{open:!0,"data-element-id":"engine-error-modal",children:(f,u)=>{var d=Ga(),c=Re(d),h=T(c,!0);A(c);var v=P(c,2),p=P(T(v)),y=T(p,!0);A(p),A(v);var g=P(v,2),b=T(g),E=P(b,2);A(g),Be(()=>{Ne(h,(n(),I(()=>n()?.message??"Unexpected engine error."))),Ne(y,(n(),I(()=>n()?.kind??"internalError")))}),Me("click",b,s),Me("click",E,o),$(f,d)},$$slots:{default:!0,header:(f,u)=>{var d=qa();$(f,d)}}});var l=G(a);return i(),l}var Va=N('<p class="message svelte-ld2jyi"> </p> <div class="actions svelte-ld2jyi"><button class="modal-btn svelte-ld2jyi">Continue</button></div>',1),Ha=N('<h2 slot="header" class="modal-title svelte-ld2jyi">Level Load Failed</h2>');function fs(e,t){if(new.target)return X({component:fs,...e});W(t,!1);const n=()=>te(wt,"$levelLoadError",r),[r,i]=Qe();function s(){wt.set(null)}var o={$set:Y,$on:(l,f)=>K(t,l,f)};ve(),Yt(e,{open:!0,children:(l,f)=>{var u=Va(),d=Re(u),c=T(d,!0);A(d);var h=P(d,2),v=T(h);A(h),Be(()=>Ne(c,n())),Me("click",v,s),$(l,u)},$$slots:{default:!0,header:(l,f)=>{var u=Ha();$(l,u)}}});var a=G(o);return i(),a}function us(e,t){if(new.target)return X({component:us,...e});W(t,!1);const n=()=>te(wt,"$levelLoadError",s),r=()=>te($t,"$engineError",s),i=()=>te(ct,"$gameState",s),[s,o]=Qe(),a=J(),l=J(),f=J(),u=J(),d=J();let c=de(t,"gameEngine",12);_e(()=>n(),()=>{M(a,n()!==null)}),_e(()=>r(),()=>{M(l,r()!==null)}),_e(()=>i(),()=>{M(f,i().status==="GameOver")}),_e(()=>i(),()=>{M(u,i().status==="AllComplete")}),_e(()=>(_(a),_(l),_(f),_(u)),()=>{M(d,_(a)||_(l)||_(f)||_(u))}),Kt();var h={get gameEngine(){return c()},set gameEngine(p){c(p),ce()},$set:Y,$on:(p,y)=>K(t,p,y)};ve(),Vi(e,{get visible(){return _(d)},"data-element-id":"overlay",children:(p,y)=>{var g=lt(),b=Re(g);{var E=m=>{fs(m,{})},x=m=>{ls(m,{})},R=m=>{os(m,{get gameEngine(){return c()}})},w=m=>{as(m,{})};le(b,m=>{_(a)?m(E):_(l)?m(x,1):_(f)?m(R,2):_(u)&&m(w,3)})}$(p,g)},$$slots:{default:!0}});var v=G(h);return o(),v}var Ka=N('<div class="empty-state svelte-xz0hsc">No levels loaded.</div>'),Ya=N("<div> </div>"),Xa=N('<div class="level-status svelte-xz0hsc">Completed</div>'),Ja=N('<div class="level-status current svelte-xz0hsc">Current</div>'),Qa=N('<button><div class="level-number svelte-xz0hsc"> </div> <div class="level-name svelte-xz0hsc"> </div> <!> <!> <!></button>'),Za=N('<div class="level-grid svelte-xz0hsc"></div>'),el=N('<div class="level-overlay svelte-xz0hsc" data-element-id="level-selector-overlay"><div class="level-panel svelte-xz0hsc"><div class="level-header svelte-xz0hsc"><div><h2 class="svelte-xz0hsc">Choose a Level</h2> <p class="svelte-xz0hsc">Select a level to play. Completed levels are marked.</p></div> <button class="close-btn svelte-xz0hsc">Close</button></div> <!></div></div>');function cs(e,t){if(new.target)return X({component:cs,...e});W(t,!1);const n=()=>te(ct,"$gameState",o),r=()=>te(sn,"$completedLevels",o),i=()=>te(qn,"$levelSelectorOpen",o),s=()=>te(Yi,"$availableLevels",o),[o,a]=Qe(),l=J();let f=de(t,"gameEngine",12);function u(){qn.set(!1)}async function d(b,E){await f().loadLevel(E+1),u()}function c(b){return r().includes(b)}_e(()=>n(),()=>{M(l,n().currentLevel)}),Kt();var h={get gameEngine(){return f()},set gameEngine(b){f(b),ce()},$set:Y,$on:(b,E)=>K(t,b,E)};ve();var v=lt(),p=Re(v);{var y=b=>{var E=el(),x=T(E),R=T(x),w=P(T(R),2);A(R);var m=P(R,2);{var O=D=>{var Pe=Ka();$(D,Pe)},q=D=>{var Pe=Za();Pi(Pe,5,s,Mi,(yn,V,_s)=>{var Tt=Qa(),En=T(Tt),gs=T(En);A(En);var Sn=P(En,2),ps=T(Sn,!0);A(Sn);var hr=P(Sn,2);{var bs=oe=>{var We=Ya(),Ss=T(We);A(We),Be(()=>{Bn(We,1,(_(V),I(()=>`level-difficulty difficulty-${_(V).difficulty}`)),"svelte-xz0hsc"),Ne(Ss,`(${_(V),I(()=>_(V).difficulty)??""})`)}),$(oe,We)};le(hr,oe=>{_(V),I(()=>_(V).difficulty)&&oe(bs)})}var _r=P(hr,2);{var ws=oe=>{var We=Xa();$(oe,We)},ms=co(()=>(_(V),I(()=>c(_(V).id))));le(_r,oe=>{_(ms)&&oe(ws)})}var ys=P(_r,2);{var Es=oe=>{var We=Ja();$(oe,We)};le(ys,oe=>{_(V),_(l),I(()=>_(V).id===_(l))&&oe(Es)})}A(Tt),Be(oe=>{Bn(Tt,1,oe,"svelte-xz0hsc"),Ne(gs,`Level ${_(V),I(()=>_(V).id)??""}`),Ne(ps,(_(V),I(()=>_(V).name)))},[()=>(_(V),_(l),I(()=>`level-card ${c(_(V).id)?"completed":""} ${_(V).id===_(l)?"current":""}`))]),Me("click",Tt,()=>d(_(V),_s)),$(yn,Tt)}),A(Pe),$(D,Pe)};le(m,D=>{s(),I(()=>s().length===0)?D(O):D(q,!1)})}A(x),A(E),Me("click",w,u),$(b,E)};le(p,b=>{i()&&b(y)})}$(e,v);var g=G(h);return a(),g}var tl=N("<span> </span>"),nl=N('<div class="banner svelte-nhblr0" data-element-id="level-complete-banner"><strong>Level Complete!</strong> <!></div>');function ds(e,t){if(new.target)return X({component:ds,...e});W(t,!1);const n=()=>te(ct,"$gameState",i),r=()=>te(cr,"$level",i),[i,s]=Qe();var o={$set:Y,$on:(d,c)=>K(t,d,c)};ve();var a=lt(),l=Re(a);{var f=d=>{var c=nl(),h=P(T(c),2);{var v=p=>{var y=tl(),g=T(y,!0);A(y),Be(()=>Ne(g,(r(),I(()=>r().name)))),$(p,y)};le(h,p=>{r()&&p(v)})}A(c),$(d,c)};le(l,d=>{n(),I(()=>n().status==="LevelComplete")&&d(f)})}$(e,a);var u=G(o);return s(),u}var rl=N('<div class="game-container svelte-jug5a6"><!> <!> <!> <!> <!></div>');function vs(e,t){if(new.target)return X({component:vs,...e});W(t,!1);let n=de(t,"gameEngine",12);var r={get gameEngine(){return n()},set gameEngine(u){n(u),ce()},$set:Y,$on:(u,d)=>K(t,u,d)},i=rl(),s=T(i);rs(s,{get gameEngine(){return n()}});var o=P(s,2);ds(o,{});var a=P(o,2);ss(a,{});var l=P(a,2);us(l,{get gameEngine(){return n()}});var f=P(l,2);return cs(f,{get gameEngine(){return n()}}),A(i),$(e,i),G(r)}var il=N("<!> <!>",1);function hs(e,t){if(new.target)return X({component:hs,...e});W(t,!1);const n=()=>te(ct,"$gameState",i),r=()=>te(cr,"$level",i),[i,s]=Qe(),o=new Sa;let a,l=J(null);mn(async()=>{const g=new URLSearchParams(window.location.search),b=g.get("level"),E=g.get("levelsUrl"),x=g.get("test")==="true";ka(o),a=new Aa(o),a.attach(),sn.set(Ir.getCompletedLevels());let R=null;if(x){const w=await u();R=w.levels,R||wt.set(w.error??"Failed to load test level. Make sure the test server is running on port 3001.")}else if(E){const w=await f(E);R=w.levels,R||wt.set(w.error??`Failed to load levels from ${E}. Using default levels instead.`)}try{await o.init(R,b),Yi.set(o.getLevels())}catch(w){console.error("Failed to initialize game engine",w);const m=d(w);m?$t.set(m):wt.set("Failed to initialize game engine. Please reload and try again.")}}),qi(()=>{a&&a.detach()});async function f(g){try{const b=await fetch(g);if(!b.ok)return{levels:null,error:`Failed to fetch levels (${b.status}). Using default levels instead.`};const E=await b.json();return Na(E)?{levels:E}:{levels:null,error:"Levels file has an invalid schema. Using default levels instead."}}catch(b){return console.error("Failed to fetch custom levels",b),{levels:null,error:"Network, CORS, or JSON error while loading levels. Using default levels instead."}}}async function u(){try{const g=await fetch("http://localhost:3001/api/test-level");if(!g.ok)return{levels:null,error:`Failed to fetch test level (${g.status}). Make sure the test server is running (npm run server).`};const b=await g.json();return Qi(b)?{levels:[b]}:{levels:null,error:"Test level has an invalid schema."}}catch(g){return console.error("Failed to fetch test level",g),{levels:null,error:"Failed to connect to test server. Make sure it is running on port 3001 (npm run server)."}}}function d(g){if(!g||typeof g!="object")return null;const b=g;return typeof b.kind!="string"||typeof b.message!="string"?null:b}_e(()=>(n(),_(l),r(),sn),()=>{if(n().status!=="LevelComplete")M(l,null);else if(r()&&_(l)!==r().id){M(l,r().id);const g=Ir.markCompleted(r().id);sn.set(g)}}),Kt();var c={$set:Y,$on:(g,b)=>K(t,g,b)};ve();var h=il(),v=Re(h);Zi(v,{});var p=P(v,2);vs(p,{get gameEngine(){return o}}),$(e,h);var y=G(c);return s(),y}fr(hs,{target:document.getElementById("app")});
