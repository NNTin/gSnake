(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const kn=!1;var Wn=Array.isArray,vs=Array.prototype.indexOf,xt=Array.prototype.includes,cn=Array.from,Gn=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,Tr=Object.getOwnPropertyDescriptors,hs=Object.prototype,_s=Array.prototype,Vn=Object.getPrototypeOf,cr=Object.isExtensible;const Et=()=>{};function gs(e){return e()}function $n(e){for(var t=0;t<e.length;t++)e[t]()}function Or(){var e,t,n=new Promise((r,i)=>{e=r,t=i});return{promise:n,resolve:e,reject:t}}const Q=2,ln=4,qt=8,qn=1<<24,Ue=16,Fe=32,dt=64,Hn=128,be=512,G=1024,ee=2048,ye=4096,de=8192,ze=16384,dn=32768,kt=65536,dr=1<<17,Rr=1<<18,Tt=1<<19,Nr=1<<20,He=1<<25,at=32768,An=1<<21,Yn=1<<22,Ye=1<<23,Be=Symbol("$state"),Mr=Symbol("legacy props"),ps=Symbol(""),wt=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"},vn=3,vt=8;function Pr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function bs(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ws(e,t,n){throw new Error("https://svelte.dev/e/each_key_duplicate")}function ms(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ys(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Es(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function xs(){throw new Error("https://svelte.dev/e/hydration_failed")}function ks(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function $s(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function As(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Ls(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Fs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Cs=1,Ts=2,Os=16,Rs=1,Ns=2,Ir=4,Ms=8,Ps=16,Is=1,Ds=2,Kn="[",hn="[!",Jn="]",ft={},H=Symbol(),zs="http://www.w3.org/1999/xhtml",Bs="@attach";function Ht(e){console.warn("https://svelte.dev/e/hydration_mismatch")}function js(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function Us(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}let k=!1;function $e(e){k=e}let C;function ne(e){if(e===null)throw Ht(),ft;return C=e}function ut(){return ne(Ce(C))}function F(e){if(k){if(Ce(C)!==null)throw Ht(),ft;C=e}}function Dr(e=1){if(k){for(var t=e,n=C;t--;)n=Ce(n);C=n}}function an(e=!0){for(var t=0,n=C;;){if(n.nodeType===vt){var r=n.data;if(r===Jn){if(t===0)return n;t-=1}else(r===Kn||r===hn||r[0]==="["&&!isNaN(Number(r.slice(1))))&&(t+=1)}var i=Ce(n);e&&n.remove(),n=i}}function zr(e){if(!e||e.nodeType!==vt)throw Ht(),ft;return e.data}function Br(e){return e===this.v}function jr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Ur(e){return!jr(e,this.v)}let Ot=!1,Ws=!1;function Gs(){Ot=!0}let j=null;function $t(e){j=e}function V(e,t=!1,n){j={p:j,i:!1,c:null,e:null,s:e,x:null,l:Ot&&!t?{s:null,u:null,$:[]}:null}}function q(e){var t=j,n=t.e;if(n!==null){t.e=null;for(var r of n)ai(r)}return e!==void 0&&(t.x=e),t.i=!0,j=t.p,e??{}}function Yt(){return!Ot||j!==null&&j.l===null}let rt=[];function Wr(){var e=rt;rt=[],$n(e)}function Re(e){if(rt.length===0&&!jt){var t=rt;queueMicrotask(()=>{t===rt&&Wr()})}rt.push(e)}function Vs(){for(;rt.length>0;)Wr()}function Gr(e){var t=T;if(t===null)return O.f|=Ye,e;if((t.f&dn)===0){if((t.f&Hn)===0)throw e;t.b.error(e)}else At(e,t)}function At(e,t){for(;t!==null;){if((t.f&Hn)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const qs=-7169;function U(e,t){e.f=e.f&qs|t}function Xn(e){(e.f&be)!==0||e.deps===null?U(e,G):U(e,ye)}function Vr(e){if(e!==null)for(const t of e)(t.f&Q)===0||(t.f&at)===0||(t.f^=at,Vr(t.deps))}function qr(e,t,n){(e.f&ee)!==0?t.add(e):(e.f&ye)!==0&&n.add(e),Vr(e.deps),U(e,G)}const Zt=new Set;let B=null,ke=null,se=[],_n=null,Ln=!1,jt=!1;class Ke{committed=!1;current=new Map;previous=new Map;#e=new Set;#t=new Set;#n=0;#o=0;#l=null;#i=new Set;#r=new Set;#s=new Map;is_fork=!1;#a=!1;is_deferred(){return this.is_fork||this.#o>0}skip_effect(t){this.#s.has(t)||this.#s.set(t,{d:[],m:[]})}unskip_effect(t){var n=this.#s.get(t);if(n){this.#s.delete(t);for(var r of n.d)U(r,ee),Ae(r);for(r of n.m)U(r,ye),Ae(r)}}process(t){se=[],this.apply();var n=[],r=[];for(const i of t)this.#f(i,n,r);if(this.is_deferred()){this.#c(r),this.#c(n);for(const[i,s]of this.#s)Jr(i,s)}else{for(const i of this.#e)i();this.#e.clear(),this.#n===0&&this.#u(),B=null,vr(r),vr(n),this.#l?.resolve()}ke=null}#f(t,n,r){t.f^=G;for(var i=t.first,s=null;i!==null;){var o=i.f,l=(o&(Fe|dt))!==0,a=l&&(o&G)!==0,f=a||(o&de)!==0||this.#s.has(i);if(!f&&i.fn!==null){l?i.f^=G:s!==null&&(o&(ln|qt|qn))!==0?s.b.defer_effect(i):(o&ln)!==0?n.push(i):Rt(i)&&((o&Ue)!==0&&this.#r.add(i),Ft(i));var u=i.first;if(u!==null){i=u;continue}}var d=i.parent;for(i=i.next;i===null&&d!==null;)d===s&&(s=null),i=d.next,d=d.parent}}#c(t){for(var n=0;n<t.length;n+=1)qr(t[n],this.#i,this.#r)}capture(t,n){n!==H&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&Ye)===0&&(this.current.set(t,t.v),ke?.set(t,t.v))}activate(){B=this,this.apply()}deactivate(){B===this&&(B=null,ke=null)}flush(){if(this.activate(),se.length>0){if(Hr(),B!==null&&B!==this)return}else this.#n===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#t)t(this);this.#t.clear()}#u(){if(Zt.size>1){this.previous.clear();var t=ke,n=!0;for(const i of Zt){if(i===this){n=!1;continue}const s=[];for(const[l,a]of this.current){if(i.current.has(l))if(n&&a!==i.current.get(l))i.current.set(l,a);else continue;s.push(l)}if(s.length===0)continue;const o=[...i.current.keys()].filter(l=>!this.current.has(l));if(o.length>0){var r=se;se=[];const l=new Set,a=new Map;for(const f of s)Yr(f,o,l,a);if(se.length>0){B=i,i.apply();for(const f of se)i.#f(f,[],[]);i.deactivate()}se=r}}B=null,ke=t}this.committed=!0,Zt.delete(this)}increment(t){this.#n+=1,t&&(this.#o+=1)}decrement(t){this.#n-=1,t&&(this.#o-=1),!this.#a&&(this.#a=!0,Re(()=>{this.#a=!1,this.is_deferred()?se.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#i)this.#r.delete(t),U(t,ee),Ae(t);for(const t of this.#r)U(t,ye),Ae(t);this.flush()}oncommit(t){this.#e.add(t)}ondiscard(t){this.#t.add(t)}settled(){return(this.#l??=Or()).promise}static ensure(){if(B===null){const t=B=new Ke;Zt.add(B),jt||Re(()=>{B===t&&t.flush()})}return B}apply(){}}function ve(e){var t=jt;jt=!0;try{for(var n;;){if(Vs(),se.length===0&&(B?.flush(),se.length===0))return _n=null,n;Hr()}}finally{jt=t}}function Hr(){Ln=!0;var e=null;try{for(var t=0;se.length>0;){var n=Ke.ensure();if(t++>1e3){var r,i;Hs()}n.process(se),Je.clear()}}finally{se=[],Ln=!1,_n=null}}function Hs(){try{Ss()}catch(e){At(e,_n)}}let De=null;function vr(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(ze|de))===0&&Rt(r)&&(De=new Set,Ft(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?vi(r):r.fn=null),De?.size>0)){Je.clear();for(const i of De){if((i.f&(ze|de))!==0)continue;const s=[i];let o=i.parent;for(;o!==null;)De.has(o)&&(De.delete(o),s.push(o)),o=o.parent;for(let l=s.length-1;l>=0;l--){const a=s[l];(a.f&(ze|de))===0&&Ft(a)}}De.clear()}}De=null}}function Yr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const i of e.reactions){const s=i.f;(s&Q)!==0?Yr(i,t,n,r):(s&(Yn|Ue))!==0&&(s&ee)===0&&Kr(i,t,r)&&(U(i,ee),Ae(i))}}function Kr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const i of e.deps){if(xt.call(t,i))return!0;if((i.f&Q)!==0&&Kr(i,t,n))return n.set(i,!0),!0}return n.set(e,!1),!1}function Ae(e){for(var t=_n=e;t.parent!==null;){t=t.parent;var n=t.f;if(Ln&&t===T&&(n&Ue)!==0&&(n&Rr)===0)return;if((n&(dt|Fe))!==0){if((n&G)===0)return;t.f^=G}}se.push(t)}function Jr(e,t){if(!((e.f&Fe)!==0&&(e.f&G)!==0)){(e.f&ee)!==0?t.d.push(e):(e.f&ye)!==0&&t.m.push(e),U(e,G);for(var n=e.first;n!==null;)Jr(n,t),n=n.next}}function Ys(e){let t=0,n=Xe(0),r;return()=>{nr()&&(_(n),bn(()=>(t===0&&(r=D(()=>e(()=>Ut(n)))),t+=1,()=>{Re(()=>{t-=1,t===0&&(r?.(),r=void 0,Ut(n))})})))}}var Ks=kt|Tt|Hn;function Js(e,t,n){new Xs(e,t,n)}class Xs{parent;is_pending=!1;#e;#t=k?C:null;#n;#o;#l;#i=null;#r=null;#s=null;#a=null;#f=null;#c=0;#u=0;#h=!1;#v=!1;#_=new Set;#g=new Set;#d=null;#y=Ys(()=>(this.#d=Xe(this.#c),()=>{this.#d=null}));constructor(t,n,r){this.#e=t,this.#n=n,this.#o=r,this.parent=T.b,this.is_pending=!!this.#n.pending,this.#l=rr(()=>{if(T.b=this,k){const s=this.#t;ut(),s.nodeType===vt&&s.data===hn?this.#S():(this.#E(),this.#u===0&&(this.is_pending=!1))}else{var i=this.#w();try{this.#i=le(()=>r(i))}catch(s){this.error(s)}this.#u>0?this.#b():this.is_pending=!1}return()=>{this.#f?.remove()}},Ks),k&&(this.#e=C)}#E(){try{this.#i=le(()=>this.#o(this.#e))}catch(t){this.error(t)}}#S(){const t=this.#n.pending;t&&(this.#r=le(()=>t(this.#e)),Re(()=>{var n=this.#w();this.#i=this.#p(()=>(Ke.ensure(),le(()=>this.#o(n)))),this.#u>0?this.#b():(ot(this.#r,()=>{this.#r=null}),this.is_pending=!1)}))}#w(){var t=this.#e;return this.is_pending&&(this.#f=we(),this.#e.before(this.#f),t=this.#f),t}defer_effect(t){qr(t,this.#_,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#p(t){var n=T,r=O,i=j;Se(this.#l),Ee(this.#l),$t(this.#l.ctx);try{return t()}catch(s){return Gr(s),null}finally{Se(n),Ee(r),$t(i)}}#b(){const t=this.#n.pending;this.#i!==null&&(this.#a=document.createDocumentFragment(),this.#a.append(this.#f),gi(this.#i,this.#a)),this.#r===null&&(this.#r=le(()=>t(this.#e)))}#m(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(t);return}if(this.#u+=t,this.#u===0){this.is_pending=!1;for(const n of this.#_)U(n,ee),Ae(n);for(const n of this.#g)U(n,ye),Ae(n);this.#_.clear(),this.#g.clear(),this.#r&&ot(this.#r,()=>{this.#r=null}),this.#a&&(this.#e.before(this.#a),this.#a=null)}}update_pending_count(t){this.#m(t),this.#c+=t,!(!this.#d||this.#h)&&(this.#h=!0,Re(()=>{this.#h=!1,this.#d&&Lt(this.#d,this.#c)}))}get_effect_pending(){return this.#y(),_(this.#d)}error(t){var n=this.#n.onerror;let r=this.#n.failed;if(this.#v||!n&&!r)throw t;this.#i&&(Z(this.#i),this.#i=null),this.#r&&(Z(this.#r),this.#r=null),this.#s&&(Z(this.#s),this.#s=null),k&&(ne(this.#t),Dr(),ne(an()));var i=!1,s=!1;const o=()=>{if(i){Us();return}i=!0,s&&Fs(),Ke.ensure(),this.#c=0,this.#s!==null&&ot(this.#s,()=>{this.#s=null}),this.is_pending=this.has_pending_snippet(),this.#i=this.#p(()=>(this.#v=!1,le(()=>this.#o(this.#e)))),this.#u>0?this.#b():this.is_pending=!1};Re(()=>{try{s=!0,n?.(t,o),s=!1}catch(l){At(l,this.#l&&this.#l.parent)}r&&(this.#s=this.#p(()=>{Ke.ensure(),this.#v=!0;try{return le(()=>{r(this.#e,()=>t,()=>o)})}catch(l){return At(l,this.#l.parent),null}finally{this.#v=!1}}))})}}function Xr(e,t,n,r){const i=Yt()?Kt:Zn;var s=e.filter(c=>!c.settled);if(n.length===0&&s.length===0){r(t.map(i));return}var o=B,l=T,a=Zs(),f=s.length===1?s[0].promise:s.length>1?Promise.all(s.map(c=>c.promise)):null;function u(c){a();try{r(c)}catch(h){(l.f&ze)===0&&At(h,l)}o?.deactivate(),Fn()}if(n.length===0){f.then(()=>u(t.map(i)));return}function d(){a(),Promise.all(n.map(c=>Qs(c))).then(c=>u([...t.map(i),...c])).catch(c=>At(c,l))}f?f.then(d):d()}function Zs(){var e=T,t=O,n=j,r=B;return function(s=!0){Se(e),Ee(t),$t(n),s&&r?.activate()}}function Fn(){Se(null),Ee(null),$t(null)}function Kt(e){var t=Q|ee,n=O!==null&&(O.f&Q)!==0?O:null;return T!==null&&(T.f|=Tt),{ctx:j,deps:null,effects:null,equals:Br,f:t,fn:e,reactions:null,rv:0,v:H,wv:0,parent:n??T,ac:null}}function Qs(e,t,n){let r=T;r===null&&bs();var i=r.b,s=void 0,o=Xe(H),l=!O,a=new Map;return fo(()=>{var f=Or();s=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{u===B&&u.committed&&u.deactivate(),Fn()})}catch(h){f.reject(h),Fn()}var u=B;if(l){var d=i.is_rendered();i.update_pending_count(1),u.increment(d),a.get(u)?.reject(wt),a.delete(u),a.set(u,f)}const c=(h,v=void 0)=>{if(u.activate(),v)v!==wt&&(o.f|=Ye,Lt(o,v));else{(o.f&Ye)!==0&&(o.f^=Ye),Lt(o,h);for(const[p,m]of a){if(a.delete(p),p===u)break;m.reject(wt)}}l&&(i.update_pending_count(-1),u.decrement(d))};f.promise.then(c,h=>c(null,h||"unknown"))}),gn(()=>{for(const f of a.values())f.reject(wt)}),new Promise(f=>{function u(d){function c(){d===s?f(o):u(s)}d.then(c,c)}u(s)})}function eo(e){const t=Kt(e);return pi(t),t}function Zn(e){const t=Kt(e);return t.equals=Ur,t}function Zr(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)Z(t[n])}}function to(e){for(var t=e.parent;t!==null;){if((t.f&Q)===0)return(t.f&ze)===0?t:null;t=t.parent}return null}function Qn(e){var t,n=T;Se(to(e));try{e.f&=~at,Zr(e),t=yi(e)}finally{Se(n)}return t}function Qr(e){var t=Qn(e);if(!e.equals(t)&&(e.wv=wi(),(!B?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){U(e,G);return}Ze||(ke!==null?(nr()||B?.is_fork)&&ke.set(e,t):Xn(e))}let Cn=new Set;const Je=new Map;let ei=!1;function Xe(e,t){var n={f:0,v:e,reactions:null,equals:Br,rv:0,wv:0};return n}function Ve(e,t){const n=Xe(e);return pi(n),n}function X(e,t=!1,n=!0){const r=Xe(e);return t||(r.equals=Ur),Ot&&n&&j!==null&&j.l!==null&&(j.l.s??=[]).push(r),r}function P(e,t,n=!1){O!==null&&(!Le||(O.f&dr)!==0)&&Yt()&&(O.f&(Q|Ue|Yn|dr))!==0&&(me===null||!xt.call(me,e))&&Ls();let r=n?mt(t):t;return Lt(e,r)}function Lt(e,t){if(!e.equals(t)){var n=e.v;Ze?Je.set(e,t):Je.set(e,n),e.v=t;var r=Ke.ensure();if(r.capture(e,n),(e.f&Q)!==0){const i=e;(e.f&ee)!==0&&Qn(i),Xn(i)}e.wv=wi(),ti(e,ee),Yt()&&T!==null&&(T.f&G)!==0&&(T.f&(Fe|dt))===0&&(ge===null?co([e]):ge.push(e)),!r.is_fork&&Cn.size>0&&!ei&&no()}return t}function no(){ei=!1;for(const e of Cn)(e.f&G)!==0&&U(e,ye),Rt(e)&&Ft(e);Cn.clear()}function hr(e,t=1){var n=_(e),r=t===1?n++:n--;return P(e,n),r}function Ut(e){P(e,e.v+1)}function ti(e,t){var n=e.reactions;if(n!==null)for(var r=Yt(),i=n.length,s=0;s<i;s++){var o=n[s],l=o.f;if(!(!r&&o===T)){var a=(l&ee)===0;if(a&&U(o,t),(l&Q)!==0){var f=o;ke?.delete(f),(l&at)===0&&(l&be&&(o.f|=at),ti(f,ye))}else a&&((l&Ue)!==0&&De!==null&&De.add(o),Ae(o))}}}function mt(e){if(typeof e!="object"||e===null||Be in e)return e;const t=Vn(e);if(t!==hs&&t!==_s)return e;var n=new Map,r=Wn(e),i=Ve(0),s=lt,o=l=>{if(lt===s)return l();var a=O,f=lt;Ee(null),wr(s);var u=l();return Ee(a),wr(f),u};return r&&n.set("length",Ve(e.length)),new Proxy(e,{defineProperty(l,a,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&$s();var u=n.get(a);return u===void 0?o(()=>{var d=Ve(f.value);return n.set(a,d),d}):P(u,f.value,!0),!0},deleteProperty(l,a){var f=n.get(a);if(f===void 0){if(a in l){const u=o(()=>Ve(H));n.set(a,u),Ut(i)}}else P(f,H),Ut(i);return!0},get(l,a,f){if(a===Be)return e;var u=n.get(a),d=a in l;if(u===void 0&&(!d||yt(l,a)?.writable)&&(u=o(()=>{var h=mt(d?l[a]:H),v=Ve(h);return v}),n.set(a,u)),u!==void 0){var c=_(u);return c===H?void 0:c}return Reflect.get(l,a,f)},getOwnPropertyDescriptor(l,a){var f=Reflect.getOwnPropertyDescriptor(l,a);if(f&&"value"in f){var u=n.get(a);u&&(f.value=_(u))}else if(f===void 0){var d=n.get(a),c=d?.v;if(d!==void 0&&c!==H)return{enumerable:!0,configurable:!0,value:c,writable:!0}}return f},has(l,a){if(a===Be)return!0;var f=n.get(a),u=f!==void 0&&f.v!==H||Reflect.has(l,a);if(f!==void 0||T!==null&&(!u||yt(l,a)?.writable)){f===void 0&&(f=o(()=>{var c=u?mt(l[a]):H,h=Ve(c);return h}),n.set(a,f));var d=_(f);if(d===H)return!1}return u},set(l,a,f,u){var d=n.get(a),c=a in l;if(r&&a==="length")for(var h=f;h<d.v;h+=1){var v=n.get(h+"");v!==void 0?P(v,H):h in l&&(v=o(()=>Ve(H)),n.set(h+"",v))}if(d===void 0)(!c||yt(l,a)?.writable)&&(d=o(()=>Ve(void 0)),P(d,mt(f)),n.set(a,d));else{c=d.v!==H;var p=o(()=>mt(f));P(d,p)}var m=Reflect.getOwnPropertyDescriptor(l,a);if(m?.set&&m.set.call(u,f),!c){if(r&&typeof a=="string"){var S=n.get("length"),y=Number(a);Number.isInteger(y)&&y>=S.v&&P(S,y+1)}Ut(i)}return!0},ownKeys(l){_(i);var a=Reflect.ownKeys(l).filter(d=>{var c=n.get(d);return c===void 0||c.v!==H});for(var[f,u]of n)u.v!==H&&!(f in l)&&a.push(f);return a},setPrototypeOf(){As()}})}function _r(e){try{if(e!==null&&typeof e=="object"&&Be in e)return e[Be]}catch{}return e}function ro(e,t){return Object.is(_r(e),_r(t))}var gr,ni,ri,ii;function Tn(){if(gr===void 0){gr=window,ni=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;ri=yt(t,"firstChild").get,ii=yt(t,"nextSibling").get,cr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),cr(n)&&(n.__t=void 0)}}function we(e=""){return document.createTextNode(e)}function ce(e){return ri.call(e)}function Ce(e){return ii.call(e)}function N(e,t){if(!k)return ce(e);var n=ce(C);if(n===null)n=C.appendChild(we());else if(t&&n.nodeType!==vn){var r=we();return n?.before(r),ne(r),r}return t&&er(n),ne(n),n}function Pe(e,t=!1){if(!k){var n=ce(e);return n instanceof Comment&&n.data===""?Ce(n):n}if(t){if(C?.nodeType!==vn){var r=we();return C?.before(r),ne(r),r}er(C)}return C}function I(e,t=1,n=!1){let r=k?C:e;for(var i;t--;)i=r,r=Ce(r);if(!k)return r;if(n){if(r?.nodeType!==vn){var s=we();return r===null?i?.after(s):r.before(s),ne(s),s}er(r)}return ne(r),r}function si(e){e.textContent=""}function oi(){return!1}function er(e){if(e.nodeValue.length<65536)return;let t=e.nextSibling;for(;t!==null&&t.nodeType===vn;)t.remove(),e.nodeValue+=t.nodeValue,t=e.nextSibling}function io(e,t){if(t){const n=document.body;e.autofocus=!0,Re(()=>{document.activeElement===n&&e.focus()})}}let pr=!1;function so(){pr||(pr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const t of e.target.elements)t.__on_r?.()})},{capture:!0}))}function tr(e){var t=O,n=T;Ee(null),Se(null);try{return e()}finally{Ee(t),Se(n)}}function li(e){T===null&&(O===null&&Es(),ys()),Ze&&ms()}function oo(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Te(e,t,n){var r=T;r!==null&&(r.f&de)!==0&&(e|=de);var i={ctx:j,deps:null,nodes:null,f:e|ee|be,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{Ft(i),i.f|=dn}catch(l){throw Z(i),l}else t!==null&&Ae(i);var s=i;if(n&&s.deps===null&&s.teardown===null&&s.nodes===null&&s.first===s.last&&(s.f&Tt)===0&&(s=s.first,(e&Ue)!==0&&(e&kt)!==0&&s!==null&&(s.f|=kt)),s!==null&&(s.parent=r,r!==null&&oo(s,r),O!==null&&(O.f&Q)!==0&&(e&dt)===0)){var o=O;(o.effects??=[]).push(s)}return i}function nr(){return O!==null&&!Le}function gn(e){const t=Te(qt,null,!1);return U(t,G),t.teardown=e,t}function On(e){li();var t=T.f,n=!O&&(t&Fe)!==0&&(t&dn)===0;if(n){var r=j;(r.e??=[]).push(e)}else return ai(e)}function ai(e){return Te(ln|Nr,e,!1)}function lo(e){return li(),Te(qt|Nr,e,!0)}function ao(e){Ke.ensure();const t=Te(dt|Tt,e,!0);return(n={})=>new Promise(r=>{n.outro?ot(t,()=>{Z(t),r(void 0)}):(Z(t),r(void 0))})}function pn(e){return Te(ln,e,!1)}function pe(e,t){var n=j,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=bn(()=>{e(),!r.ran&&(r.ran=!0,D(t))})}function Jt(){var e=j;bn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&G)!==0&&n.deps!==null&&U(n,ye),Rt(n)&&Ft(n),t.ran=!1}})}function fo(e){return Te(Yn|Tt,e,!0)}function bn(e,t=0){return Te(qt|t,e,!0)}function je(e,t=[],n=[],r=[]){Xr(r,t,n,i=>{Te(qt,()=>e(...i.map(_)),!0)})}function rr(e,t=0){var n=Te(Ue|t,e,!0);return n}function fi(e,t=0){var n=Te(qn|t,e,!0);return n}function le(e){return Te(Fe|Tt,e,!0)}function ui(e){var t=e.teardown;if(t!==null){const n=Ze,r=O;br(!0),Ee(null);try{t.call(null)}finally{br(n),Ee(r)}}}function ci(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const i=n.ac;i!==null&&tr(()=>{i.abort(wt)});var r=n.next;(n.f&dt)!==0?n.parent=null:Z(n,t),n=r}}function uo(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Fe)===0&&Z(t),t=n}}function Z(e,t=!0){var n=!1;(t||(e.f&Rr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(di(e.nodes.start,e.nodes.end),n=!0),ci(e,t&&!n),fn(e,0),U(e,ze);var r=e.nodes&&e.nodes.t;if(r!==null)for(const s of r)s.stop();ui(e);var i=e.parent;i!==null&&i.first!==null&&vi(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function di(e,t){for(;e!==null;){var n=e===t?null:Ce(e);e.remove(),e=n}}function vi(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function ot(e,t,n=!0){var r=[];hi(e,r,!0);var i=()=>{n&&Z(e),t&&t()},s=r.length;if(s>0){var o=()=>--s||i();for(var l of r)l.out(o)}else i()}function hi(e,t,n){if((e.f&de)===0){e.f^=de;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var i=e.first;i!==null;){var s=i.next,o=(i.f&kt)!==0||(i.f&Fe)!==0&&(e.f&Ue)!==0;hi(i,t,o?n:!1),i=s}}}function ir(e){_i(e,!0)}function _i(e,t){if((e.f&de)!==0){e.f^=de,(e.f&G)===0&&(U(e,ee),Ae(e));for(var n=e.first;n!==null;){var r=n.next,i=(n.f&kt)!==0||(n.f&Fe)!==0;_i(n,i?t:!1),n=r}var s=e.nodes&&e.nodes.t;if(s!==null)for(const o of s)(o.is_global||t)&&o.in()}}function gi(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var i=n===r?null:Ce(n);t.append(n),n=i}}let nn=!1,Ze=!1;function br(e){Ze=e}let O=null,Le=!1;function Ee(e){O=e}let T=null;function Se(e){T=e}let me=null;function pi(e){O!==null&&(me===null?me=[e]:me.push(e))}let oe=null,fe=0,ge=null;function co(e){ge=e}let bi=1,it=0,lt=it;function wr(e){lt=e}function wi(){return++bi}function Rt(e){var t=e.f;if((t&ee)!==0)return!0;if(t&Q&&(e.f&=~at),(t&ye)!==0){for(var n=e.deps,r=n.length,i=0;i<r;i++){var s=n[i];if(Rt(s)&&Qr(s),s.wv>e.wv)return!0}(t&be)!==0&&ke===null&&U(e,G)}return!1}function mi(e,t,n=!0){var r=e.reactions;if(r!==null&&!(me!==null&&xt.call(me,e)))for(var i=0;i<r.length;i++){var s=r[i];(s.f&Q)!==0?mi(s,t,!1):t===s&&(n?U(s,ee):(s.f&G)!==0&&U(s,ye),Ae(s))}}function yi(e){var t=oe,n=fe,r=ge,i=O,s=me,o=j,l=Le,a=lt,f=e.f;oe=null,fe=0,ge=null,O=(f&(Fe|dt))===0?e:null,me=null,$t(e.ctx),Le=!1,lt=++it,e.ac!==null&&(tr(()=>{e.ac.abort(wt)}),e.ac=null);try{e.f|=An;var u=e.fn,d=u(),c=e.deps,h=B?.is_fork;if(oe!==null){var v;if(h||fn(e,fe),c!==null&&fe>0)for(c.length=fe+oe.length,v=0;v<oe.length;v++)c[fe+v]=oe[v];else e.deps=c=oe;if(nr()&&(e.f&be)!==0)for(v=fe;v<c.length;v++)(c[v].reactions??=[]).push(e)}else!h&&c!==null&&fe<c.length&&(fn(e,fe),c.length=fe);if(Yt()&&ge!==null&&!Le&&c!==null&&(e.f&(Q|ye|ee))===0)for(v=0;v<ge.length;v++)mi(ge[v],e);if(i!==null&&i!==e){if(it++,i.deps!==null)for(let p=0;p<n;p+=1)i.deps[p].rv=it;if(t!==null)for(const p of t)p.rv=it;ge!==null&&(r===null?r=ge:r.push(...ge))}return(e.f&Ye)!==0&&(e.f^=Ye),d}catch(p){return Gr(p)}finally{e.f^=An,oe=t,fe=n,ge=r,O=i,me=s,$t(o),Le=l,lt=a}}function vo(e,t){let n=t.reactions;if(n!==null){var r=vs.call(n,e);if(r!==-1){var i=n.length-1;i===0?n=t.reactions=null:(n[r]=n[i],n.pop())}}if(n===null&&(t.f&Q)!==0&&(oe===null||!xt.call(oe,t))){var s=t;(s.f&be)!==0&&(s.f^=be,s.f&=~at),Xn(s),Zr(s),fn(s,0)}}function fn(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)vo(e,n[r])}function Ft(e){var t=e.f;if((t&ze)===0){U(e,G);var n=T,r=nn;T=e,nn=!0;try{(t&(Ue|qn))!==0?uo(e):ci(e),ui(e);var i=yi(e);e.teardown=typeof i=="function"?i:null,e.wv=bi;var s;kn&&Ws&&(e.f&ee)!==0&&e.deps}finally{nn=r,T=n}}}function _(e){var t=e.f,n=(t&Q)!==0;if(O!==null&&!Le){var r=T!==null&&(T.f&ze)!==0;if(!r&&(me===null||!xt.call(me,e))){var i=O.deps;if((O.f&An)!==0)e.rv<it&&(e.rv=it,oe===null&&i!==null&&i[fe]===e?fe++:oe===null?oe=[e]:oe.push(e));else{(O.deps??=[]).push(e);var s=e.reactions;s===null?e.reactions=[O]:xt.call(s,O)||s.push(O)}}}if(Ze&&Je.has(e))return Je.get(e);if(n){var o=e;if(Ze){var l=o.v;return((o.f&G)===0&&o.reactions!==null||Si(o))&&(l=Qn(o)),Je.set(o,l),l}var a=(o.f&be)===0&&!Le&&O!==null&&(nn||(O.f&be)!==0),f=o.deps===null;Rt(o)&&(a&&(o.f|=be),Qr(o)),a&&!f&&Ei(o)}if(ke?.has(e))return ke.get(e);if((e.f&Ye)!==0)throw e.v;return e.v}function Ei(e){if(e.deps!==null){e.f|=be;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&Q)!==0&&(t.f&be)===0&&Ei(t)}}function Si(e){if(e.v===H)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Je.has(t)||(t.f&Q)!==0&&Si(t))return!0;return!1}function D(e){var t=Le;try{return Le=!0,e()}finally{Le=t}}function xi(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Be in e)Rn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Be in n&&Rn(n)}}}function Rn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{Rn(e[r],t)}catch{}const n=Vn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=Tr(n);for(let i in r){const s=r[i].get;if(s)try{s.call(e)}catch{}}}}}function ho(e){return e.endsWith("capture")&&e!=="gotpointercapture"&&e!=="lostpointercapture"}const _o=["beforeinput","click","change","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"];function go(e){return _o.includes(e)}const po={formnovalidate:"formNoValidate",ismap:"isMap",nomodule:"noModule",playsinline:"playsInline",readonly:"readOnly",defaultvalue:"defaultValue",defaultchecked:"defaultChecked",srcobject:"srcObject",novalidate:"noValidate",allowfullscreen:"allowFullscreen",disablepictureinpicture:"disablePictureInPicture",disableremoteplayback:"disableRemotePlayback"};function bo(e){return e=e.toLowerCase(),po[e]??e}const wo=["touchstart","touchmove"];function mo(e){return wo.includes(e)}const ki=new Set,Nn=new Set;function $i(e,t,n,r={}){function i(s){if(r.capture||It.call(t,s),!s.cancelBubble)return tr(()=>n?.call(this,s))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Re(()=>{t.addEventListener(e,i,r)}):t.addEventListener(e,i,r),i}function Ie(e,t,n,r,i){var s={capture:r,passive:i},o=$i(e,t,n,s);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&gn(()=>{t.removeEventListener(e,o,s)})}function yo(e){for(var t=0;t<e.length;t++)ki.add(e[t]);for(var n of Nn)n(e)}let mr=null;function It(e){var t=this,n=t.ownerDocument,r=e.type,i=e.composedPath?.()||[],s=i[0]||e.target;mr=e;var o=0,l=mr===e&&e.__root;if(l){var a=i.indexOf(l);if(a!==-1&&(t===document||t===window)){e.__root=t;return}var f=i.indexOf(t);if(f===-1)return;a<=f&&(o=a)}if(s=i[o]||e.target,s!==t){Gn(e,"currentTarget",{configurable:!0,get(){return s||n}});var u=O,d=T;Ee(null),Se(null);try{for(var c,h=[];s!==null;){var v=s.assignedSlot||s.parentNode||s.host||null;try{var p=s["__"+r];p!=null&&(!s.disabled||e.target===s)&&p.call(s,e)}catch(m){c?h.push(m):c=m}if(e.cancelBubble||v===t||v===null)break;s=v}if(c){for(let m of h)queueMicrotask(()=>{throw m});throw c}}finally{e.__root=t,delete e.currentTarget,Ee(u),Se(d)}}}function sr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Ne(e,t){var n=T;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function M(e,t){var n=(t&Is)!==0,r=(t&Ds)!==0,i,s=!e.startsWith("<!>");return()=>{if(k)return Ne(C,null),C;i===void 0&&(i=sr(s?e:"<!>"+e),n||(i=ce(i)));var o=r||ni?document.importNode(i,!0):i.cloneNode(!0);if(n){var l=ce(o),a=o.lastChild;Ne(l,a)}else Ne(o,o);return o}}function Eo(e,t,n="svg"){var r=!e.startsWith("<!>"),i=`<${n}>${r?e:"<!>"+e}</${n}>`,s;return()=>{if(k)return Ne(C,null),C;if(!s){var o=sr(i),l=ce(o);s=ce(l)}var a=s.cloneNode(!0);return Ne(a,a),a}}function So(e,t){return Eo(e,t,"svg")}function ct(){if(k)return Ne(C,null),C;var e=document.createDocumentFragment(),t=document.createComment(""),n=we();return e.append(t,n),Ne(t,n),e}function L(e,t){if(k){var n=T;((n.f&dn)===0||n.nodes.end===null)&&(n.nodes.end=C),ut();return}e!==null&&e.before(t)}function Me(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function or(e,t){return Ai(e,t)}function xo(e,t){Tn(),t.intro=t.intro??!1;const n=t.target,r=k,i=C;try{for(var s=ce(n);s&&(s.nodeType!==vt||s.data!==Kn);)s=Ce(s);if(!s)throw ft;$e(!0),ne(s);const o=Ai(e,{...t,anchor:s});return $e(!1),o}catch(o){if(o instanceof Error&&o.message.split(`
`).some(l=>l.startsWith("https://svelte.dev/e/")))throw o;return o!==ft&&console.warn("Failed to hydrate: ",o),t.recover===!1&&xs(),Tn(),si(n),$e(!1),or(e,t)}finally{$e(r),ne(i)}}const gt=new Map;function Ai(e,{target:t,anchor:n,props:r={},events:i,context:s,intro:o=!0}){Tn();var l=new Set,a=d=>{for(var c=0;c<d.length;c++){var h=d[c];if(!l.has(h)){l.add(h);var v=mo(h);t.addEventListener(h,It,{passive:v});var p=gt.get(h);p===void 0?(document.addEventListener(h,It,{passive:v}),gt.set(h,1)):gt.set(h,p+1)}}};a(cn(ki)),Nn.add(a);var f=void 0,u=ao(()=>{var d=n??t.appendChild(we());return Js(d,{pending:()=>{}},c=>{V({});var h=j;if(s&&(h.c=s),i&&(r.$$events=i),k&&Ne(c,null),f=e(c,r)||{},k&&(T.nodes.end=C,C===null||C.nodeType!==vt||C.data!==Jn))throw Ht(),ft;q()}),()=>{for(var c of l){t.removeEventListener(c,It);var h=gt.get(c);--h===0?(document.removeEventListener(c,It),gt.delete(c)):gt.set(c,h)}Nn.delete(a),d!==n&&d.parentNode?.removeChild(d)}});return Mn.set(f,u),f}let Mn=new WeakMap;function ko(e,t){const n=Mn.get(e);return n?(Mn.delete(e),n(t)):Promise.resolve()}class $o{anchor;#e=new Map;#t=new Map;#n=new Map;#o=new Set;#l=!0;constructor(t,n=!0){this.anchor=t,this.#l=n}#i=()=>{var t=B;if(this.#e.has(t)){var n=this.#e.get(t),r=this.#t.get(n);if(r)ir(r),this.#o.delete(n);else{var i=this.#n.get(n);i&&(this.#t.set(n,i.effect),this.#n.delete(n),i.fragment.lastChild.remove(),this.anchor.before(i.fragment),r=i.effect)}for(const[s,o]of this.#e){if(this.#e.delete(s),s===t)break;const l=this.#n.get(o);l&&(Z(l.effect),this.#n.delete(o))}for(const[s,o]of this.#t){if(s===n||this.#o.has(s))continue;const l=()=>{if(Array.from(this.#e.values()).includes(s)){var f=document.createDocumentFragment();gi(o,f),f.append(we()),this.#n.set(s,{effect:o,fragment:f})}else Z(o);this.#o.delete(s),this.#t.delete(s)};this.#l||!r?(this.#o.add(s),ot(o,l,!1)):l()}}};#r=t=>{this.#e.delete(t);const n=Array.from(this.#e.values());for(const[r,i]of this.#n)n.includes(r)||(Z(i.effect),this.#n.delete(r))};ensure(t,n){var r=B,i=oi();if(n&&!this.#t.has(t)&&!this.#n.has(t))if(i){var s=document.createDocumentFragment(),o=we();s.append(o),this.#n.set(t,{effect:le(()=>n(o)),fragment:s})}else this.#t.set(t,le(()=>n(this.anchor)));if(this.#e.set(r,t),i){for(const[l,a]of this.#t)l===t?r.unskip_effect(a):r.skip_effect(a);for(const[l,a]of this.#n)l===t?r.unskip_effect(a.effect):r.skip_effect(a.effect);r.oncommit(this.#i),r.ondiscard(this.#r)}else k&&(this.anchor=C),this.#i()}}function ue(e,t,n=!1){k&&ut();var r=new $o(e),i=n?kt:0;function s(o,l){if(k){const u=zr(e);var a;if(u===Kn?a=0:u===hn?a=!1:a=parseInt(u.substring(1)),o!==a){var f=an();ne(f),r.anchor=f,$e(!1),r.ensure(o,l),$e(!0);return}}r.ensure(o,l)}rr(()=>{var o=!1;t((l,a=0)=>{o=!0,s(a,l)}),o||s(!1,null)},i)}function Li(e,t){return t}function Ao(e,t,n){for(var r=[],i=t.length,s,o=t.length,l=0;l<i;l++){let d=t[l];ot(d,()=>{if(s){if(s.pending.delete(d),s.done.add(d),s.pending.size===0){var c=e.outrogroups;Pn(cn(s.done)),c.delete(s),c.size===0&&(e.outrogroups=null)}}else o-=1},!1)}if(o===0){var a=r.length===0&&n!==null;if(a){var f=n,u=f.parentNode;si(u),u.append(f),e.items.clear()}Pn(t,!a)}else s={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(s)}function Pn(e,t=!0){for(var n=0;n<e.length;n++)Z(e[n],t)}var yr;function Fi(e,t,n,r,i,s=null){var o=e,l=new Map;{var a=e;o=k?ne(ce(a)):a.appendChild(we())}k&&ut();var f=null,u=Zn(()=>{var m=n();return Wn(m)?m:m==null?[]:cn(m)}),d,c=!0;function h(){p.fallback=f,Lo(p,d,o,t,r),f!==null&&(d.length===0?(f.f&He)===0?ir(f):(f.f^=He,Dt(f,null,o)):ot(f,()=>{f=null}))}var v=rr(()=>{d=_(u);var m=d.length;let S=!1;if(k){var y=zr(o)===hn;y!==(m===0)&&(o=an(),ne(o),$e(!1),S=!0)}for(var x=new Set,$=B,z=oi(),E=0;E<m;E+=1){k&&C.nodeType===vt&&C.data===Jn&&(o=C,S=!0,$e(!1));var w=d[E],R=r(w,E),b=c?null:l.get(R);b?(b.v&&Lt(b.v,w),b.i&&Lt(b.i,E),z&&$.unskip_effect(b.e)):(b=Fo(l,c?o:yr??=we(),w,R,E,i,t,n),c||(b.e.f|=He),l.set(R,b)),x.add(R)}if(m===0&&s&&!f&&(c?f=le(()=>s(o)):(f=le(()=>s(yr??=we())),f.f|=He)),m>x.size&&ws(),k&&m>0&&ne(an()),!c)if(z){for(const[g,re]of l)x.has(g)||$.skip_effect(re.e);$.oncommit(h),$.ondiscard(()=>{})}else h();S&&$e(!0),_(u)}),p={effect:v,items:l,outrogroups:null,fallback:f};c=!1,k&&(o=C)}function Nt(e){for(;e!==null&&(e.f&Fe)===0;)e=e.next;return e}function Lo(e,t,n,r,i){var s=t.length,o=e.items,l=Nt(e.effect.first),a,f=null,u=[],d=[],c,h,v,p;for(p=0;p<s;p+=1){if(c=t[p],h=i(c,p),v=o.get(h).e,e.outrogroups!==null)for(const R of e.outrogroups)R.pending.delete(v),R.done.delete(v);if((v.f&He)!==0)if(v.f^=He,v===l)Dt(v,null,n);else{var m=f?f.next:l;v===e.effect.last&&(e.effect.last=v.prev),v.prev&&(v.prev.next=v.next),v.next&&(v.next.prev=v.prev),qe(e,f,v),qe(e,v,m),Dt(v,m,n),f=v,u=[],d=[],l=Nt(f.next);continue}if((v.f&de)!==0&&ir(v),v!==l){if(a!==void 0&&a.has(v)){if(u.length<d.length){var S=d[0],y;f=S.prev;var x=u[0],$=u[u.length-1];for(y=0;y<u.length;y+=1)Dt(u[y],S,n);for(y=0;y<d.length;y+=1)a.delete(d[y]);qe(e,x.prev,$.next),qe(e,f,x),qe(e,$,S),l=S,f=$,p-=1,u=[],d=[]}else a.delete(v),Dt(v,l,n),qe(e,v.prev,v.next),qe(e,v,f===null?e.effect.first:f.next),qe(e,f,v),f=v;continue}for(u=[],d=[];l!==null&&l!==v;)(a??=new Set).add(l),d.push(l),l=Nt(l.next);if(l===null)continue}(v.f&He)===0&&u.push(v),f=v,l=Nt(v.next)}if(e.outrogroups!==null){for(const R of e.outrogroups)R.pending.size===0&&(Pn(cn(R.done)),e.outrogroups?.delete(R));e.outrogroups.size===0&&(e.outrogroups=null)}if(l!==null||a!==void 0){var z=[];if(a!==void 0)for(v of a)(v.f&de)===0&&z.push(v);for(;l!==null;)(l.f&de)===0&&l!==e.fallback&&z.push(l),l=Nt(l.next);var E=z.length;if(E>0){var w=s===0?n:null;Ao(e,z,w)}}}function Fo(e,t,n,r,i,s,o,l){var a=(o&Cs)!==0?(o&Os)===0?X(n,!1,!1):Xe(n):null,f=(o&Ts)!==0?Xe(i):null;return{v:a,i:f,e:le(()=>(s(t,a??n,f??i,l),()=>{e.delete(r)}))}}function Dt(e,t,n){if(e.nodes)for(var r=e.nodes.start,i=e.nodes.end,s=t&&(t.f&He)===0?t.nodes.start:n;r!==null;){var o=Ce(r);if(s.before(r),r===i)return;r=o}}function qe(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}function Co(e,t,n=!1,r=!1,i=!1){var s=e,o="";je(()=>{var l=T;if(o===(o=t()??"")){k&&ut();return}if(l.nodes!==null&&(di(l.nodes.start,l.nodes.end),l.nodes=null),o!==""){if(k){C.data;for(var a=ut(),f=a;a!==null&&(a.nodeType!==vt||a.data!=="");)f=a,a=Ce(a);if(a===null)throw Ht(),ft;Ne(C,f),s=ne(a);return}var u=o+"";n?u=`<svg>${u}</svg>`:r&&(u=`<math>${u}</math>`);var d=sr(u);if((n||r)&&(d=ce(d)),Ne(ce(d),d.lastChild),n||r)for(;ce(d);)s.before(ce(d));else s.before(d)}})}function rn(e,t,n,r,i){k&&ut();var s=t.$$slots?.[n],o=!1;s===!0&&(s=t[n==="default"?"children":n],o=!0),s===void 0||s(e,o?()=>r:r)}function To(e){const t={};e.children&&(t.default=!0);for(const n in e.$$slots)t[n]=!0;return t}function Ci(e,t){pn(()=>{var n=e.getRootNode(),r=n.host?n:n.head??n.ownerDocument.head;if(!r.querySelector("#"+t.hash)){const i=document.createElement("style");i.id=t.hash,i.textContent=t.code,r.appendChild(i)}})}function Oo(e,t){var n=void 0,r;fi(()=>{n!==(n=t())&&(r&&(Z(r),r=null),n&&(r=le(()=>{pn(()=>n(e))})))})}function Ti(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Ti(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Ro(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Ti(e))&&(r&&(r+=" "),r+=t);return r}function No(e){return typeof e=="object"?Ro(e):e??""}const Er=[...` 	
\r\fÂ \v\uFEFF`];function Mo(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var i in n)if(n[i])r=r?r+" "+i:i;else if(r.length)for(var s=i.length,o=0;(o=r.indexOf(i,o))>=0;){var l=o+s;(o===0||Er.includes(r[o-1]))&&(l===r.length||Er.includes(r[l]))?r=(o===0?"":r.substring(0,o))+r.substring(l+1):o=l}}return r===""?null:r}function Sr(e,t=!1){var n=t?" !important;":";",r="";for(var i in e){var s=e[i];s!=null&&s!==""&&(r+=" "+i+": "+s+n)}return r}function yn(e){return e[0]!=="-"||e[1]!=="-"?e.toLowerCase():e}function Po(e,t){if(t){var n="",r,i;if(Array.isArray(t)?(r=t[0],i=t[1]):r=t,e){e=String(e).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var s=!1,o=0,l=!1,a=[];r&&a.push(...Object.keys(r).map(yn)),i&&a.push(...Object.keys(i).map(yn));var f=0,u=-1;const p=e.length;for(var d=0;d<p;d++){var c=e[d];if(l?c==="/"&&e[d-1]==="*"&&(l=!1):s?s===c&&(s=!1):c==="/"&&e[d+1]==="*"?l=!0:c==='"'||c==="'"?s=c:c==="("?o++:c===")"&&o--,!l&&s===!1&&o===0){if(c===":"&&u===-1)u=d;else if(c===";"||d===p-1){if(u!==-1){var h=yn(e.substring(f,u).trim());if(!a.includes(h)){c!==";"&&d++;var v=e.substring(f,d).trim();n+=" "+v+";"}}f=d+1,u=-1}}}}return r&&(n+=Sr(r)),i&&(n+=Sr(i,!0)),n=n.trim(),n===""?null:n}return e==null?null:String(e)}function In(e,t,n,r,i,s){var o=e.__className;if(k||o!==n||o===void 0){var l=Mo(n,r,s);(!k||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l)),e.__className=n}else if(s&&i!==s)for(var a in s){var f=!!s[a];(i==null||f!==!!i[a])&&e.classList.toggle(a,f)}return s}function En(e,t={},n,r){for(var i in n){var s=n[i];t[i]!==s&&(n[i]==null?e.style.removeProperty(i):e.style.setProperty(i,s,r))}}function lr(e,t,n,r){var i=e.__style;if(k||i!==t){var s=Po(t,r);(!k||s!==e.getAttribute("style"))&&(s==null?e.removeAttribute("style"):e.style.cssText=s),e.__style=t}else r&&(Array.isArray(r)?(En(e,n?.[0],r[0]),En(e,n?.[1],r[1],"important")):En(e,n,r));return r}function Dn(e,t,n=!1){if(e.multiple){if(t==null)return;if(!Wn(t))return js();for(var r of e.options)r.selected=t.includes(xr(r));return}for(r of e.options){var i=xr(r);if(ro(i,t)){r.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function Io(e){var t=new MutationObserver(()=>{Dn(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),gn(()=>{t.disconnect()})}function xr(e){return"__value"in e?e.__value:e.value}const bt=Symbol("class"),Mt=Symbol("style"),Oi=Symbol("is custom element"),Ri=Symbol("is html");function Do(e){if(k){var t=!1,n=()=>{if(!t){if(t=!0,e.hasAttribute("value")){var r=e.value;Vt(e,"value",null),e.value=r}if(e.hasAttribute("checked")){var i=e.checked;Vt(e,"checked",null),e.checked=i}}};e.__on_r=n,Re(n),so()}}function zo(e,t){t?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function Vt(e,t,n,r){var i=Mi(e);k&&(i[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||i[t]!==(i[t]=n)&&(t==="loading"&&(e[ps]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Pi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function Bo(e,t,n,r,i=!1,s=!1){if(k&&i&&e.tagName==="INPUT"){var o=e,l=o.type==="checkbox"?"defaultChecked":"defaultValue";l in n||Do(o)}var a=Mi(e),f=a[Oi],u=!a[Ri];let d=k&&f;d&&$e(!1);var c=t||{},h=e.tagName==="OPTION";for(var v in t)v in n||(n[v]=null);n.class?n.class=No(n.class):(r||n[bt])&&(n.class=null),n[Mt]&&(n.style??=null);var p=Pi(e);for(const E in n){let w=n[E];if(h&&E==="value"&&w==null){e.value=e.__value="",c[E]=w;continue}if(E==="class"){var m=e.namespaceURI==="http://www.w3.org/1999/xhtml";In(e,m,w,r,t?.[bt],n[bt]),c[E]=w,c[bt]=n[bt];continue}if(E==="style"){lr(e,w,t?.[Mt],n[Mt]),c[E]=w,c[Mt]=n[Mt];continue}var S=c[E];if(!(w===S&&!(w===void 0&&e.hasAttribute(E)))){c[E]=w;var y=E[0]+E[1];if(y!=="$$")if(y==="on"){const R={},b="$$"+E;let g=E.slice(2);var x=go(g);if(ho(g)&&(g=g.slice(0,-7),R.capture=!0),!x&&S){if(w!=null)continue;e.removeEventListener(g,c[b],R),c[b]=null}if(w!=null)if(x)e[`__${g}`]=w,yo([g]);else{let re=function(et){c[E].call(this,et)};c[b]=$i(g,e,re,R)}else x&&(e[`__${g}`]=void 0)}else if(E==="style")Vt(e,E,w);else if(E==="autofocus")io(e,!!w);else if(!f&&(E==="__value"||E==="value"&&w!=null))e.value=e.__value=w;else if(E==="selected"&&h)zo(e,w);else{var $=E;u||($=bo($));var z=$==="defaultValue"||$==="defaultChecked";if(w==null&&!f&&!z)if(a[E]=null,$==="value"||$==="checked"){let R=e;const b=t===void 0;if($==="value"){let g=R.defaultValue;R.removeAttribute($),R.defaultValue=g,R.value=R.__value=b?g:null}else{let g=R.defaultChecked;R.removeAttribute($),R.defaultChecked=g,R.checked=b?g:!1}}else e.removeAttribute(E);else z||p.includes($)&&(f||typeof w!="string")?(e[$]=w,$ in a&&(a[$]=H)):typeof w!="function"&&Vt(e,$,w)}}}return d&&$e(!0),c}function Ni(e,t,n=[],r=[],i=[],s,o=!1,l=!1){Xr(i,n,r,a=>{var f=void 0,u={},d=e.nodeName==="SELECT",c=!1;if(fi(()=>{var v=t(...a.map(_)),p=Bo(e,f,v,s,o,l);c&&d&&"value"in v&&Dn(e,v.value);for(let S of Object.getOwnPropertySymbols(u))v[S]||Z(u[S]);for(let S of Object.getOwnPropertySymbols(v)){var m=v[S];S.description===Bs&&(!f||m!==f[S])&&(u[S]&&Z(u[S]),u[S]=le(()=>Oo(e,()=>m))),p[S]=m}f=p}),d){var h=e;pn(()=>{Dn(h,f.value,!0),Io(h)})}c=!0})}function Mi(e){return e.__attributes??={[Oi]:e.nodeName.includes("-"),[Ri]:e.namespaceURI===zs}}var kr=new Map;function Pi(e){var t=e.getAttribute("is")||e.nodeName,n=kr.get(t);if(n)return n;kr.set(t,n=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=Tr(i);for(var o in r)r[o].set&&n.push(o);i=Vn(i)}return n}function $r(e,t){return e===t||e?.[Be]===t}function jo(e={},t,n,r){return pn(()=>{var i,s;return bn(()=>{i=s,s=[],D(()=>{e!==n(...s)&&(t(e,...s),i&&$r(n(...i),e)&&t(null,...i))})}),()=>{Re(()=>{s&&$r(n(...s),e)&&t(null,...s)})}}),e}function _e(e=!1){const t=j,n=t.l.u;if(!n)return;let r=()=>xi(t.s);if(e){let i=0,s={};const o=Kt(()=>{let l=!1;const a=t.s;for(const f in a)a[f]!==s[f]&&(s[f]=a[f],l=!0);return l&&i++,i});r=()=>_(o)}n.b.length&&lo(()=>{Ar(t,r),$n(n.b)}),On(()=>{const i=D(()=>n.m.map(gs));return()=>{for(const s of i)typeof s=="function"&&s()}}),n.a.length&&On(()=>{Ar(t,r),$n(n.a)})}function Ar(e,t){if(e.l.s)for(const n of e.l.s)_(n);t()}function Y(e,t,n){e.$$events||={},e.$$events[t]||=[],e.$$events[t].push(n)}function K(e){for(var t in e)t in this&&(this[t]=e[t])}function Ii(e,t,n){if(e==null)return t(void 0),Et;const r=D(()=>e.subscribe(t,n));return r.unsubscribe?()=>r.unsubscribe():r}const pt=[];function We(e,t=Et){let n=null;const r=new Set;function i(l){if(jr(e,l)&&(e=l,n)){const a=!pt.length;for(const f of r)f[1](),pt.push(f,e);if(a){for(let f=0;f<pt.length;f+=2)pt[f][0](pt[f+1]);pt.length=0}}}function s(l){i(l(e))}function o(l,a=Et){const f=[l,a];return r.add(f),r.size===1&&(n=t(i,s)||Et),l(e),()=>{r.delete(f),r.size===0&&n&&(n(),n=null)}}return{set:i,update:s,subscribe:o}}function Uo(e){let t;return Ii(e,n=>t=n)(),t}let Qt=!1,zn=Symbol();function te(e,t,n){const r=n[t]??={store:null,source:X(void 0),unsubscribe:Et};if(r.store!==e&&!(zn in n))if(r.unsubscribe(),r.store=e??null,e==null)r.source.v=void 0,r.unsubscribe=Et;else{var i=!0;r.unsubscribe=Ii(e,s=>{i?r.source.v=s:P(r.source,s)}),i=!1}return e&&zn in n?Uo(e):_(r.source)}function Qe(){const e={};function t(){gn(()=>{for(var n in e)e[n].unsubscribe();Gn(e,zn,{enumerable:!1,value:!0})})}return[e,t]}function Wo(e){var t=Qt;try{return Qt=!1,[e(),Qt]}finally{Qt=t}}const Go={get(e,t){if(!e.exclude.includes(t))return _(e.version),t in e.special?e.special[t]():e.props[t]},set(e,t,n){if(!(t in e.special)){var r=T;try{Se(e.parent_effect),e.special[t]=he({get[t](){return e.props[t]}},t,Ir)}finally{Se(r)}}return e.special[t](n),hr(e.version),!0},getOwnPropertyDescriptor(e,t){if(!e.exclude.includes(t)&&t in e.props)return{enumerable:!0,configurable:!0,value:e.props[t]}},deleteProperty(e,t){return e.exclude.includes(t)||(e.exclude.push(t),hr(e.version)),!0},has(e,t){return e.exclude.includes(t)?!1:t in e.props},ownKeys(e){return Reflect.ownKeys(e.props).filter(t=>!e.exclude.includes(t))}};function un(e,t){return new Proxy({props:e,exclude:t,special:{},version:Xe(0),parent_effect:T},Go)}function he(e,t,n,r){var i=!Ot||(n&Ns)!==0,s=(n&Ms)!==0,o=(n&Ps)!==0,l=r,a=!0,f=()=>(a&&(a=!1,l=o?D(r):r),l),u;if(s){var d=Be in e||Mr in e;u=yt(e,t)?.set??(d&&t in e?x=>e[t]=x:void 0)}var c,h=!1;s?[c,h]=Wo(()=>e[t]):c=e[t],c===void 0&&r!==void 0&&(c=f(),u&&(i&&ks(),u(c)));var v;if(i?v=()=>{var x=e[t];return x===void 0?f():(a=!0,x)}:v=()=>{var x=e[t];return x!==void 0&&(l=void 0),x===void 0?l:x},i&&(n&Ir)===0)return v;if(u){var p=e.$$legacy;return(function(x,$){return arguments.length>0?((!i||!$||p||h)&&u($?v():x),x):v()})}var m=!1,S=((n&Rs)!==0?Kt:Zn)(()=>(m=!1,v()));s&&_(S);var y=T;return(function(x,$){if(arguments.length>0){const z=$?_(S):i&&s?mt(x):x;return P(S,z),m=!0,l!==void 0&&(l=z),x}return Ze&&m||(y.f&ze)!==0?S.v:_(S)})}function J(e){return new Vo(e)}class Vo{#e;#t;constructor(t){var n=new Map,r=(s,o)=>{var l=X(o,!1,!1);return n.set(s,l),l};const i=new Proxy({...t.props||{},$$events:{}},{get(s,o){return _(n.get(o)??r(o,Reflect.get(s,o)))},has(s,o){return o===Mr?!0:(_(n.get(o)??r(o,Reflect.get(s,o))),Reflect.has(s,o))},set(s,o,l){return P(n.get(o)??r(o,l),l),Reflect.set(s,o,l)}});this.#t=(t.hydrate?xo:or)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover}),(!t?.props?.$$host||t.sync===!1)&&ve(),this.#e=i.$$events;for(const s of Object.keys(this.#t))s==="$set"||s==="$destroy"||s==="$on"||Gn(this,s,{get(){return this.#t[s]},set(o){this.#t[s]=o},enumerable:!0});this.#t.$set=s=>{Object.assign(i,s)},this.#t.$destroy=()=>{ko(this.#t)}}$set(t){this.#t.$set(t)}$on(t,n){this.#e[t]=this.#e[t]||[];const r=(...i)=>n.call(this,...i);return this.#e[t].push(r),()=>{this.#e[t]=this.#e[t].filter(i=>i!==r)}}$destroy(){this.#t.$destroy()}}function wn(e){j===null&&Pr(),Ot&&j.l!==null?qo(j).m.push(e):On(()=>{const t=D(e);if(typeof t=="function")return t})}function Di(e){j===null&&Pr(),wn(()=>()=>D(e))}function qo(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Ho="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20style='display:none'%3e%3c!--%20Empty:%20Light%20gray%20filled%20rectangle%20--%3e%3csymbol%20id='Empty'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F5F5F5'/%3e%3c/symbol%3e%3c!--%20SnakeHead:%20Blue%20rounded%20rectangle%20with%20eyes%20--%3e%3csymbol%20id='SnakeHead'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='4'%20fill='%232196F3'/%3e%3ccircle%20cx='11'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3ccircle%20cx='21'%20cy='12'%20r='2.5'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20SnakeBody:%20Lighter%20blue%20with%20horizontal%20stripe%20--%3e%3csymbol%20id='SnakeBody'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='3'%20fill='%2364B5F6'/%3e%3crect%20x='4'%20y='14'%20width='24'%20height='4'%20rx='1'%20fill='%2342A5F5'/%3e%3c/symbol%3e%3c!--%20Food:%20Red%20circle%20with%20green%20stem%20(apple-like)%20--%3e%3csymbol%20id='Food'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='17'%20r='12'%20fill='%23FF5722'/%3e%3cline%20x1='16'%20y1='5'%20x2='16'%20y2='9'%20stroke='%234CAF50'%20stroke-width='2'%20stroke-linecap='round'/%3e%3cline%20x1='16'%20y1='5'%20x2='18'%20y2='7'%20stroke='%234CAF50'%20stroke-width='1.5'%20stroke-linecap='round'/%3e%3c/symbol%3e%3c!--%20FloatingFood:%20Orange%20circle%20with%20upward%20chevrons%20--%3e%3csymbol%20id='FloatingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='18'%20r='10'%20fill='%23FF9800'/%3e%3cpolyline%20points='12,10%2016,6%2020,10'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,6%2016,2%2020,6'%20fill='none'%20stroke='%23FFB74D'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20FallingFood:%20Orange-red%20circle%20with%20downward%20chevrons%20--%3e%3csymbol%20id='FallingFood'%20viewBox='0%200%2032%2032'%3e%3ccircle%20cx='16'%20cy='14'%20r='10'%20fill='%23FF7043'/%3e%3cpolyline%20points='12,22%2016,26%2020,22'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cpolyline%20points='12,26%2016,30%2020,26'%20fill='none'%20stroke='%23FF8A65'%20stroke-width='1.5'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/symbol%3e%3c!--%20Obstacle:%20Dark%20gray%20with%20cross-hatch%20pattern%20--%3e%3csymbol%20id='Obstacle'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23424242'/%3e%3cline%20x1='0'%20y1='0'%20x2='32'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3cline%20x1='32'%20y1='0'%20x2='0'%20y2='32'%20stroke='%23616161'%20stroke-width='1'/%3e%3c/symbol%3e%3c!--%20Exit:%20Green%20rectangle%20with%20white%20doorway%20arch%20--%3e%3csymbol%20id='Exit'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%234CAF50'/%3e%3crect%20x='10'%20y='12'%20width='12'%20height='20'%20fill='%23FFF'/%3e%3cpath%20d='M%2010%2012%20Q%2010%206%2016%206%20Q%2022%206%2022%2012'%20fill='%23FFF'/%3e%3c/symbol%3e%3c!--%20Stone:%20Brown%20rounded%20rectangle%20with%20texture%20spots%20--%3e%3csymbol%20id='Stone'%20viewBox='0%200%2032%2032'%3e%3crect%20x='2'%20y='2'%20width='28'%20height='28'%20rx='6'%20fill='%23795548'/%3e%3cellipse%20cx='11'%20cy='10'%20rx='3'%20ry='2.5'%20fill='%238D6E63'/%3e%3cellipse%20cx='20'%20cy='14'%20rx='2.5'%20ry='3'%20fill='%238D6E63'/%3e%3ccircle%20cx='14'%20cy='21'%20r='2'%20fill='%238D6E63'/%3e%3c/symbol%3e%3c!--%20Spike:%20Red%20background%20with%20sharp%20upward%20triangle%20--%3e%3csymbol%20id='Spike'%20viewBox='0%200%2032%2032'%3e%3crect%20width='32'%20height='32'%20fill='%23F44336'/%3e%3cpolygon%20points='16,6%2022,26%2010,26'%20fill='%23B71C1C'/%3e%3c/symbol%3e%3c/svg%3e",Yo="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Yo);Gs();var Ko=M('<header class="gsnake-ui-modal-header svelte-12n1f7e"><!></header>'),Jo=M('<footer class="gsnake-ui-modal-footer svelte-12n1f7e"><!></footer>'),Xo=M('<div class="gsnake-ui-modal-backdrop svelte-12n1f7e" role="presentation"><section><!> <div class="gsnake-ui-modal-content svelte-12n1f7e"><!></div> <!></section></div>');const Zo={hash:"svelte-12n1f7e",code:".gsnake-ui-modal-backdrop.svelte-12n1f7e {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);padding:16px;z-index:1000;}.gsnake-ui-modal.svelte-12n1f7e {width:min(480px, 100%);background:white;border-radius:12px;border:1px solid #d6d6d6;box-shadow:0 12px 40px rgba(0, 0, 0, 0.25);padding:24px;color:#1f1f1f;}.gsnake-ui-modal-header.svelte-12n1f7e {margin-bottom:12px;}.gsnake-ui-modal-content.svelte-12n1f7e {display:flex;flex-direction:column;gap:12px;}.gsnake-ui-modal-footer.svelte-12n1f7e {margin-top:20px;display:flex;gap:10px;justify-content:flex-end;flex-wrap:wrap;}"};function Xt(e,t){if(new.target)return J({component:Xt,...e});const n=To(t),r=un(t,["children","$$slots","$$events","$$legacy"]),i=un(r,["open","onClose","closeOnBackdrop"]);V(t,!1),Ci(e,Zo);let s=he(t,"open",12,!0),o=he(t,"onClose",12,void 0),l=he(t,"closeOnBackdrop",12,!0);function a(h){l()&&h.target===h.currentTarget&&o()?.()}var f={get open(){return s()},set open(h){s(h),ve()},get onClose(){return o()},set onClose(h){o(h),ve()},get closeOnBackdrop(){return l()},set closeOnBackdrop(h){l(h),ve()},$set:K,$on:(h,v)=>Y(t,h,v)};_e();var u=ct(),d=Pe(u);{var c=h=>{var v=Xo(),p=N(v);Ni(p,()=>({class:"gsnake-ui-modal",role:"dialog","aria-modal":"true",...i}),void 0,void 0,void 0,"svelte-12n1f7e");var m=N(p);{var S=E=>{var w=Ko(),R=N(w);rn(R,t,"header",{}),F(w),L(E,w)};ue(m,E=>{D(()=>n.header)&&E(S)})}var y=I(m,2),x=N(y);rn(x,t,"default",{}),F(y);var $=I(y,2);{var z=E=>{var w=Jo(),R=N(w);rn(R,t,"footer",{}),F(w),L(E,w)};ue($,E=>{D(()=>n.footer)&&E(z)})}F(p),F(v),Ie("click",v,a),L(h,v)};ue(d,h=>{s()&&h(c)})}return L(e,u),q(f)}var Qo=M("<div><!></div>");const el={hash:"svelte-1onx8vr",code:".gsnake-ui-overlay.svelte-1onx8vr {position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0, 0, 0, 0.65);z-index:900;}.gsnake-ui-overlay.transparent.svelte-1onx8vr {background:transparent;}"};function zi(e,t){if(new.target)return J({component:zi,...e});const n=un(t,["children","$$slots","$$events","$$legacy"]),r=un(n,["visible","transparent"]);V(t,!1),Ci(e,el);let i=he(t,"visible",12,!1),s=he(t,"transparent",12,!1);var o={get visible(){return i()},set visible(u){i(u),ve()},get transparent(){return s()},set transparent(u){s(u),ve()},$set:K,$on:(u,d)=>Y(t,u,d)},l=ct(),a=Pe(l);{var f=u=>{var d=Qo();Ni(d,()=>({class:"gsnake-ui-overlay",...r,[bt]:{transparent:s()}}),void 0,void 0,void 0,"svelte-1onx8vr");var c=N(d);rn(c,t,"default",{}),F(d),L(u,d)};ue(a,u=>{i()&&u(f)})}return L(e,l),q(o)}let Bn=class{__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Lr.unregister(this),t}free(){const t=this.__destroy_into_raw();A.__wbg_wasmgameengine_free(t,0)}getFrame(){const t=A.wasmgameengine_getFrame(this.__wbg_ptr);if(t[2])throw xe(t[1]);return xe(t[0])}getGameState(){const t=A.wasmgameengine_getGameState(this.__wbg_ptr);if(t[2])throw xe(t[1]);return xe(t[0])}getLevel(){const t=A.wasmgameengine_getLevel(this.__wbg_ptr);if(t[2])throw xe(t[1]);return xe(t[0])}constructor(t){const n=A.wasmgameengine_new(t);if(n[2])throw xe(n[1]);return this.__wbg_ptr=n[0]>>>0,Lr.register(this,this.__wbg_ptr,this),this}onFrame(t){A.wasmgameengine_onFrame(this.__wbg_ptr,t)}processMove(t){const n=A.wasmgameengine_processMove(this.__wbg_ptr,t);if(n[2])throw xe(n[1]);return xe(n[0])}};Symbol.dispose&&(Bn.prototype[Symbol.dispose]=Bn.prototype.free);function tl(){const e=A.getLevels();if(e[2])throw xe(e[1]);return xe(e[0])}function nl(){A.init_panic_hook()}function rl(e){const t=Bt(e,A.__wbindgen_malloc,A.__wbindgen_realloc),n=st;A.log(t,n)}function il(){return{__proto__:null,"./gsnake_wasm_bg.js":{__proto__:null,__wbg_Error_8c4e43fe74559d73:function(t,n){return Error(en(t,n))},__wbg_Number_04624de7d0e8332d:function(t){return Number(t)},__wbg_String_8f0eb39a4a4c2f66:function(t,n){const r=String(n),i=Bt(r,A.__wbindgen_malloc,A.__wbindgen_realloc),s=st;Oe().setInt32(t+4,s,!0),Oe().setInt32(t+0,i,!0)},__wbg___wbindgen_boolean_get_bbbb1c18aa2f5e25:function(t){const n=t,r=typeof n=="boolean"?n:void 0;return tn(r)?16777215:r?1:0},__wbg___wbindgen_debug_string_0bc8482c6e3508ae:function(t,n){const r=jn(n),i=Bt(r,A.__wbindgen_malloc,A.__wbindgen_realloc),s=st;Oe().setInt32(t+4,s,!0),Oe().setInt32(t+0,i,!0)},__wbg___wbindgen_in_47fa6863be6f2f25:function(t,n){return t in n},__wbg___wbindgen_is_function_0095a73b8b156f76:function(t){return typeof t=="function"},__wbg___wbindgen_is_object_5ae8e5880f2c1fbd:function(t){const n=t;return typeof n=="object"&&n!==null},__wbg___wbindgen_is_string_cd444516edc5b180:function(t){return typeof t=="string"},__wbg___wbindgen_is_undefined_9e4d92534c42d778:function(t){return t===void 0},__wbg___wbindgen_jsval_loose_eq_9dd77d8cd6671811:function(t,n){return t==n},__wbg___wbindgen_number_get_8ff4255516ccad3e:function(t,n){const r=n,i=typeof r=="number"?r:void 0;Oe().setFloat64(t+8,tn(i)?0:i,!0),Oe().setInt32(t+0,!tn(i),!0)},__wbg___wbindgen_string_get_72fb696202c56729:function(t,n){const r=n,i=typeof r=="string"?r:void 0;var s=tn(i)?0:Bt(i,A.__wbindgen_malloc,A.__wbindgen_realloc),o=st;Oe().setInt32(t+4,o,!0),Oe().setInt32(t+0,s,!0)},__wbg___wbindgen_throw_be289d5034ed271b:function(t,n){throw new Error(en(t,n))},__wbg_call_389efe28435a9388:function(){return Pt(function(t,n){return t.call(n)},arguments)},__wbg_call_4708e0c13bdc8e95:function(){return Pt(function(t,n,r){return t.call(n,r)},arguments)},__wbg_done_57b39ecd9addfe81:function(t){return t.done},__wbg_entries_58c7934c745daac7:function(t){return Object.entries(t)},__wbg_error_7534b8e9a36f1ab4:function(t,n){let r,i;try{r=t,i=n,console.error(en(t,n))}finally{A.__wbindgen_free(r,i,1)}},__wbg_get_9b94d73e6221f75c:function(t,n){return t[n>>>0]},__wbg_get_b3ed3ad4be2bc8ac:function(){return Pt(function(t,n){return Reflect.get(t,n)},arguments)},__wbg_get_with_ref_key_1dc361bd10053bfe:function(t,n){return t[n]},__wbg_instanceof_ArrayBuffer_c367199e2fa2aa04:function(t){let n;try{n=t instanceof ArrayBuffer}catch{n=!1}return n},__wbg_instanceof_Uint8Array_9b9075935c74707c:function(t){let n;try{n=t instanceof Uint8Array}catch{n=!1}return n},__wbg_isArray_d314bb98fcf08331:function(t){return Array.isArray(t)},__wbg_isSafeInteger_bfbc7332a9768d2a:function(t){return Number.isSafeInteger(t)},__wbg_iterator_6ff6560ca1568e55:function(){return Symbol.iterator},__wbg_length_32ed9a279acd054c:function(t){return t.length},__wbg_length_35a7bace40f36eac:function(t){return t.length},__wbg_log_6b5ca2e6124b2808:function(t){console.log(t)},__wbg_new_361308b2356cecd0:function(){return new Object},__wbg_new_3eb36ae241fe6f44:function(){return new Array},__wbg_new_8a6f238a6ece86ea:function(){return new Error},__wbg_new_dca287b076112a51:function(){return new Map},__wbg_new_dd2b680c8bf6ae29:function(t){return new Uint8Array(t)},__wbg_next_3482f54c49e8af19:function(){return Pt(function(t){return t.next()},arguments)},__wbg_next_418f80d8f5303233:function(t){return t.next},__wbg_prototypesetcall_bdcdcc5842e4d77d:function(t,n,r){Uint8Array.prototype.set.call(ol(t,n),r)},__wbg_set_1eb0999cf5d27fc8:function(t,n,r){return t.set(n,r)},__wbg_set_3f1d0b984ed272ed:function(t,n,r){t[n]=r},__wbg_set_6cb8631f80447a67:function(){return Pt(function(t,n,r){return Reflect.set(t,n,r)},arguments)},__wbg_set_f43e577aea94465b:function(t,n,r){t[n>>>0]=r},__wbg_stack_0ed75d68575b0f3c:function(t,n){const r=n.stack,i=Bt(r,A.__wbindgen_malloc,A.__wbindgen_realloc),s=st;Oe().setInt32(t+4,s,!0),Oe().setInt32(t+0,i,!0)},__wbg_value_0546255b415e96c1:function(t){return t.value},__wbindgen_cast_0000000000000001:function(t){return t},__wbindgen_cast_0000000000000002:function(t,n){return en(t,n)},__wbindgen_init_externref_table:function(){const t=A.__wbindgen_externrefs,n=t.grow(4);t.set(0,void 0),t.set(n+0,void 0),t.set(n+1,null),t.set(n+2,!0),t.set(n+3,!1)}}}}const Lr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>A.__wbg_wasmgameengine_free(e>>>0,1));function sl(e){const t=A.__externref_table_alloc();return A.__wbindgen_externrefs.set(t,e),t}function jn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let s="[";i>0&&(s+=jn(e[0]));for(let o=1;o<i;o++)s+=", "+jn(e[o]);return s+="]",s}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n&&n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function ol(e,t){return e=e>>>0,Wt().subarray(e/1,e/1+t)}let nt=null;function Oe(){return(nt===null||nt.buffer.detached===!0||nt.buffer.detached===void 0&&nt.buffer!==A.memory.buffer)&&(nt=new DataView(A.memory.buffer)),nt}function en(e,t){return e=e>>>0,al(e,t)}let zt=null;function Wt(){return(zt===null||zt.byteLength===0)&&(zt=new Uint8Array(A.memory.buffer)),zt}function Pt(e,t){try{return e.apply(this,t)}catch(n){const r=sl(n);A.__wbindgen_exn_store(r)}}function tn(e){return e==null}function Bt(e,t,n){if(n===void 0){const l=Gt.encode(e),a=t(l.length,1)>>>0;return Wt().subarray(a,a+l.length).set(l),st=l.length,a}let r=e.length,i=t(r,1)>>>0;const s=Wt();let o=0;for(;o<r;o++){const l=e.charCodeAt(o);if(l>127)break;s[i+o]=l}if(o!==r){o!==0&&(e=e.slice(o)),i=n(i,r,r=o+e.length*3,1)>>>0;const l=Wt().subarray(i+o,i+r),a=Gt.encodeInto(e,l);o+=a.written,i=n(i,r,o,1)>>>0}return st=o,i}function xe(e){const t=A.__wbindgen_externrefs.get(e);return A.__externref_table_dealloc(e),t}let sn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});sn.decode();const ll=2146435072;let Sn=0;function al(e,t){return Sn+=t,Sn>=ll&&(sn=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}),sn.decode(),Sn=t),sn.decode(Wt().subarray(e,e+t))}const Gt=new TextEncoder;"encodeInto"in Gt||(Gt.encodeInto=function(e,t){const n=Gt.encode(e);return t.set(n),{read:e.length,written:n.length}});let st=0,A;function fl(e,t){return A=e.exports,nt=null,zt=null,A.__wbindgen_start(),A}async function ul(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.ok&&n(e.type)&&e.headers.get("Content-Type")!=="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve Wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}function n(r){switch(r){case"basic":case"cors":case"default":return!0}return!1}}async function cl(e){if(A!==void 0)return A;e!==void 0&&(Object.getPrototypeOf(e)===Object.prototype?{module_or_path:e}=e:console.warn("using deprecated parameters for the initialization function; pass a single object instead")),e===void 0&&(e=new URL("/gSnake/main/assets/gsnake_wasm_bg-C20VZmte.wasm",import.meta.url));const t=il();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await ul(await e,t);return fl(n)}class dl{wasmEngine=null;listeners=[];initialized=!1;levels=[];currentLevelIndex=0;async init(t=null,n=1){if(this.initialized){console.warn("WasmGameEngine already initialized");return}try{await cl()}catch(s){throw this.handleContractError(s,"Failed to initialize WASM module","initializationFailed"),s}try{nl()}catch(s){console.warn("Failed to initialize panic hook:",s)}rl("gSnake WASM engine initialized");try{this.levels=t??tl()}catch(s){throw this.handleContractError(s,"Failed to load levels","initializationFailed"),s}const r=Number.isInteger(n)&&n>0?n:1,i=this.levels.length===0?1:Math.min(r,this.levels.length);if(this.currentLevelIndex=i-1,this.levels.length===0){const s=new Error("No levels available");throw this.handleContractError(s,"Failed to initialize engine","initializationFailed"),s}await this.loadLevelByIndex(this.currentLevelIndex),this.initialized=!0}async loadLevel(t){await this.loadLevelByIndex(t-1)}async restartLevel(){await this.resetLevel()}async loadLevelByIndex(t){if(t<0||t>=this.levels.length)throw new Error(`Invalid level index: ${t}`);const n=this.levels[t];this.currentLevelIndex=t;try{this.wasmEngine=new Bn(n)}catch(r){throw this.handleContractError(r,"Failed to initialize engine","initializationFailed"),r}this.wasmEngine.onFrame(r=>{this.handleFrameUpdate(r)}),this.emitInitialEvents(n);try{const r=this.wasmEngine.getFrame();this.handleFrameUpdate(r)}catch(r){throw this.handleContractError(r,"Failed to get initial frame","initializationFailed"),r}}emitInitialEvents(t){this.emitEvent({type:"levelChanged",level:t})}handleFrameUpdate(t){this.emitEvent({type:"frameChanged",frame:t}),t.state.status}processMove(t){if(!this.wasmEngine){console.error("WASM engine not initialized");return}try{this.wasmEngine.processMove(t)}catch(n){this.handleContractError(n,"Error processing move")}}async nextLevel(){this.currentLevelIndex>=this.levels.length-1||(this.currentLevelIndex++,await this.loadLevelByIndex(this.currentLevelIndex))}async resetLevel(){await this.loadLevelByIndex(this.currentLevelIndex)}addEventListener(t){this.listeners.push(t)}getLevels(){return this.levels}emitEvent(t){for(const n of this.listeners)n(t)}handleContractError(t,n,r="internalError"){const i=this.normalizeContractError(t,n,r);if(i){this.emitEvent({type:"engineError",error:i}),console.error(`[ContractError:${i.kind}] ${i.message}`,i.context??{});return}console.error(n,t)}isContractError(t){if(!t||typeof t!="object")return!1;const n=t;return typeof n.kind=="string"&&typeof n.message=="string"}normalizeContractError(t,n,r){if(this.isContractError(t))return t;const i=t instanceof Error?t.message:String(t);return{kind:r,message:n,context:{detail:i}}}}const ht=We({status:"Playing",currentLevel:1,moves:0,foodCollected:0,totalFood:0}),Bi=We(0),ar=We(null),ji=We(null),Ct=We(null),Ui=We([]),on=We([]),Un=We(!1),St=We(null);function vl(){return typeof window>"u"?!1:new URLSearchParams(window.location.search).get("contractTest")==="1"}function Fr(e){if(!vl())return;const t=window,n=t.__gsnakeContract??{};t.__gsnakeContract={...n,...e}}function hl(e){e.addEventListener(t=>{switch(t.type){case"levelChanged":ar.set(t.level);break;case"frameChanged":ji.set(t.frame),ht.set(t.frame.state),Bi.set(_l(t.frame)),Ct.set(null),Fr({frame:t.frame,error:null});break;case"engineError":Ct.set(t.error),Fr({error:t.error});break}})}function _l(e){let t=0;for(const n of e.grid)for(const r of n)(r==="SnakeHead"||r==="SnakeBody")&&(t+=1);return t}class gl{constructor(t){this.gameEngine=t,this.keyMap=new Map([["ArrowUp","North"],["ArrowDown","South"],["ArrowLeft","West"],["ArrowRight","East"],["w","North"],["s","South"],["a","West"],["d","East"],["W","North"],["S","South"],["A","West"],["D","East"]]),this.boundHandler=this.handleKeyPress.bind(this),this.unsubscribe=ht.subscribe(n=>{this.currentStatus=n.status})}keyMap;boundHandler;currentStatus="Playing";unsubscribe;handleKeyPress(t){if(t.ctrlKey||t.altKey||t.shiftKey||t.metaKey)return;const n=t.key,r=n.toLowerCase();switch([" ","Spacebar","Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(n)&&t.preventDefault(),["r","q","escape","esc"].includes(r)&&t.preventDefault(),this.currentStatus){case"Playing":this.handlePlayingState(t,r);break;case"GameOver":this.handleGameOverState(t,r);break;case"AllComplete":this.handleAllCompleteState(t,r);break}}handlePlayingState(t,n){if(n==="r"){this.gameEngine.restartLevel();return}if(n==="q"){this.gameEngine.loadLevel(1);return}if(n==="escape"||n==="esc")return;const r=this.keyMap.get(t.key);r&&(t.defaultPrevented||t.preventDefault(),this.gameEngine.processMove(r))}handleGameOverState(t,n){n==="q"||n==="escape"||n==="esc"?this.gameEngine.loadLevel(1):["Control","Shift","Alt","Meta","CapsLock"].includes(t.key)||this.gameEngine.restartLevel()}handleAllCompleteState(t,n){(n==="r"||n==="q"||n==="escape"||n==="esc")&&this.gameEngine.loadLevel(1)}attach(){window.addEventListener("keydown",this.boundHandler)}detach(){window.removeEventListener("keydown",this.boundHandler),this.unsubscribe&&this.unsubscribe()}}const xn="gsnake_completed_levels";class Cr{static getCompletedLevels(){if(typeof window>"u")return[];try{const t=window.localStorage.getItem(xn);if(!t)return[];const n=JSON.parse(t);if(Array.isArray(n))return n.filter(r=>typeof r=="number")}catch{return[]}return[]}static isCompleted(t){return this.getCompletedLevels().includes(t)}static markCompleted(t){if(typeof window>"u")return[];const n=new Set(this.getCompletedLevels());n.add(t);const r=Array.from(n.values()).sort((i,s)=>i-s);return window.localStorage.setItem(xn,JSON.stringify(r)),r}static clearCompleted(){typeof window>"u"||window.localStorage.removeItem(xn)}}function Wi(e,t){if(new.target)return J({component:Wi,...e});V(t,!1);let n=X("");wn(async()=>{const l=await fetch(Ho);P(n,await l.text())}),Di(()=>{P(n,"")});var r={$set:K,$on:(l,a)=>Y(t,l,a)};_e();var i=ct(),s=Pe(i);{var o=l=>{var a=ct(),f=Pe(a);Co(f,()=>_(n)),L(l,a)};ue(s,l=>{_(n)&&l(o)})}return L(e,i),q(r)}var pl=M('<div class="score-info svelte-1dhu4nz"><div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Level</span> <span class="score-value svelte-1dhu4nz" data-element-id="level-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Length</span> <span class="score-value svelte-1dhu4nz" data-element-id="length-display"> </span></div> <div class="score-item svelte-1dhu4nz"><span class="score-label svelte-1dhu4nz">Moves</span> <span class="score-value svelte-1dhu4nz" data-element-id="moves-display"> </span></div></div>');function Gi(e,t){if(new.target)return J({component:Gi,...e});V(t,!1);const n=()=>te(ht,"$gameState",i),r=()=>te(Bi,"$snakeLength",i),[i,s]=Qe();var o={$set:K,$on:(y,x)=>Y(t,y,x)};_e();var l=pl(),a=N(l),f=I(N(a),2),u=N(f,!0);F(f),F(a);var d=I(a,2),c=I(N(d),2),h=N(c,!0);F(c),F(d);var v=I(d,2),p=I(N(v),2),m=N(p,!0);F(p),F(v),F(l),je(()=>{Me(u,(n(),D(()=>n().currentLevel))),Me(h,r()),Me(m,(n(),D(()=>n().moves)))}),L(e,l);var S=q(o);return s(),S}var bl=M('<button class="restart-btn svelte-1gt3cso" data-element-id="restart-button">Restart</button>');function Vi(e,t){if(new.target)return J({component:Vi,...e});V(t,!1);let n=he(t,"gameEngine",12);function r(){n().restartLevel(),document.activeElement?.blur()}var i={get gameEngine(){return n()},set gameEngine(o){n(o),ve()},$set:K,$on:(o,l)=>Y(t,o,l)};_e();var s=bl();return Ie("click",s,r),L(e,s),q(i)}var wl=M('<button class="level-selector-btn svelte-nwymxs" data-element-id="level-selector-btn">Levels</button>');function qi(e,t){if(new.target)return J({component:qi,...e});V(t,!1);function n(){Un.update(s=>!s)}var r={$set:K,$on:(s,o)=>Y(t,s,o)};_e();var i=wl();return Ie("click",i,n),L(e,i),q(r)}var ml=M('<div class="header svelte-1p9f3tg"><!> <div class="header-actions svelte-1p9f3tg"><!> <!></div></div>');function Hi(e,t){if(new.target)return J({component:Hi,...e});V(t,!1);let n=he(t,"gameEngine",12);var r={get gameEngine(){return n()},set gameEngine(f){n(f),ve()},$set:K,$on:(f,u)=>Y(t,f,u)},i=ml(),s=N(i);Gi(s,{});var o=I(s,2),l=N(o);qi(l,{});var a=I(l,2);return Vi(a,{get gameEngine(){return n()}}),F(o),F(i),L(e,i),q(r)}var yl=So('<svg class="cell svelte-1cot28b" viewBox="0 0 32 32"><use></use></svg>');function Yi(e,t){if(new.target)return J({component:Yi,...e});V(t,!1);const n=X();let r=he(t,"type",12);function i(a){switch(a){case"Spike":return .8;case"Stone":return .85;case"Obstacle":return .9;default:return 1}}pe(()=>xi(r()),()=>{P(n,i(r()))}),Jt();var s={get type(){return r()},set type(a){r(a),ve()},$set:K,$on:(a,f)=>Y(t,a,f)},o=yl(),l=N(o);return F(o),je(()=>{lr(o,`opacity: ${_(n)??""}`),Vt(l,"href",`#${r()??""}`)}),L(e,o),q(s)}var El=M('<div class="game-field svelte-1tr9vi5" data-element-id="game-field"></div>');function Ki(e,t){if(new.target)return J({component:Ki,...e});V(t,!1);const n=()=>te(ji,"$frame",r),[r,i]=Qe(),s=X(),o=X(),l=X(),a=X();pe(()=>n(),()=>{P(s,n()?.grid??[])}),pe(()=>_(s),()=>{P(o,_(s)[0]?.length??0)}),pe(()=>_(s),()=>{P(l,_(s).length)}),pe(()=>_(s),()=>{P(a,_(s).flat())}),Jt();var f={$set:K,$on:(c,h)=>Y(t,c,h)};_e();var u=El();Fi(u,5,()=>_(a),Li,(c,h)=>{Yi(c,{get type(){return _(h)}})}),F(u),je(()=>lr(u,`grid-template-columns: repeat(${_(o)}, 1fr); grid-template-rows: repeat(${_(l)}, 1fr);`)),L(e,u);var d=q(f);return i(),d}var Sl=M('<div class="modal-buttons svelte-12pilp6"><button class="modal-btn primary svelte-12pilp6" data-element-id="restart-level-btn">Restart Level</button> <button class="modal-btn secondary svelte-12pilp6" data-element-id="back-to-level1-btn">Back to Level 1</button></div>'),xl=M('<h2 slot="header" class="modal-title svelte-12pilp6">Game Over</h2>');function Ji(e,t){if(new.target)return J({component:Ji,...e});V(t,!1);let n=he(t,"gameEngine",12),r=X();wn(()=>{_(r)?.focus()});function i(){n().restartLevel()}function s(){n().loadLevel(1)}var o={get gameEngine(){return n()},set gameEngine(l){n(l),ve()},$set:K,$on:(l,a)=>Y(t,l,a)};return _e(),Xt(e,{open:!0,children:(l,a)=>{var f=Sl(),u=N(f);jo(u,c=>P(r,c),()=>_(r));var d=I(u,2);F(f),Ie("click",u,i),Ie("click",d,s),L(l,f)},$$slots:{default:!0,header:(l,a)=>{var f=xl();L(l,f)}}}),q(o)}var kl=M(`<p class="message svelte-1nm595l">Congratulations! You've beaten all levels.</p> <p class="detail svelte-1nm595l">Refresh the page to play again.</p>`,1),$l=M('<h2 slot="header" class="modal-title svelte-1nm595l">All Levels Complete!</h2>');function Xi(e,t){if(new.target)return J({component:Xi,...e});V(t,!1);var n={$set:K,$on:(r,i)=>Y(t,r,i)};return Xt(e,{open:!0,children:(r,i)=>{var s=kl();Dr(2),L(r,s)},$$slots:{default:!0,header:(r,i)=>{var s=$l();L(r,s)}}}),q(n)}var Al=M('<p class="message svelte-1vgivec"> </p> <p class="detail svelte-1vgivec">Kind: <span class="svelte-1vgivec"> </span></p> <div class="modal-buttons svelte-1vgivec"><button class="modal-btn primary svelte-1vgivec">Reload</button> <button class="modal-btn secondary svelte-1vgivec">Dismiss</button></div>',1),Ll=M('<h2 slot="header" class="modal-title svelte-1vgivec">Engine Error</h2>');function Zi(e,t){if(new.target)return J({component:Zi,...e});V(t,!1);const n=()=>te(Ct,"$engineError",r),[r,i]=Qe();function s(){window.location.reload()}function o(){Ct.set(null)}var l={$set:K,$on:(f,u)=>Y(t,f,u)};_e(),Xt(e,{open:!0,"data-element-id":"engine-error-modal",children:(f,u)=>{var d=Al(),c=Pe(d),h=N(c,!0);F(c);var v=I(c,2),p=I(N(v)),m=N(p,!0);F(p),F(v);var S=I(v,2),y=N(S),x=I(y,2);F(S),je(()=>{Me(h,(n(),D(()=>n()?.message??"Unexpected engine error."))),Me(m,(n(),D(()=>n()?.kind??"internalError")))}),Ie("click",y,s),Ie("click",x,o),L(f,d)},$$slots:{default:!0,header:(f,u)=>{var d=Ll();L(f,d)}}});var a=q(l);return i(),a}var Fl=M('<p class="message svelte-ld2jyi"> </p> <div class="actions svelte-ld2jyi"><button class="modal-btn svelte-ld2jyi">Continue</button></div>',1),Cl=M('<h2 slot="header" class="modal-title svelte-ld2jyi">Level Load Failed</h2>');function Qi(e,t){if(new.target)return J({component:Qi,...e});V(t,!1);const n=()=>te(St,"$levelLoadError",r),[r,i]=Qe();function s(){St.set(null)}var o={$set:K,$on:(a,f)=>Y(t,a,f)};_e(),Xt(e,{open:!0,children:(a,f)=>{var u=Fl(),d=Pe(u),c=N(d,!0);F(d);var h=I(d,2),v=N(h);F(h),je(()=>Me(c,n())),Ie("click",v,s),L(a,u)},$$slots:{default:!0,header:(a,f)=>{var u=Cl();L(a,u)}}});var l=q(o);return i(),l}function es(e,t){if(new.target)return J({component:es,...e});V(t,!1);const n=()=>te(St,"$levelLoadError",s),r=()=>te(Ct,"$engineError",s),i=()=>te(ht,"$gameState",s),[s,o]=Qe(),l=X(),a=X(),f=X(),u=X(),d=X();let c=he(t,"gameEngine",12);pe(()=>n(),()=>{P(l,n()!==null)}),pe(()=>r(),()=>{P(a,r()!==null)}),pe(()=>i(),()=>{P(f,i().status==="GameOver")}),pe(()=>i(),()=>{P(u,i().status==="AllComplete")}),pe(()=>(_(l),_(a),_(f),_(u)),()=>{P(d,_(l)||_(a)||_(f)||_(u))}),Jt();var h={get gameEngine(){return c()},set gameEngine(p){c(p),ve()},$set:K,$on:(p,m)=>Y(t,p,m)};_e(),zi(e,{get visible(){return _(d)},"data-element-id":"overlay",children:(p,m)=>{var S=ct(),y=Pe(S);{var x=w=>{Qi(w,{})},$=w=>{Zi(w,{})},z=w=>{Ji(w,{get gameEngine(){return c()}})},E=w=>{Xi(w,{})};ue(y,w=>{_(l)?w(x):_(a)?w($,1):_(f)?w(z,2):_(u)&&w(E,3)})}L(p,S)},$$slots:{default:!0}});var v=q(h);return o(),v}var Tl=M('<div class="empty-state svelte-xz0hsc">No levels loaded.</div>'),Ol=M("<div> </div>"),Rl=M('<div class="level-status svelte-xz0hsc">Completed</div>'),Nl=M('<div class="level-status current svelte-xz0hsc">Current</div>'),Ml=M('<button><div class="level-number svelte-xz0hsc"> </div> <div class="level-name svelte-xz0hsc"> </div> <!> <!> <!></button>'),Pl=M('<div class="level-grid svelte-xz0hsc"></div>'),Il=M('<div class="level-overlay svelte-xz0hsc" data-element-id="level-selector-overlay"><div class="level-panel svelte-xz0hsc"><div class="level-header svelte-xz0hsc"><div><h2 class="svelte-xz0hsc">Choose a Level</h2> <p class="svelte-xz0hsc">Select a level to play. Completed levels are marked.</p></div> <button class="close-btn svelte-xz0hsc">Close</button></div> <!></div></div>');function ts(e,t){if(new.target)return J({component:ts,...e});V(t,!1);const n=()=>te(ht,"$gameState",o),r=()=>te(on,"$completedLevels",o),i=()=>te(Un,"$levelSelectorOpen",o),s=()=>te(Ui,"$availableLevels",o),[o,l]=Qe(),a=X();let f=he(t,"gameEngine",12);function u(){Un.set(!1)}async function d(y,x){await f().loadLevel(x+1),u()}function c(y){return r().includes(y)}pe(()=>n(),()=>{P(a,n().currentLevel)}),Jt();var h={get gameEngine(){return f()},set gameEngine(y){f(y),ve()},$set:K,$on:(y,x)=>Y(t,y,x)};_e();var v=ct(),p=Pe(v);{var m=y=>{var x=Il(),$=N(x),z=N($),E=I(N(z),2);F(z);var w=I(z,2);{var R=g=>{var re=Tl();L(g,re)},b=g=>{var re=Pl();Fi(re,5,s,Li,(et,W,tt)=>{var ie=Ml(),_t=N(ie),ss=N(_t);F(_t);var mn=I(_t,2),os=N(mn,!0);F(mn);var fr=I(mn,2);{var ls=ae=>{var Ge=Ol(),ds=N(Ge);F(Ge),je(()=>{In(Ge,1,(_(W),D(()=>`level-difficulty difficulty-${_(W).difficulty}`)),"svelte-xz0hsc"),Me(ds,`(${_(W),D(()=>_(W).difficulty)??""})`)}),L(ae,Ge)};ue(fr,ae=>{_(W),D(()=>_(W).difficulty)&&ae(ls)})}var ur=I(fr,2);{var as=ae=>{var Ge=Rl();L(ae,Ge)},fs=eo(()=>(_(W),D(()=>c(_(W).id))));ue(ur,ae=>{_(fs)&&ae(as)})}var us=I(ur,2);{var cs=ae=>{var Ge=Nl();L(ae,Ge)};ue(us,ae=>{_(W),_(a),D(()=>_(W).id===_(a))&&ae(cs)})}F(ie),je(ae=>{In(ie,1,ae,"svelte-xz0hsc"),Me(ss,`Level ${_(W),D(()=>_(W).id)??""}`),Me(os,(_(W),D(()=>_(W).name)))},[()=>(_(W),_(a),D(()=>`level-card ${c(_(W).id)?"completed":""} ${_(W).id===_(a)?"current":""}`))]),Ie("click",ie,()=>d(_(W),tt)),L(et,ie)}),F(re),L(g,re)};ue(w,g=>{s(),D(()=>s().length===0)?g(R):g(b,!1)})}F($),F(x),Ie("click",E,u),L(y,x)};ue(p,y=>{i()&&y(m)})}L(e,v);var S=q(h);return l(),S}var Dl=M("<span> </span>"),zl=M('<div class="banner svelte-nhblr0" data-element-id="level-complete-banner"><strong>Level Complete!</strong> <!></div>');function ns(e,t){if(new.target)return J({component:ns,...e});V(t,!1);const n=()=>te(ht,"$gameState",i),r=()=>te(ar,"$level",i),[i,s]=Qe();var o={$set:K,$on:(d,c)=>Y(t,d,c)};_e();var l=ct(),a=Pe(l);{var f=d=>{var c=zl(),h=I(N(c),2);{var v=p=>{var m=Dl(),S=N(m,!0);F(m),je(()=>Me(S,(r(),D(()=>r().name)))),L(p,m)};ue(h,p=>{r()&&p(v)})}F(c),L(d,c)};ue(a,d=>{n(),D(()=>n().status==="LevelComplete")&&d(f)})}L(e,l);var u=q(o);return s(),u}var Bl=M('<div class="game-container svelte-jug5a6"><!> <!> <!> <!> <!></div>');function rs(e,t){if(new.target)return J({component:rs,...e});V(t,!1);let n=he(t,"gameEngine",12);var r={get gameEngine(){return n()},set gameEngine(u){n(u),ve()},$set:K,$on:(u,d)=>Y(t,u,d)},i=Bl(),s=N(i);Hi(s,{get gameEngine(){return n()}});var o=I(s,2);ns(o,{});var l=I(o,2);Ki(l,{});var a=I(l,2);es(a,{get gameEngine(){return n()}});var f=I(a,2);return ts(f,{get gameEngine(){return n()}}),F(i),L(e,i),q(r)}var jl=M("<!> <!>",1);function is(e,t){if(new.target)return J({component:is,...e});V(t,!1);const n=()=>te(ht,"$gameState",i),r=()=>te(ar,"$level",i),[i,s]=Qe(),o=new dl;let l,a=X(null);wn(async()=>{const b=new URLSearchParams(window.location.search),g=Number.parseInt(b.get("level")??"1",10),re=Number.isInteger(g)&&g>0?g:1,et=b.get("levelsUrl"),W=b.get("test")==="true";hl(o),l=new gl(o),l.attach(),on.set(Cr.getCompletedLevels());let tt=null;if(W){const ie=await u();tt=ie.levels,tt||St.set(ie.error??"Failed to load test level. Make sure the test server is running on port 3001.")}else if(et){const ie=await f(et);tt=ie.levels,tt||St.set(ie.error??`Failed to load levels from ${et}. Using default levels instead.`)}try{await o.init(tt,re),Ui.set(o.getLevels())}catch(ie){console.error("Failed to initialize game engine",ie);const _t=x(ie);_t?Ct.set(_t):St.set("Failed to initialize game engine. Please reload and try again.")}}),Di(()=>{l&&l.detach()});async function f(b){try{const g=await fetch(b);if(!g.ok)return{levels:null,error:`Failed to fetch levels (${g.status}). Using default levels instead.`};const re=await g.json();return c(re)?{levels:re}:{levels:null,error:"Levels file has an invalid schema. Using default levels instead."}}catch(g){return console.error("Failed to fetch custom levels",g),{levels:null,error:"Network, CORS, or JSON error while loading levels. Using default levels instead."}}}async function u(){try{const b=await fetch("http://localhost:3001/api/test-level");if(!b.ok)return{levels:null,error:`Failed to fetch test level (${b.status}). Make sure the test server is running (npm run server).`};const g=await b.json();return h(g)?{levels:[g]}:{levels:null,error:"Test level has an invalid schema."}}catch(b){return console.error("Failed to fetch test level",b),{levels:null,error:"Failed to connect to test server. Make sure it is running on port 3001 (npm run server)."}}}const d=new Set(["North","South","East","West"]);function c(b){return Array.isArray(b)?b.every(g=>h(g)):!1}function h(b){if(!b||typeof b!="object")return!1;const g=b;return!(!y(g.id)||typeof g.name!="string"||g.difficulty!==void 0&&typeof g.difficulty!="string"||!S(g.gridSize)||!p(g.snake)||!p(g.obstacles)||!p(g.food)||!m(g.exit)||typeof g.snakeDirection!="string"||!d.has(g.snakeDirection)||!v(g.floatingFood)||!v(g.fallingFood)||!v(g.stones)||!v(g.spikes)||g.exitIsSolid!==void 0&&typeof g.exitIsSolid!="boolean"||!y(g.totalFood))}function v(b){return b===void 0?!0:p(b)}function p(b){return Array.isArray(b)&&b.every(g=>m(g))}function m(b){if(!b||typeof b!="object")return!1;const g=b;return y(g.x)&&y(g.y)}function S(b){if(!b||typeof b!="object")return!1;const g=b;return y(g.width)&&y(g.height)}function y(b){return typeof b=="number"&&Number.isFinite(b)}function x(b){if(!b||typeof b!="object")return null;const g=b;return typeof g.kind!="string"||typeof g.message!="string"?null:g}pe(()=>(n(),_(a),r(),on),()=>{if(n().status!=="LevelComplete")P(a,null);else if(r()&&_(a)!==r().id){P(a,r().id);const b=Cr.markCompleted(r().id);on.set(b)}}),Jt();var $={$set:K,$on:(b,g)=>Y(t,b,g)};_e();var z=jl(),E=Pe(z);Wi(E,{});var w=I(E,2);rs(w,{get gameEngine(){return o}}),L(e,z);var R=q($);return s(),R}or(is,{target:document.getElementById("app")});
